{"dependencies":[{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":26,"index":26}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":27},"end":{"line":2,"column":69,"index":96}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":97},"end":{"line":3,"column":39,"index":136}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _axios = require(_dependencyMap[0], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _expoConstants = require(_dependencyMap[2], \"expo-constants\");\n  var Constants = _interopDefault(_expoConstants);\n  // For local/forked environments, use relative path so it uses the same host\n  // For production, EXPO_PUBLIC_BACKEND_URL should be set explicitly\n  const backendUrl = Constants.default.expoConfig?.extra?.backendUrl || process.env.EXPO_PUBLIC_BACKEND_URL;\n  const API_URL = backendUrl && backendUrl.trim() !== '' ? backendUrl : '';\n  console.log('[API] Backend URL from env:', process.env.EXPO_PUBLIC_BACKEND_URL);\n  console.log('[API] Backend URL from Constants:', Constants.default.expoConfig?.extra?.backendUrl);\n  console.log('[API] Final API_URL:', API_URL);\n  console.log('[API] Full baseURL:', API_URL ? `${API_URL}/api` : '/api');\n  const api = axios.default.create({\n    baseURL: API_URL ? `${API_URL}/api` : '/api',\n    timeout: 30000,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n\n  // Request interceptor to add auth token\n  api.interceptors.request.use(async config => {\n    const token = await AsyncStorage.default.getItem('session_token');\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n    return config;\n  }, error => {\n    return Promise.reject(error);\n  });\n\n  // Response interceptor to handle errors\n  api.interceptors.response.use(response => response, async error => {\n    if (error.response?.status === 401) {\n      // Token expired or invalid\n      await AsyncStorage.default.removeItem('session_token');\n      await AsyncStorage.default.removeItem('user_data');\n      // You might want to redirect to login here\n    }\n    return Promise.reject(error);\n  });\n  var _default = api;\n});","lineCount":62,"map":[[12,2,51,0,"Object"],[12,8,51,0],[12,9,51,0,"defineProperty"],[12,23,51,0],[12,24,51,0,"exports"],[12,31,51,0],[13,4,51,0,"enumerable"],[13,14,51,0],[14,4,51,0,"get"],[14,7,51,0],[14,18,51,0,"get"],[14,19,51,0],[15,6,51,0],[15,13,51,0,"_default"],[15,21,51,0],[16,4,51,0],[17,2,51,0],[18,2,1,0],[18,6,1,0,"_axios"],[18,12,1,0],[18,15,1,0,"require"],[18,22,1,0],[18,23,1,0,"_dependencyMap"],[18,37,1,0],[19,2,1,0],[19,6,1,0,"axios"],[19,11,1,0],[19,14,1,0,"_interopDefault"],[19,29,1,0],[19,30,1,0,"_axios"],[19,36,1,0],[20,2,2,0],[20,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[20,42,2,0],[20,45,2,0,"require"],[20,52,2,0],[20,53,2,0,"_dependencyMap"],[20,67,2,0],[21,2,2,0],[21,6,2,0,"AsyncStorage"],[21,18,2,0],[21,21,2,0,"_interopDefault"],[21,36,2,0],[21,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[21,73,2,0],[22,2,3,0],[22,6,3,0,"_expoConstants"],[22,20,3,0],[22,23,3,0,"require"],[22,30,3,0],[22,31,3,0,"_dependencyMap"],[22,45,3,0],[23,2,3,0],[23,6,3,0,"Constants"],[23,15,3,0],[23,18,3,0,"_interopDefault"],[23,33,3,0],[23,34,3,0,"_expoConstants"],[23,48,3,0],[24,2,5,0],[25,2,6,0],[26,2,7,0],[26,8,7,6,"backendUrl"],[26,18,7,16],[26,21,7,19,"Constants"],[26,30,7,28],[26,31,7,28,"default"],[26,38,7,28],[26,39,7,29,"expoConfig"],[26,49,7,39],[26,51,7,41,"extra"],[26,56,7,46],[26,58,7,48,"backendUrl"],[26,68,7,58],[26,72,7,62,"process"],[26,79,7,69],[26,80,7,70,"env"],[26,83,7,73],[26,84,7,74,"EXPO_PUBLIC_BACKEND_URL"],[26,107,7,97],[27,2,8,0],[27,8,8,6,"API_URL"],[27,15,8,13],[27,18,8,16,"backendUrl"],[27,28,8,26],[27,32,8,30,"backendUrl"],[27,42,8,40],[27,43,8,41,"trim"],[27,47,8,45],[27,48,8,46],[27,49,8,47],[27,54,8,52],[27,56,8,54],[27,59,8,57,"backendUrl"],[27,69,8,67],[27,72,8,70],[27,74,8,72],[28,2,10,0,"console"],[28,9,10,7],[28,10,10,8,"log"],[28,13,10,11],[28,14,10,12],[28,43,10,41],[28,45,10,43,"process"],[28,52,10,50],[28,53,10,51,"env"],[28,56,10,54],[28,57,10,55,"EXPO_PUBLIC_BACKEND_URL"],[28,80,10,78],[28,81,10,79],[29,2,11,0,"console"],[29,9,11,7],[29,10,11,8,"log"],[29,13,11,11],[29,14,11,12],[29,49,11,47],[29,51,11,49,"Constants"],[29,60,11,58],[29,61,11,58,"default"],[29,68,11,58],[29,69,11,59,"expoConfig"],[29,79,11,69],[29,81,11,71,"extra"],[29,86,11,76],[29,88,11,78,"backendUrl"],[29,98,11,88],[29,99,11,89],[30,2,12,0,"console"],[30,9,12,7],[30,10,12,8,"log"],[30,13,12,11],[30,14,12,12],[30,36,12,34],[30,38,12,36,"API_URL"],[30,45,12,43],[30,46,12,44],[31,2,13,0,"console"],[31,9,13,7],[31,10,13,8,"log"],[31,13,13,11],[31,14,13,12],[31,35,13,33],[31,37,13,35,"API_URL"],[31,44,13,42],[31,47,13,45],[31,50,13,48,"API_URL"],[31,57,13,55],[31,63,13,61],[31,66,13,64],[31,72,13,70],[31,73,13,71],[32,2,15,0],[32,8,15,6,"api"],[32,11,15,9],[32,14,15,12,"axios"],[32,19,15,17],[32,20,15,17,"default"],[32,27,15,17],[32,28,15,18,"create"],[32,34,15,24],[32,35,15,25],[33,4,16,2,"baseURL"],[33,11,16,9],[33,13,16,11,"API_URL"],[33,20,16,18],[33,23,16,21],[33,26,16,24,"API_URL"],[33,33,16,31],[33,39,16,37],[33,42,16,40],[33,48,16,46],[34,4,17,2,"timeout"],[34,11,17,9],[34,13,17,11],[34,18,17,16],[35,4,18,2,"headers"],[35,11,18,9],[35,13,18,11],[36,6,19,4],[36,20,19,18],[36,22,19,20],[37,4,20,2],[38,2,21,0],[38,3,21,1],[38,4,21,2],[40,2,23,0],[41,2,24,0,"api"],[41,5,24,3],[41,6,24,4,"interceptors"],[41,18,24,16],[41,19,24,17,"request"],[41,26,24,24],[41,27,24,25,"use"],[41,30,24,28],[41,31,25,2],[41,37,25,9,"config"],[41,43,25,15],[41,47,25,20],[42,4,26,4],[42,10,26,10,"token"],[42,15,26,15],[42,18,26,18],[42,24,26,24,"AsyncStorage"],[42,36,26,36],[42,37,26,36,"default"],[42,44,26,36],[42,45,26,37,"getItem"],[42,52,26,44],[42,53,26,45],[42,68,26,60],[42,69,26,61],[43,4,27,4],[43,8,27,8,"token"],[43,13,27,13],[43,15,27,15],[44,6,28,6,"config"],[44,12,28,12],[44,13,28,13,"headers"],[44,20,28,20],[44,21,28,21,"Authorization"],[44,34,28,34],[44,37,28,37],[44,47,28,47,"token"],[44,52,28,52],[44,54,28,54],[45,4,29,4],[46,4,30,4],[46,11,30,11,"config"],[46,17,30,17],[47,2,31,2],[47,3,31,3],[47,5,32,3,"error"],[47,10,32,8],[47,14,32,13],[48,4,33,4],[48,11,33,11,"Promise"],[48,18,33,18],[48,19,33,19,"reject"],[48,25,33,25],[48,26,33,26,"error"],[48,31,33,31],[48,32,33,32],[49,2,34,2],[49,3,35,0],[49,4,35,1],[51,2,37,0],[52,2,38,0,"api"],[52,5,38,3],[52,6,38,4,"interceptors"],[52,18,38,16],[52,19,38,17,"response"],[52,27,38,25],[52,28,38,26,"use"],[52,31,38,29],[52,32,39,3,"response"],[52,40,39,11],[52,44,39,16,"response"],[52,52,39,24],[52,54,40,2],[52,60,40,9,"error"],[52,65,40,14],[52,69,40,19],[53,4,41,4],[53,8,41,8,"error"],[53,13,41,13],[53,14,41,14,"response"],[53,22,41,22],[53,24,41,24,"status"],[53,30,41,30],[53,35,41,35],[53,38,41,38],[53,40,41,40],[54,6,42,6],[55,6,43,6],[55,12,43,12,"AsyncStorage"],[55,24,43,24],[55,25,43,24,"default"],[55,32,43,24],[55,33,43,25,"removeItem"],[55,43,43,35],[55,44,43,36],[55,59,43,51],[55,60,43,52],[56,6,44,6],[56,12,44,12,"AsyncStorage"],[56,24,44,24],[56,25,44,24,"default"],[56,32,44,24],[56,33,44,25,"removeItem"],[56,43,44,35],[56,44,44,36],[56,55,44,47],[56,56,44,48],[57,6,45,6],[58,4,46,4],[59,4,47,4],[59,11,47,11,"Promise"],[59,18,47,18],[59,19,47,19,"reject"],[59,25,47,25],[59,26,47,26,"error"],[59,31,47,31],[59,32,47,32],[60,2,48,2],[60,3,49,0],[60,4,49,1],[61,2,51,0],[61,6,51,0,"_default"],[61,14,51,0],[61,17,51,15,"api"],[61,20,51,18],[62,0,51,19],[62,3]],"functionMap":{"names":["<global>","interceptors.request.use$argument_0","interceptors.request.use$argument_1","interceptors.response.use$argument_0","interceptors.response.use$argument_1"],"mappings":"AAA;ECwB;GDM;EEC;GFE;EGK,sBH;EIC;GJQ"},"hasCjsExports":false},"type":"js/module"}]}