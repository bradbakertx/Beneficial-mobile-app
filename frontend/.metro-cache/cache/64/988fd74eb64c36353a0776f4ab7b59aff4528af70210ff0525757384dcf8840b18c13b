{"dependencies":[{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":26,"index":26}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":27},"end":{"line":2,"column":69,"index":96}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":97},"end":{"line":3,"column":39,"index":136}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _axios = require(_dependencyMap[0], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _expoConstants = require(_dependencyMap[2], \"expo-constants\");\n  var Constants = _interopDefault(_expoConstants);\n  // For local/forked environments, use relative path so it uses the same host\n  // For production, EXPO_PUBLIC_BACKEND_URL should be set explicitly\n  const backendUrl = Constants.default.expoConfig?.extra?.backendUrl || process.env.EXPO_PUBLIC_BACKEND_URL;\n  const API_URL = backendUrl && backendUrl.trim() !== '' ? backendUrl : '';\n  const api = axios.default.create({\n    baseURL: API_URL ? `${API_URL}/api` : '/api',\n    timeout: 30000,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n\n  // Request interceptor to add auth token\n  api.interceptors.request.use(async config => {\n    const token = await AsyncStorage.default.getItem('session_token');\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n    return config;\n  }, error => {\n    return Promise.reject(error);\n  });\n\n  // Response interceptor to handle errors\n  api.interceptors.response.use(response => response, async error => {\n    if (error.response?.status === 401) {\n      // Token expired or invalid\n      await AsyncStorage.default.removeItem('session_token');\n      await AsyncStorage.default.removeItem('user_data');\n      // You might want to redirect to login here\n    }\n    return Promise.reject(error);\n  });\n  var _default = api;\n});","lineCount":58,"map":[[12,2,46,0,"Object"],[12,8,46,0],[12,9,46,0,"defineProperty"],[12,23,46,0],[12,24,46,0,"exports"],[12,31,46,0],[13,4,46,0,"enumerable"],[13,14,46,0],[14,4,46,0,"get"],[14,7,46,0],[14,18,46,0,"get"],[14,19,46,0],[15,6,46,0],[15,13,46,0,"_default"],[15,21,46,0],[16,4,46,0],[17,2,46,0],[18,2,1,0],[18,6,1,0,"_axios"],[18,12,1,0],[18,15,1,0,"require"],[18,22,1,0],[18,23,1,0,"_dependencyMap"],[18,37,1,0],[19,2,1,0],[19,6,1,0,"axios"],[19,11,1,0],[19,14,1,0,"_interopDefault"],[19,29,1,0],[19,30,1,0,"_axios"],[19,36,1,0],[20,2,2,0],[20,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[20,42,2,0],[20,45,2,0,"require"],[20,52,2,0],[20,53,2,0,"_dependencyMap"],[20,67,2,0],[21,2,2,0],[21,6,2,0,"AsyncStorage"],[21,18,2,0],[21,21,2,0,"_interopDefault"],[21,36,2,0],[21,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[21,73,2,0],[22,2,3,0],[22,6,3,0,"_expoConstants"],[22,20,3,0],[22,23,3,0,"require"],[22,30,3,0],[22,31,3,0,"_dependencyMap"],[22,45,3,0],[23,2,3,0],[23,6,3,0,"Constants"],[23,15,3,0],[23,18,3,0,"_interopDefault"],[23,33,3,0],[23,34,3,0,"_expoConstants"],[23,48,3,0],[24,2,5,0],[25,2,6,0],[26,2,7,0],[26,8,7,6,"backendUrl"],[26,18,7,16],[26,21,7,19,"Constants"],[26,30,7,28],[26,31,7,28,"default"],[26,38,7,28],[26,39,7,29,"expoConfig"],[26,49,7,39],[26,51,7,41,"extra"],[26,56,7,46],[26,58,7,48,"backendUrl"],[26,68,7,58],[26,72,7,62,"process"],[26,79,7,69],[26,80,7,70,"env"],[26,83,7,73],[26,84,7,74,"EXPO_PUBLIC_BACKEND_URL"],[26,107,7,97],[27,2,8,0],[27,8,8,6,"API_URL"],[27,15,8,13],[27,18,8,16,"backendUrl"],[27,28,8,26],[27,32,8,30,"backendUrl"],[27,42,8,40],[27,43,8,41,"trim"],[27,47,8,45],[27,48,8,46],[27,49,8,47],[27,54,8,52],[27,56,8,54],[27,59,8,57,"backendUrl"],[27,69,8,67],[27,72,8,70],[27,74,8,72],[28,2,10,0],[28,8,10,6,"api"],[28,11,10,9],[28,14,10,12,"axios"],[28,19,10,17],[28,20,10,17,"default"],[28,27,10,17],[28,28,10,18,"create"],[28,34,10,24],[28,35,10,25],[29,4,11,2,"baseURL"],[29,11,11,9],[29,13,11,11,"API_URL"],[29,20,11,18],[29,23,11,21],[29,26,11,24,"API_URL"],[29,33,11,31],[29,39,11,37],[29,42,11,40],[29,48,11,46],[30,4,12,2,"timeout"],[30,11,12,9],[30,13,12,11],[30,18,12,16],[31,4,13,2,"headers"],[31,11,13,9],[31,13,13,11],[32,6,14,4],[32,20,14,18],[32,22,14,20],[33,4,15,2],[34,2,16,0],[34,3,16,1],[34,4,16,2],[36,2,18,0],[37,2,19,0,"api"],[37,5,19,3],[37,6,19,4,"interceptors"],[37,18,19,16],[37,19,19,17,"request"],[37,26,19,24],[37,27,19,25,"use"],[37,30,19,28],[37,31,20,2],[37,37,20,9,"config"],[37,43,20,15],[37,47,20,20],[38,4,21,4],[38,10,21,10,"token"],[38,15,21,15],[38,18,21,18],[38,24,21,24,"AsyncStorage"],[38,36,21,36],[38,37,21,36,"default"],[38,44,21,36],[38,45,21,37,"getItem"],[38,52,21,44],[38,53,21,45],[38,68,21,60],[38,69,21,61],[39,4,22,4],[39,8,22,8,"token"],[39,13,22,13],[39,15,22,15],[40,6,23,6,"config"],[40,12,23,12],[40,13,23,13,"headers"],[40,20,23,20],[40,21,23,21,"Authorization"],[40,34,23,34],[40,37,23,37],[40,47,23,47,"token"],[40,52,23,52],[40,54,23,54],[41,4,24,4],[42,4,25,4],[42,11,25,11,"config"],[42,17,25,17],[43,2,26,2],[43,3,26,3],[43,5,27,3,"error"],[43,10,27,8],[43,14,27,13],[44,4,28,4],[44,11,28,11,"Promise"],[44,18,28,18],[44,19,28,19,"reject"],[44,25,28,25],[44,26,28,26,"error"],[44,31,28,31],[44,32,28,32],[45,2,29,2],[45,3,30,0],[45,4,30,1],[47,2,32,0],[48,2,33,0,"api"],[48,5,33,3],[48,6,33,4,"interceptors"],[48,18,33,16],[48,19,33,17,"response"],[48,27,33,25],[48,28,33,26,"use"],[48,31,33,29],[48,32,34,3,"response"],[48,40,34,11],[48,44,34,16,"response"],[48,52,34,24],[48,54,35,2],[48,60,35,9,"error"],[48,65,35,14],[48,69,35,19],[49,4,36,4],[49,8,36,8,"error"],[49,13,36,13],[49,14,36,14,"response"],[49,22,36,22],[49,24,36,24,"status"],[49,30,36,30],[49,35,36,35],[49,38,36,38],[49,40,36,40],[50,6,37,6],[51,6,38,6],[51,12,38,12,"AsyncStorage"],[51,24,38,24],[51,25,38,24,"default"],[51,32,38,24],[51,33,38,25,"removeItem"],[51,43,38,35],[51,44,38,36],[51,59,38,51],[51,60,38,52],[52,6,39,6],[52,12,39,12,"AsyncStorage"],[52,24,39,24],[52,25,39,24,"default"],[52,32,39,24],[52,33,39,25,"removeItem"],[52,43,39,35],[52,44,39,36],[52,55,39,47],[52,56,39,48],[53,6,40,6],[54,4,41,4],[55,4,42,4],[55,11,42,11,"Promise"],[55,18,42,18],[55,19,42,19,"reject"],[55,25,42,25],[55,26,42,26,"error"],[55,31,42,31],[55,32,42,32],[56,2,43,2],[56,3,44,0],[56,4,44,1],[57,2,46,0],[57,6,46,0,"_default"],[57,14,46,0],[57,17,46,15,"api"],[57,20,46,18],[58,0,46,19],[58,3]],"functionMap":{"names":["<global>","interceptors.request.use$argument_0","interceptors.request.use$argument_1","interceptors.response.use$argument_0","interceptors.response.use$argument_1"],"mappings":"AAA;ECmB;GDM;EEC;GFE;EGK,sBH;EIC;GJQ"},"hasCjsExports":false},"type":"js/module"}]}