{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":26,"index":26}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":27},"end":{"line":2,"column":69,"index":96}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":97},"end":{"line":3,"column":39,"index":136}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _expoVirtualEnv = require(_dependencyMap[1], \"expo/virtual/env\");\n  var _axios = require(_dependencyMap[2], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[3], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _expoConstants = require(_dependencyMap[4], \"expo-constants\");\n  var Constants = _interopDefault(_expoConstants);\n  // For local/forked environments, use relative path so it uses the same host\n  // For production, EXPO_PUBLIC_BACKEND_URL should be set explicitly\n  var backendUrl = Constants.default.expoConfig?.extra?.backendUrl || _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL;\n  var API_URL = backendUrl && backendUrl.trim() !== '' ? backendUrl : '';\n  var api = axios.default.create({\n    baseURL: API_URL ? `${API_URL}/api` : '/api',\n    timeout: 30000,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n\n  // Request interceptor to add auth token\n  api.interceptors.request.use(/*#__PURE__*/function () {\n    var _ref = (0, _asyncToGenerator.default)(function* (config) {\n      var token = yield AsyncStorage.default.getItem('session_token');\n      if (token) {\n        config.headers.Authorization = `Bearer ${token}`;\n      }\n      return config;\n    });\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }(), error => {\n    return Promise.reject(error);\n  });\n\n  // Response interceptor to handle errors\n  api.interceptors.response.use(response => response, /*#__PURE__*/function () {\n    var _ref2 = (0, _asyncToGenerator.default)(function* (error) {\n      if (error.response?.status === 401) {\n        // Token expired or invalid\n        yield AsyncStorage.default.removeItem('session_token');\n        yield AsyncStorage.default.removeItem('user_data');\n        // You might want to redirect to login here\n      }\n      return Promise.reject(error);\n    });\n    return function (_x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }());\n  var _default = api;\n});","lineCount":71,"map":[[12,2,46,0,"Object"],[12,8,46,0],[12,9,46,0,"defineProperty"],[12,23,46,0],[12,24,46,0,"exports"],[12,31,46,0],[13,4,46,0,"enumerable"],[13,14,46,0],[14,4,46,0,"get"],[14,7,46,0],[14,18,46,0,"get"],[14,19,46,0],[15,6,46,0],[15,13,46,0,"_default"],[15,21,46,0],[16,4,46,0],[17,2,46,0],[18,2,46,19],[18,6,46,19,"_babelRuntimeHelpersAsyncToGenerator"],[18,42,46,19],[18,45,46,19,"require"],[18,52,46,19],[18,53,46,19,"_dependencyMap"],[18,67,46,19],[19,2,46,19],[19,6,46,19,"_asyncToGenerator"],[19,23,46,19],[19,26,46,19,"_interopDefault"],[19,41,46,19],[19,42,46,19,"_babelRuntimeHelpersAsyncToGenerator"],[19,78,46,19],[20,2,46,19],[20,6,46,19,"_expoVirtualEnv"],[20,21,46,19],[20,24,46,19,"require"],[20,31,46,19],[20,32,46,19,"_dependencyMap"],[20,46,46,19],[21,2,1,0],[21,6,1,0,"_axios"],[21,12,1,0],[21,15,1,0,"require"],[21,22,1,0],[21,23,1,0,"_dependencyMap"],[21,37,1,0],[22,2,1,0],[22,6,1,0,"axios"],[22,11,1,0],[22,14,1,0,"_interopDefault"],[22,29,1,0],[22,30,1,0,"_axios"],[22,36,1,0],[23,2,2,0],[23,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[23,42,2,0],[23,45,2,0,"require"],[23,52,2,0],[23,53,2,0,"_dependencyMap"],[23,67,2,0],[24,2,2,0],[24,6,2,0,"AsyncStorage"],[24,18,2,0],[24,21,2,0,"_interopDefault"],[24,36,2,0],[24,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[24,73,2,0],[25,2,3,0],[25,6,3,0,"_expoConstants"],[25,20,3,0],[25,23,3,0,"require"],[25,30,3,0],[25,31,3,0,"_dependencyMap"],[25,45,3,0],[26,2,3,0],[26,6,3,0,"Constants"],[26,15,3,0],[26,18,3,0,"_interopDefault"],[26,33,3,0],[26,34,3,0,"_expoConstants"],[26,48,3,0],[27,2,5,0],[28,2,6,0],[29,2,7,0],[29,6,7,6,"backendUrl"],[29,16,7,16],[29,19,7,19,"Constants"],[29,28,7,28],[29,29,7,28,"default"],[29,36,7,28],[29,37,7,29,"expoConfig"],[29,47,7,39],[29,49,7,41,"extra"],[29,54,7,46],[29,56,7,48,"backendUrl"],[29,66,7,58],[29,70,7,58,"_expoVirtualEnv"],[29,85,7,58],[29,86,7,58,"env"],[29,89,7,58],[29,90,7,58,"EXPO_PUBLIC_BACKEND_URL"],[29,113,7,97],[30,2,8,0],[30,6,8,6,"API_URL"],[30,13,8,13],[30,16,8,16,"backendUrl"],[30,26,8,26],[30,30,8,30,"backendUrl"],[30,40,8,40],[30,41,8,41,"trim"],[30,45,8,45],[30,46,8,46],[30,47,8,47],[30,52,8,52],[30,54,8,54],[30,57,8,57,"backendUrl"],[30,67,8,67],[30,70,8,70],[30,72,8,72],[31,2,10,0],[31,6,10,6,"api"],[31,9,10,9],[31,12,10,12,"axios"],[31,17,10,17],[31,18,10,17,"default"],[31,25,10,17],[31,26,10,18,"create"],[31,32,10,24],[31,33,10,25],[32,4,11,2,"baseURL"],[32,11,11,9],[32,13,11,11,"API_URL"],[32,20,11,18],[32,23,11,21],[32,26,11,24,"API_URL"],[32,33,11,31],[32,39,11,37],[32,42,11,40],[32,48,11,46],[33,4,12,2,"timeout"],[33,11,12,9],[33,13,12,11],[33,18,12,16],[34,4,13,2,"headers"],[34,11,13,9],[34,13,13,11],[35,6,14,4],[35,20,14,18],[35,22,14,20],[36,4,15,2],[37,2,16,0],[37,3,16,1],[37,4,16,2],[39,2,18,0],[40,2,19,0,"api"],[40,5,19,3],[40,6,19,4,"interceptors"],[40,18,19,16],[40,19,19,17,"request"],[40,26,19,24],[40,27,19,25,"use"],[40,30,19,28],[41,4,19,28],[41,8,19,28,"_ref"],[41,12,19,28],[41,19,19,28,"_asyncToGenerator"],[41,36,19,28],[41,37,19,28,"default"],[41,44,19,28],[41,46,20,2],[41,57,20,9,"config"],[41,63,20,15],[41,65,20,20],[42,6,21,4],[42,10,21,10,"token"],[42,15,21,15],[42,24,21,24,"AsyncStorage"],[42,36,21,36],[42,37,21,36,"default"],[42,44,21,36],[42,45,21,37,"getItem"],[42,52,21,44],[42,53,21,45],[42,68,21,60],[42,69,21,61],[43,6,22,4],[43,10,22,8,"token"],[43,15,22,13],[43,17,22,15],[44,8,23,6,"config"],[44,14,23,12],[44,15,23,13,"headers"],[44,22,23,20],[44,23,23,21,"Authorization"],[44,36,23,34],[44,39,23,37],[44,49,23,47,"token"],[44,54,23,52],[44,56,23,54],[45,6,24,4],[46,6,25,4],[46,13,25,11,"config"],[46,19,25,17],[47,4,26,2],[47,5,26,3],[48,4,26,3],[48,21,26,3,"_x"],[48,23,26,3],[49,6,26,3],[49,13,26,3,"_ref"],[49,17,26,3],[49,18,26,3,"apply"],[49,23,26,3],[49,30,26,3,"arguments"],[49,39,26,3],[50,4,26,3],[51,2,26,3],[51,7,27,3,"error"],[51,12,27,8],[51,16,27,13],[52,4,28,4],[52,11,28,11,"Promise"],[52,18,28,18],[52,19,28,19,"reject"],[52,25,28,25],[52,26,28,26,"error"],[52,31,28,31],[52,32,28,32],[53,2,29,2],[53,3,30,0],[53,4,30,1],[55,2,32,0],[56,2,33,0,"api"],[56,5,33,3],[56,6,33,4,"interceptors"],[56,18,33,16],[56,19,33,17,"response"],[56,27,33,25],[56,28,33,26,"use"],[56,31,33,29],[56,32,34,3,"response"],[56,40,34,11],[56,44,34,16,"response"],[56,52,34,24],[57,4,34,24],[57,8,34,24,"_ref2"],[57,13,34,24],[57,20,34,24,"_asyncToGenerator"],[57,37,34,24],[57,38,34,24,"default"],[57,45,34,24],[57,47,35,2],[57,58,35,9,"error"],[57,63,35,14],[57,65,35,19],[58,6,36,4],[58,10,36,8,"error"],[58,15,36,13],[58,16,36,14,"response"],[58,24,36,22],[58,26,36,24,"status"],[58,32,36,30],[58,37,36,35],[58,40,36,38],[58,42,36,40],[59,8,37,6],[60,8,38,6],[60,14,38,12,"AsyncStorage"],[60,26,38,24],[60,27,38,24,"default"],[60,34,38,24],[60,35,38,25,"removeItem"],[60,45,38,35],[60,46,38,36],[60,61,38,51],[60,62,38,52],[61,8,39,6],[61,14,39,12,"AsyncStorage"],[61,26,39,24],[61,27,39,24,"default"],[61,34,39,24],[61,35,39,25,"removeItem"],[61,45,39,35],[61,46,39,36],[61,57,39,47],[61,58,39,48],[62,8,40,6],[63,6,41,4],[64,6,42,4],[64,13,42,11,"Promise"],[64,20,42,18],[64,21,42,19,"reject"],[64,27,42,25],[64,28,42,26,"error"],[64,33,42,31],[64,34,42,32],[65,4,43,2],[65,5,43,3],[66,4,43,3],[66,21,43,3,"_x2"],[66,24,43,3],[67,6,43,3],[67,13,43,3,"_ref2"],[67,18,43,3],[67,19,43,3,"apply"],[67,24,43,3],[67,31,43,3,"arguments"],[67,40,43,3],[68,4,43,3],[69,2,43,3],[69,5,44,0],[69,6,44,1],[70,2,46,0],[70,6,46,0,"_default"],[70,14,46,0],[70,17,46,15,"api"],[70,20,46,18],[71,0,46,19],[71,3]],"functionMap":{"names":["<global>","interceptors.request.use$argument_0","interceptors.request.use$argument_1","interceptors.response.use$argument_0","interceptors.response.use$argument_1"],"mappings":"AAA;ECmB;GDM;EEC;GFE;EGK,sBH;EIC;GJQ"},"hasCjsExports":false},"type":"js/module"}]}