{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../services/auth.service","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":61,"index":140}}],"key":"OAwOj13pryMi7HegghVkxChHnhI=","exportNames":["*"],"imports":1}},{"name":"../store/authStore","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":141},"end":{"line":3,"column":50,"index":191}}],"key":"/4BDl/hqolvw7T4CXD8jWAtZK4M=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _servicesAuthService = require(_dependencyMap[1], \"../services/auth.service\");\n  var authService = _interopDefault(_servicesAuthService);\n  var _storeAuthStore = require(_dependencyMap[2], \"../store/authStore\");\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const AuthProvider = ({\n    children\n  }) => {\n    const {\n      user,\n      isLoading,\n      isAuthenticated,\n      setUser,\n      setLoading,\n      logout: storeLogout\n    } = (0, _storeAuthStore.useAuthStore)();\n    (0, _react.useEffect)(() => {\n      checkAuth();\n    }, []);\n    const checkAuth = async () => {\n      try {\n        setLoading(true);\n        const token = await authService.default.getToken();\n        if (token) {\n          const currentUser = await authService.default.getCurrentUser();\n          if (currentUser) {\n            setUser(currentUser);\n          } else {\n            setUser(null);\n          }\n        } else {\n          setUser(null);\n        }\n      } catch (error) {\n        console.error('Auth check error:', error);\n        setUser(null);\n      } finally {\n        setLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      try {\n        const {\n          user\n        } = await authService.default.login({\n          email,\n          password\n        });\n        setUser(user);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    };\n    const register = async data => {\n      try {\n        const {\n          user\n        } = await authService.default.register(data);\n        setUser(user);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Registration failed');\n      }\n    };\n    const logout = async () => {\n      await authService.default.logout();\n      storeLogout();\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        isLoading,\n        isAuthenticated,\n        login,\n        register,\n        logout\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 5\n    }, this);\n  };\n  const useAuth = () => {\n    const context = (0, _react.useContext)(AuthContext);\n    if (!context) {\n      throw new Error('useAuth must be used within AuthProvider');\n    }\n    return context;\n  };\n});","lineCount":116,"map":[[13,2,16,0,"Object"],[13,8,16,0],[13,9,16,0,"defineProperty"],[13,23,16,0],[13,24,16,0,"exports"],[13,31,16,0],[14,4,16,0,"enumerable"],[14,14,16,0],[15,4,16,0,"get"],[15,7,16,0],[15,18,16,0,"get"],[15,19,16,0],[16,6,16,0],[16,13,16,0,"AuthProvider"],[16,25,16,0],[17,4,16,0],[18,2,16,0],[19,2,76,0,"Object"],[19,8,76,0],[19,9,76,0,"defineProperty"],[19,23,76,0],[19,24,76,0,"exports"],[19,31,76,0],[20,4,76,0,"enumerable"],[20,14,76,0],[21,4,76,0,"get"],[21,7,76,0],[21,18,76,0,"get"],[21,19,76,0],[22,6,76,0],[22,13,76,0,"useAuth"],[22,20,76,0],[23,4,76,0],[24,2,76,0],[25,2,1,0],[25,6,1,0,"_react"],[25,12,1,0],[25,15,1,0,"require"],[25,22,1,0],[25,23,1,0,"_dependencyMap"],[25,37,1,0],[26,2,2,0],[26,6,2,0,"_servicesAuthService"],[26,26,2,0],[26,29,2,0,"require"],[26,36,2,0],[26,37,2,0,"_dependencyMap"],[26,51,2,0],[27,2,2,0],[27,6,2,0,"authService"],[27,17,2,0],[27,20,2,0,"_interopDefault"],[27,35,2,0],[27,36,2,0,"_servicesAuthService"],[27,56,2,0],[28,2,3,0],[28,6,3,0,"_storeAuthStore"],[28,21,3,0],[28,24,3,0,"require"],[28,31,3,0],[28,32,3,0,"_dependencyMap"],[28,46,3,0],[29,2,3,50],[29,6,3,50,"_reactJsxDevRuntime"],[29,25,3,50],[29,28,3,50,"require"],[29,35,3,50],[29,36,3,50,"_dependencyMap"],[29,50,3,50],[30,2,14,0],[30,8,14,6,"AuthContext"],[30,19,14,17],[30,35,14,20],[30,39,14,20,"createContext"],[30,45,14,33],[30,46,14,33,"createContext"],[30,59,14,33],[30,61,14,63,"undefined"],[30,70,14,72],[30,71,14,73],[31,2,16,7],[31,8,16,13,"AuthProvider"],[31,20,16,66],[31,23,16,69,"AuthProvider"],[31,24,16,70],[32,4,16,72,"children"],[33,2,16,81],[33,3,16,82],[33,8,16,87],[34,4,17,2],[34,10,17,8],[35,6,17,10,"user"],[35,10,17,14],[36,6,17,16,"isLoading"],[36,15,17,25],[37,6,17,27,"isAuthenticated"],[37,21,17,42],[38,6,17,44,"setUser"],[38,13,17,51],[39,6,17,53,"setLoading"],[39,16,17,63],[40,6,17,65,"logout"],[40,12,17,71],[40,14,17,73,"storeLogout"],[41,4,17,85],[41,5,17,86],[41,8,17,89],[41,12,17,89,"useAuthStore"],[41,27,17,101],[41,28,17,101,"useAuthStore"],[41,40,17,101],[41,42,17,102],[41,43,17,103],[42,4,19,2],[42,8,19,2,"useEffect"],[42,14,19,11],[42,15,19,11,"useEffect"],[42,24,19,11],[42,26,19,12],[42,32,19,18],[43,6,20,4,"checkAuth"],[43,15,20,13],[43,16,20,14],[43,17,20,15],[44,4,21,2],[44,5,21,3],[44,7,21,5],[44,9,21,7],[44,10,21,8],[45,4,23,2],[45,10,23,8,"checkAuth"],[45,19,23,17],[45,22,23,20],[45,28,23,20,"checkAuth"],[45,29,23,20],[45,34,23,32],[46,6,24,4],[46,10,24,8],[47,8,25,6,"setLoading"],[47,18,25,16],[47,19,25,17],[47,23,25,21],[47,24,25,22],[48,8,26,6],[48,14,26,12,"token"],[48,19,26,17],[48,22,26,20],[48,28,26,26,"authService"],[48,39,26,37],[48,40,26,37,"default"],[48,47,26,37],[48,48,26,38,"getToken"],[48,56,26,46],[48,57,26,47],[48,58,26,48],[49,8,28,6],[49,12,28,10,"token"],[49,17,28,15],[49,19,28,17],[50,10,29,8],[50,16,29,14,"currentUser"],[50,27,29,25],[50,30,29,28],[50,36,29,34,"authService"],[50,47,29,45],[50,48,29,45,"default"],[50,55,29,45],[50,56,29,46,"getCurrentUser"],[50,70,29,60],[50,71,29,61],[50,72,29,62],[51,10,30,8],[51,14,30,12,"currentUser"],[51,25,30,23],[51,27,30,25],[52,12,31,10,"setUser"],[52,19,31,17],[52,20,31,18,"currentUser"],[52,31,31,29],[52,32,31,30],[53,10,32,8],[53,11,32,9],[53,17,32,15],[54,12,33,10,"setUser"],[54,19,33,17],[54,20,33,18],[54,24,33,22],[54,25,33,23],[55,10,34,8],[56,8,35,6],[56,9,35,7],[56,15,35,13],[57,10,36,8,"setUser"],[57,17,36,15],[57,18,36,16],[57,22,36,20],[57,23,36,21],[58,8,37,6],[59,6,38,4],[59,7,38,5],[59,8,38,6],[59,15,38,13,"error"],[59,20,38,18],[59,22,38,20],[60,8,39,6,"console"],[60,15,39,13],[60,16,39,14,"error"],[60,21,39,19],[60,22,39,20],[60,41,39,39],[60,43,39,41,"error"],[60,48,39,46],[60,49,39,47],[61,8,40,6,"setUser"],[61,15,40,13],[61,16,40,14],[61,20,40,18],[61,21,40,19],[62,6,41,4],[62,7,41,5],[62,16,41,14],[63,8,42,6,"setLoading"],[63,18,42,16],[63,19,42,17],[63,24,42,22],[63,25,42,23],[64,6,43,4],[65,4,44,2],[65,5,44,3],[66,4,46,2],[66,10,46,8,"login"],[66,15,46,13],[66,18,46,16],[66,24,46,16,"login"],[66,25,46,23,"email"],[66,30,46,36],[66,32,46,38,"password"],[66,40,46,54],[66,45,46,59],[67,6,47,4],[67,10,47,8],[68,8,48,6],[68,14,48,12],[69,10,48,14,"user"],[70,8,48,19],[70,9,48,20],[70,12,48,23],[70,18,48,29,"authService"],[70,29,48,40],[70,30,48,40,"default"],[70,37,48,40],[70,38,48,41,"login"],[70,43,48,46],[70,44,48,47],[71,10,48,49,"email"],[71,15,48,54],[72,10,48,56,"password"],[73,8,48,65],[73,9,48,66],[73,10,48,67],[74,8,49,6,"setUser"],[74,15,49,13],[74,16,49,14,"user"],[74,20,49,18],[74,21,49,19],[75,6,50,4],[75,7,50,5],[75,8,50,6],[75,15,50,13,"error"],[75,20,50,23],[75,22,50,25],[76,8,51,6],[76,14,51,12],[76,18,51,16,"Error"],[76,23,51,21],[76,24,51,22,"error"],[76,29,51,27],[76,30,51,28,"response"],[76,38,51,36],[76,40,51,38,"data"],[76,44,51,42],[76,46,51,44,"detail"],[76,52,51,50],[76,56,51,54],[76,70,51,68],[76,71,51,69],[77,6,52,4],[78,4,53,2],[78,5,53,3],[79,4,55,2],[79,10,55,8,"register"],[79,18,55,16],[79,21,55,19],[79,27,55,26,"data"],[79,31,55,35],[79,35,55,40],[80,6,56,4],[80,10,56,8],[81,8,57,6],[81,14,57,12],[82,10,57,14,"user"],[83,8,57,19],[83,9,57,20],[83,12,57,23],[83,18,57,29,"authService"],[83,29,57,40],[83,30,57,40,"default"],[83,37,57,40],[83,38,57,41,"register"],[83,46,57,49],[83,47,57,50,"data"],[83,51,57,54],[83,52,57,55],[84,8,58,6,"setUser"],[84,15,58,13],[84,16,58,14,"user"],[84,20,58,18],[84,21,58,19],[85,6,59,4],[85,7,59,5],[85,8,59,6],[85,15,59,13,"error"],[85,20,59,23],[85,22,59,25],[86,8,60,6],[86,14,60,12],[86,18,60,16,"Error"],[86,23,60,21],[86,24,60,22,"error"],[86,29,60,27],[86,30,60,28,"response"],[86,38,60,36],[86,40,60,38,"data"],[86,44,60,42],[86,46,60,44,"detail"],[86,52,60,50],[86,56,60,54],[86,77,60,75],[86,78,60,76],[87,6,61,4],[88,4,62,2],[88,5,62,3],[89,4,64,2],[89,10,64,8,"logout"],[89,16,64,14],[89,19,64,17],[89,25,64,17,"logout"],[89,26,64,17],[89,31,64,29],[90,6,65,4],[90,12,65,10,"authService"],[90,23,65,21],[90,24,65,21,"default"],[90,31,65,21],[90,32,65,22,"logout"],[90,38,65,28],[90,39,65,29],[90,40,65,30],[91,6,66,4,"storeLogout"],[91,17,66,15],[91,18,66,16],[91,19,66,17],[92,4,67,2],[92,5,67,3],[93,4,69,2],[93,24,70,4],[93,28,70,4,"_reactJsxDevRuntime"],[93,47,70,4],[93,48,70,4,"jsxDEV"],[93,54,70,4],[93,56,70,5,"AuthContext"],[93,67,70,16],[93,68,70,17,"Provider"],[93,76,70,25],[94,6,70,26,"value"],[94,11,70,31],[94,13,70,33],[95,8,70,35,"user"],[95,12,70,39],[96,8,70,41,"isLoading"],[96,17,70,50],[97,8,70,52,"isAuthenticated"],[97,23,70,67],[98,8,70,69,"login"],[98,13,70,74],[99,8,70,76,"register"],[99,16,70,84],[100,8,70,86,"logout"],[101,6,70,93],[101,7,70,95],[102,6,70,95,"children"],[102,14,70,95],[102,16,71,7,"children"],[103,4,71,15],[104,6,71,15,"fileName"],[104,14,71,15],[104,16,71,15,"_jsxFileName"],[104,28,71,15],[105,6,71,15,"lineNumber"],[105,16,71,15],[106,6,71,15,"columnNumber"],[106,18,71,15],[107,4,71,15],[107,11,72,26],[107,12,72,27],[108,2,74,0],[108,3,74,1],[109,2,76,7],[109,8,76,13,"useAuth"],[109,15,76,20],[109,18,76,23,"useAuth"],[109,19,76,23],[109,24,76,29],[110,4,77,2],[110,10,77,8,"context"],[110,17,77,15],[110,20,77,18],[110,24,77,18,"useContext"],[110,30,77,28],[110,31,77,28,"useContext"],[110,41,77,28],[110,43,77,29,"AuthContext"],[110,54,77,40],[110,55,77,41],[111,4,78,2],[111,8,78,6],[111,9,78,7,"context"],[111,16,78,14],[111,18,78,16],[112,6,79,4],[112,12,79,10],[112,16,79,14,"Error"],[112,21,79,19],[112,22,79,20],[112,64,79,62],[112,65,79,63],[113,4,80,2],[114,4,81,2],[114,11,81,9,"context"],[114,18,81,16],[115,2,82,0],[115,3,82,1],[116,0,82,2],[116,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","checkAuth","login","register","logout","useAuth"],"mappings":"AAA;qECe;YCG;GDE;oBEE;GFqB;gBGE;GHO;mBIE;GJO;iBKE;GLG;CDO;uBOE;CPM"},"hasCjsExports":false},"type":"js/module"}]}