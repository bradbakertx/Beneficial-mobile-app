{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../services/auth.service","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":61,"index":140}}],"key":"OAwOj13pryMi7HegghVkxChHnhI=","exportNames":["*"],"imports":1}},{"name":"../store/authStore","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":141},"end":{"line":3,"column":50,"index":191}}],"key":"/4BDl/hqolvw7T4CXD8jWAtZK4M=","exportNames":["*"],"imports":1}},{"name":"../services/notifications.service","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":192},"end":{"line":4,"column":114,"index":306}}],"key":"wN7e6rqBf7ZuKvH36NXG+/TSRnI=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _react = require(_dependencyMap[1], \"react\");\n  var _servicesAuthService = require(_dependencyMap[2], \"../services/auth.service\");\n  var authService = _interopDefault(_servicesAuthService);\n  var _storeAuthStore = require(_dependencyMap[3], \"../store/authStore\");\n  var _servicesNotificationsService = require(_dependencyMap[4], \"../services/notifications.service\");\n  var _reactJsxDevRuntime = require(_dependencyMap[5], \"react/jsx-dev-runtime\");\n  var AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  var AuthProvider = _ref => {\n    _s();\n    var children = _ref.children;\n    var _useAuthStore = (0, _storeAuthStore.useAuthStore)(),\n      user = _useAuthStore.user,\n      isLoading = _useAuthStore.isLoading,\n      isAuthenticated = _useAuthStore.isAuthenticated,\n      setUser = _useAuthStore.setUser,\n      setLoading = _useAuthStore.setLoading,\n      storeLogout = _useAuthStore.logout;\n    (0, _react.useEffect)(() => {\n      checkAuth();\n    }, []);\n    var checkAuth = /*#__PURE__*/function () {\n      var _ref2 = (0, _asyncToGenerator.default)(function* () {\n        try {\n          setLoading(true);\n          var token = yield authService.default.getToken();\n          if (token) {\n            var currentUser = yield authService.default.getCurrentUser();\n            if (currentUser) {\n              setUser(currentUser);\n            } else {\n              setUser(null);\n            }\n          } else {\n            setUser(null);\n          }\n        } catch (error) {\n          console.error('Auth check error:', error);\n          setUser(null);\n        } finally {\n          setLoading(false);\n        }\n      });\n      return function checkAuth() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n    var login = /*#__PURE__*/function () {\n      var _ref3 = (0, _asyncToGenerator.default)(function* (email, password) {\n        try {\n          var _yield$authService$lo = yield authService.default.login({\n              email,\n              password\n            }),\n            _user = _yield$authService$lo.user;\n          setUser(_user);\n\n          // Register for push notifications after successful login\n          (0, _servicesNotificationsService.registerForPushNotificationsAsync)().catch(error => {\n            console.error('Failed to register for push notifications:', error);\n          });\n        } catch (error) {\n          throw new Error(error.response?.data?.detail || 'Login failed');\n        }\n      });\n      return function login(_x, _x2) {\n        return _ref3.apply(this, arguments);\n      };\n    }();\n    var register = /*#__PURE__*/function () {\n      var _ref4 = (0, _asyncToGenerator.default)(function* (data) {\n        try {\n          var _yield$authService$re = yield authService.default.register(data),\n            _user2 = _yield$authService$re.user;\n          setUser(_user2);\n        } catch (error) {\n          throw new Error(error.response?.data?.detail || 'Registration failed');\n        }\n      });\n      return function register(_x3) {\n        return _ref4.apply(this, arguments);\n      };\n    }();\n    var logout = /*#__PURE__*/function () {\n      var _ref5 = (0, _asyncToGenerator.default)(function* () {\n        yield authService.default.logout();\n        storeLogout();\n      });\n      return function logout() {\n        return _ref5.apply(this, arguments);\n      };\n    }();\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        isLoading,\n        isAuthenticated,\n        login,\n        register,\n        logout\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 5\n    }, this);\n  };\n  _s(AuthProvider, \"1WMNXmMClNBWhtYWBsc1Azwbups=\", false, function () {\n    return [_storeAuthStore.useAuthStore];\n  });\n  _c = AuthProvider;\n  var useAuth = () => {\n    _s2();\n    var context = (0, _react.useContext)(AuthContext);\n    if (!context) {\n      throw new Error('useAuth must be used within AuthProvider');\n    }\n    return context;\n  };\n  _s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":151,"map":[[15,2,17,0,"Object"],[15,8,17,0],[15,9,17,0,"defineProperty"],[15,23,17,0],[15,24,17,0,"exports"],[15,31,17,0],[16,4,17,0,"enumerable"],[16,14,17,0],[17,4,17,0,"get"],[17,7,17,0],[17,18,17,0,"get"],[17,19,17,0],[18,6,17,0],[18,13,17,0,"AuthProvider"],[18,25,17,0],[19,4,17,0],[20,2,17,0],[21,2,82,0,"Object"],[21,8,82,0],[21,9,82,0,"defineProperty"],[21,23,82,0],[21,24,82,0,"exports"],[21,31,82,0],[22,4,82,0,"enumerable"],[22,14,82,0],[23,4,82,0,"get"],[23,7,82,0],[23,18,82,0,"get"],[23,19,82,0],[24,6,82,0],[24,13,82,0,"useAuth"],[24,20,82,0],[25,4,82,0],[26,2,82,0],[27,2,88,2],[27,6,88,2,"_babelRuntimeHelpersAsyncToGenerator"],[27,42,88,2],[27,45,88,2,"require"],[27,52,88,2],[27,53,88,2,"_dependencyMap"],[27,67,88,2],[28,2,88,2],[28,6,88,2,"_asyncToGenerator"],[28,23,88,2],[28,26,88,2,"_interopDefault"],[28,41,88,2],[28,42,88,2,"_babelRuntimeHelpersAsyncToGenerator"],[28,78,88,2],[29,2,1,0],[29,6,1,0,"_react"],[29,12,1,0],[29,15,1,0,"require"],[29,22,1,0],[29,23,1,0,"_dependencyMap"],[29,37,1,0],[30,2,2,0],[30,6,2,0,"_servicesAuthService"],[30,26,2,0],[30,29,2,0,"require"],[30,36,2,0],[30,37,2,0,"_dependencyMap"],[30,51,2,0],[31,2,2,0],[31,6,2,0,"authService"],[31,17,2,0],[31,20,2,0,"_interopDefault"],[31,35,2,0],[31,36,2,0,"_servicesAuthService"],[31,56,2,0],[32,2,3,0],[32,6,3,0,"_storeAuthStore"],[32,21,3,0],[32,24,3,0,"require"],[32,31,3,0],[32,32,3,0,"_dependencyMap"],[32,46,3,0],[33,2,4,0],[33,6,4,0,"_servicesNotificationsService"],[33,35,4,0],[33,38,4,0,"require"],[33,45,4,0],[33,46,4,0,"_dependencyMap"],[33,60,4,0],[34,2,4,114],[34,6,4,114,"_reactJsxDevRuntime"],[34,25,4,114],[34,28,4,114,"require"],[34,35,4,114],[34,36,4,114,"_dependencyMap"],[34,50,4,114],[35,2,15,0],[35,6,15,6,"AuthContext"],[35,17,15,17],[35,33,15,20],[35,37,15,20,"createContext"],[35,43,15,33],[35,44,15,33,"createContext"],[35,57,15,33],[35,59,15,63,"undefined"],[35,68,15,72],[35,69,15,73],[36,2,17,7],[36,6,17,13,"AuthProvider"],[36,18,17,66],[36,21,17,69,"_ref"],[36,25,17,69],[36,29,17,87],[37,4,17,87,"_s"],[37,6,17,87],[38,4,17,87],[38,8,17,72,"children"],[38,16,17,80],[38,19,17,80,"_ref"],[38,23,17,80],[38,24,17,72,"children"],[38,32,17,80],[39,4,18,2],[39,8,18,2,"_useAuthStore"],[39,21,18,2],[39,24,18,89],[39,28,18,89,"useAuthStore"],[39,43,18,101],[39,44,18,101,"useAuthStore"],[39,56,18,101],[39,58,18,102],[39,59,18,103],[40,6,18,10,"user"],[40,10,18,14],[40,13,18,14,"_useAuthStore"],[40,26,18,14],[40,27,18,10,"user"],[40,31,18,14],[41,6,18,16,"isLoading"],[41,15,18,25],[41,18,18,25,"_useAuthStore"],[41,31,18,25],[41,32,18,16,"isLoading"],[41,41,18,25],[42,6,18,27,"isAuthenticated"],[42,21,18,42],[42,24,18,42,"_useAuthStore"],[42,37,18,42],[42,38,18,27,"isAuthenticated"],[42,53,18,42],[43,6,18,44,"setUser"],[43,13,18,51],[43,16,18,51,"_useAuthStore"],[43,29,18,51],[43,30,18,44,"setUser"],[43,37,18,51],[44,6,18,53,"setLoading"],[44,16,18,63],[44,19,18,63,"_useAuthStore"],[44,32,18,63],[44,33,18,53,"setLoading"],[44,43,18,63],[45,6,18,73,"storeLogout"],[45,17,18,84],[45,20,18,84,"_useAuthStore"],[45,33,18,84],[45,34,18,65,"logout"],[45,40,18,71],[46,4,20,2],[46,8,20,2,"useEffect"],[46,14,20,11],[46,15,20,11,"useEffect"],[46,24,20,11],[46,26,20,12],[46,32,20,18],[47,6,21,4,"checkAuth"],[47,15,21,13],[47,16,21,14],[47,17,21,15],[48,4,22,2],[48,5,22,3],[48,7,22,5],[48,9,22,7],[48,10,22,8],[49,4,24,2],[49,8,24,8,"checkAuth"],[49,17,24,17],[50,6,24,17],[50,10,24,17,"_ref2"],[50,15,24,17],[50,22,24,17,"_asyncToGenerator"],[50,39,24,17],[50,40,24,17,"default"],[50,47,24,17],[50,49,24,20],[50,62,24,32],[51,8,25,4],[51,12,25,8],[52,10,26,6,"setLoading"],[52,20,26,16],[52,21,26,17],[52,25,26,21],[52,26,26,22],[53,10,27,6],[53,14,27,12,"token"],[53,19,27,17],[53,28,27,26,"authService"],[53,39,27,37],[53,40,27,37,"default"],[53,47,27,37],[53,48,27,38,"getToken"],[53,56,27,46],[53,57,27,47],[53,58,27,48],[54,10,29,6],[54,14,29,10,"token"],[54,19,29,15],[54,21,29,17],[55,12,30,8],[55,16,30,14,"currentUser"],[55,27,30,25],[55,36,30,34,"authService"],[55,47,30,45],[55,48,30,45,"default"],[55,55,30,45],[55,56,30,46,"getCurrentUser"],[55,70,30,60],[55,71,30,61],[55,72,30,62],[56,12,31,8],[56,16,31,12,"currentUser"],[56,27,31,23],[56,29,31,25],[57,14,32,10,"setUser"],[57,21,32,17],[57,22,32,18,"currentUser"],[57,33,32,29],[57,34,32,30],[58,12,33,8],[58,13,33,9],[58,19,33,15],[59,14,34,10,"setUser"],[59,21,34,17],[59,22,34,18],[59,26,34,22],[59,27,34,23],[60,12,35,8],[61,10,36,6],[61,11,36,7],[61,17,36,13],[62,12,37,8,"setUser"],[62,19,37,15],[62,20,37,16],[62,24,37,20],[62,25,37,21],[63,10,38,6],[64,8,39,4],[64,9,39,5],[64,10,39,6],[64,17,39,13,"error"],[64,22,39,18],[64,24,39,20],[65,10,40,6,"console"],[65,17,40,13],[65,18,40,14,"error"],[65,23,40,19],[65,24,40,20],[65,43,40,39],[65,45,40,41,"error"],[65,50,40,46],[65,51,40,47],[66,10,41,6,"setUser"],[66,17,41,13],[66,18,41,14],[66,22,41,18],[66,23,41,19],[67,8,42,4],[67,9,42,5],[67,18,42,14],[68,10,43,6,"setLoading"],[68,20,43,16],[68,21,43,17],[68,26,43,22],[68,27,43,23],[69,8,44,4],[70,6,45,2],[70,7,45,3],[71,6,45,3],[71,22,24,8,"checkAuth"],[71,31,24,17,"checkAuth"],[71,32,24,17],[72,8,24,17],[72,15,24,17,"_ref2"],[72,20,24,17],[72,21,24,17,"apply"],[72,26,24,17],[72,33,24,17,"arguments"],[72,42,24,17],[73,6,24,17],[74,4,24,17],[74,7,45,3],[75,4,47,2],[75,8,47,8,"login"],[75,13,47,13],[76,6,47,13],[76,10,47,13,"_ref3"],[76,15,47,13],[76,22,47,13,"_asyncToGenerator"],[76,39,47,13],[76,40,47,13,"default"],[76,47,47,13],[76,49,47,16],[76,60,47,23,"email"],[76,65,47,36],[76,67,47,38,"password"],[76,75,47,54],[76,77,47,59],[77,8,48,4],[77,12,48,8],[78,10,49,6],[78,14,49,6,"_yield$authService$lo"],[78,35,49,6],[78,44,49,29,"authService"],[78,55,49,40],[78,56,49,40,"default"],[78,63,49,40],[78,64,49,41,"login"],[78,69,49,46],[78,70,49,47],[79,14,49,49,"email"],[79,19,49,54],[80,14,49,56,"password"],[81,12,49,65],[81,13,49,66],[81,14,49,67],[82,12,49,14,"user"],[82,17,49,18],[82,20,49,18,"_yield$authService$lo"],[82,41,49,18],[82,42,49,14,"user"],[82,46,49,18],[83,10,50,6,"setUser"],[83,17,50,13],[83,18,50,14,"user"],[83,23,50,18],[83,24,50,19],[85,10,52,6],[86,10,53,6],[86,14,53,6,"registerForPushNotificationsAsync"],[86,43,53,39],[86,44,53,39,"registerForPushNotificationsAsync"],[86,77,53,39],[86,79,53,40],[86,80,53,41],[86,81,53,42,"catch"],[86,86,53,47],[86,87,53,49,"error"],[86,92,53,54],[86,96,53,59],[87,12,54,8,"console"],[87,19,54,15],[87,20,54,16,"error"],[87,25,54,21],[87,26,54,22],[87,70,54,66],[87,72,54,68,"error"],[87,77,54,73],[87,78,54,74],[88,10,55,6],[88,11,55,7],[88,12,55,8],[89,8,56,4],[89,9,56,5],[89,10,56,6],[89,17,56,13,"error"],[89,22,56,23],[89,24,56,25],[90,10,57,6],[90,16,57,12],[90,20,57,16,"Error"],[90,25,57,21],[90,26,57,22,"error"],[90,31,57,27],[90,32,57,28,"response"],[90,40,57,36],[90,42,57,38,"data"],[90,46,57,42],[90,48,57,44,"detail"],[90,54,57,50],[90,58,57,54],[90,72,57,68],[90,73,57,69],[91,8,58,4],[92,6,59,2],[92,7,59,3],[93,6,59,3],[93,22,47,8,"login"],[93,27,47,13,"login"],[93,28,47,13,"_x"],[93,30,47,13],[93,32,47,13,"_x2"],[93,35,47,13],[94,8,47,13],[94,15,47,13,"_ref3"],[94,20,47,13],[94,21,47,13,"apply"],[94,26,47,13],[94,33,47,13,"arguments"],[94,42,47,13],[95,6,47,13],[96,4,47,13],[96,7,59,3],[97,4,61,2],[97,8,61,8,"register"],[97,16,61,16],[98,6,61,16],[98,10,61,16,"_ref4"],[98,15,61,16],[98,22,61,16,"_asyncToGenerator"],[98,39,61,16],[98,40,61,16,"default"],[98,47,61,16],[98,49,61,19],[98,60,61,26,"data"],[98,64,61,35],[98,66,61,40],[99,8,62,4],[99,12,62,8],[100,10,63,6],[100,14,63,6,"_yield$authService$re"],[100,35,63,6],[100,44,63,29,"authService"],[100,55,63,40],[100,56,63,40,"default"],[100,63,63,40],[100,64,63,41,"register"],[100,72,63,49],[100,73,63,50,"data"],[100,77,63,54],[100,78,63,55],[101,12,63,14,"user"],[101,18,63,18],[101,21,63,18,"_yield$authService$re"],[101,42,63,18],[101,43,63,14,"user"],[101,47,63,18],[102,10,64,6,"setUser"],[102,17,64,13],[102,18,64,14,"user"],[102,24,64,18],[102,25,64,19],[103,8,65,4],[103,9,65,5],[103,10,65,6],[103,17,65,13,"error"],[103,22,65,23],[103,24,65,25],[104,10,66,6],[104,16,66,12],[104,20,66,16,"Error"],[104,25,66,21],[104,26,66,22,"error"],[104,31,66,27],[104,32,66,28,"response"],[104,40,66,36],[104,42,66,38,"data"],[104,46,66,42],[104,48,66,44,"detail"],[104,54,66,50],[104,58,66,54],[104,79,66,75],[104,80,66,76],[105,8,67,4],[106,6,68,2],[106,7,68,3],[107,6,68,3],[107,22,61,8,"register"],[107,30,61,16,"register"],[107,31,61,16,"_x3"],[107,34,61,16],[108,8,61,16],[108,15,61,16,"_ref4"],[108,20,61,16],[108,21,61,16,"apply"],[108,26,61,16],[108,33,61,16,"arguments"],[108,42,61,16],[109,6,61,16],[110,4,61,16],[110,7,68,3],[111,4,70,2],[111,8,70,8,"logout"],[111,14,70,14],[112,6,70,14],[112,10,70,14,"_ref5"],[112,15,70,14],[112,22,70,14,"_asyncToGenerator"],[112,39,70,14],[112,40,70,14,"default"],[112,47,70,14],[112,49,70,17],[112,62,70,29],[113,8,71,4],[113,14,71,10,"authService"],[113,25,71,21],[113,26,71,21,"default"],[113,33,71,21],[113,34,71,22,"logout"],[113,40,71,28],[113,41,71,29],[113,42,71,30],[114,8,72,4,"storeLogout"],[114,19,72,15],[114,20,72,16],[114,21,72,17],[115,6,73,2],[115,7,73,3],[116,6,73,3],[116,22,70,8,"logout"],[116,28,70,14,"logout"],[116,29,70,14],[117,8,70,14],[117,15,70,14,"_ref5"],[117,20,70,14],[117,21,70,14,"apply"],[117,26,70,14],[117,33,70,14,"arguments"],[117,42,70,14],[118,6,70,14],[119,4,70,14],[119,7,73,3],[120,4,75,2],[120,24,76,4],[120,28,76,4,"_reactJsxDevRuntime"],[120,47,76,4],[120,48,76,4,"jsxDEV"],[120,54,76,4],[120,56,76,5,"AuthContext"],[120,67,76,16],[120,68,76,17,"Provider"],[120,76,76,25],[121,6,76,26,"value"],[121,11,76,31],[121,13,76,33],[122,8,76,35,"user"],[122,12,76,39],[123,8,76,41,"isLoading"],[123,17,76,50],[124,8,76,52,"isAuthenticated"],[124,23,76,67],[125,8,76,69,"login"],[125,13,76,74],[126,8,76,76,"register"],[126,16,76,84],[127,8,76,86,"logout"],[128,6,76,93],[128,7,76,95],[129,6,76,95,"children"],[129,14,76,95],[129,16,77,7,"children"],[130,4,77,15],[131,6,77,15,"fileName"],[131,14,77,15],[131,16,77,15,"_jsxFileName"],[131,28,77,15],[132,6,77,15,"lineNumber"],[132,16,77,15],[133,6,77,15,"columnNumber"],[133,18,77,15],[134,4,77,15],[134,11,78,26],[134,12,78,27],[135,2,80,0],[135,3,80,1],[136,2,80,2,"_s"],[136,4,80,2],[136,5,17,13,"AuthProvider"],[136,17,17,66],[137,4,17,66],[137,12,18,89,"useAuthStore"],[137,27,18,101],[137,28,18,101,"useAuthStore"],[137,40,18,101],[138,2,18,101],[139,2,18,101,"_c"],[139,4,18,101],[139,7,17,13,"AuthProvider"],[139,19,17,66],[140,2,82,7],[140,6,82,13,"useAuth"],[140,13,82,20],[140,16,82,23,"useAuth"],[140,17,82,23],[140,22,82,29],[141,4,82,29,"_s2"],[141,7,82,29],[142,4,83,2],[142,8,83,8,"context"],[142,15,83,15],[142,18,83,18],[142,22,83,18,"useContext"],[142,28,83,28],[142,29,83,28,"useContext"],[142,39,83,28],[142,41,83,29,"AuthContext"],[142,52,83,40],[142,53,83,41],[143,4,84,2],[143,8,84,6],[143,9,84,7,"context"],[143,16,84,14],[143,18,84,16],[144,6,85,4],[144,12,85,10],[144,16,85,14,"Error"],[144,21,85,19],[144,22,85,20],[144,64,85,62],[144,65,85,63],[145,4,86,2],[146,4,87,2],[146,11,87,9,"context"],[146,18,87,16],[147,2,88,0],[147,3,88,1],[148,2,88,2,"_s2"],[148,5,88,2],[148,6,82,13,"useAuth"],[148,13,82,20],[149,2,82,20],[149,6,82,20,"_c"],[149,8,82,20],[150,2,82,20,"$RefreshReg$"],[150,14,82,20],[150,15,82,20,"_c"],[150,17,82,20],[151,0,82,20],[151,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","checkAuth","login","registerForPushNotificationsAsync._catch$argument_0","register","logout","useAuth"],"mappings":"AAA;qECgB;YCG;GDE;oBEE;GFqB;gBGE;gDCM;ODE;GHI;mBKE;GLO;iBME;GNG;CDO;uBQE;CRM"},"hasCjsExports":false},"type":"js/module"}]}