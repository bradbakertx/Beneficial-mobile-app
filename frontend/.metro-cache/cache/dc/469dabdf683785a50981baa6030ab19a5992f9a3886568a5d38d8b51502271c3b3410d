{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../services/auth.service","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":61,"index":140}}],"key":"OAwOj13pryMi7HegghVkxChHnhI=","exportNames":["*"],"imports":1}},{"name":"../store/authStore","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":141},"end":{"line":3,"column":50,"index":191}}],"key":"/4BDl/hqolvw7T4CXD8jWAtZK4M=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _react = require(_dependencyMap[1], \"react\");\n  var _servicesAuthService = require(_dependencyMap[2], \"../services/auth.service\");\n  var authService = _interopDefault(_servicesAuthService);\n  var _storeAuthStore = require(_dependencyMap[3], \"../store/authStore\");\n  var _reactJsxDevRuntime = require(_dependencyMap[4], \"react/jsx-dev-runtime\");\n  var AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  var AuthProvider = _ref => {\n    _s();\n    var children = _ref.children;\n    var _useAuthStore = (0, _storeAuthStore.useAuthStore)(),\n      user = _useAuthStore.user,\n      isLoading = _useAuthStore.isLoading,\n      isAuthenticated = _useAuthStore.isAuthenticated,\n      setUser = _useAuthStore.setUser,\n      setLoading = _useAuthStore.setLoading,\n      storeLogout = _useAuthStore.logout;\n    (0, _react.useEffect)(() => {\n      checkAuth();\n    }, []);\n    var checkAuth = /*#__PURE__*/function () {\n      var _ref2 = (0, _asyncToGenerator.default)(function* () {\n        try {\n          setLoading(true);\n          var token = yield authService.default.getToken();\n          if (token) {\n            var currentUser = yield authService.default.getCurrentUser();\n            if (currentUser) {\n              setUser(currentUser);\n            } else {\n              setUser(null);\n            }\n          } else {\n            setUser(null);\n          }\n        } catch (error) {\n          console.error('Auth check error:', error);\n          setUser(null);\n        } finally {\n          setLoading(false);\n        }\n      });\n      return function checkAuth() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n    var login = /*#__PURE__*/function () {\n      var _ref3 = (0, _asyncToGenerator.default)(function* (email, password) {\n        try {\n          var _yield$authService$lo = yield authService.default.login({\n              email,\n              password\n            }),\n            _user = _yield$authService$lo.user;\n          setUser(_user);\n        } catch (error) {\n          throw new Error(error.response?.data?.detail || 'Login failed');\n        }\n      });\n      return function login(_x, _x2) {\n        return _ref3.apply(this, arguments);\n      };\n    }();\n    var register = /*#__PURE__*/function () {\n      var _ref4 = (0, _asyncToGenerator.default)(function* (data) {\n        try {\n          var _yield$authService$re = yield authService.default.register(data),\n            _user2 = _yield$authService$re.user;\n          setUser(_user2);\n        } catch (error) {\n          throw new Error(error.response?.data?.detail || 'Registration failed');\n        }\n      });\n      return function register(_x3) {\n        return _ref4.apply(this, arguments);\n      };\n    }();\n    var logout = /*#__PURE__*/function () {\n      var _ref5 = (0, _asyncToGenerator.default)(function* () {\n        yield authService.default.logout();\n        storeLogout();\n      });\n      return function logout() {\n        return _ref5.apply(this, arguments);\n      };\n    }();\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        isLoading,\n        isAuthenticated,\n        login,\n        register,\n        logout\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 5\n    }, this);\n  };\n  _s(AuthProvider, \"1WMNXmMClNBWhtYWBsc1Azwbups=\", false, function () {\n    return [_storeAuthStore.useAuthStore];\n  });\n  _c = AuthProvider;\n  var useAuth = () => {\n    _s2();\n    var context = (0, _react.useContext)(AuthContext);\n    if (!context) {\n      throw new Error('useAuth must be used within AuthProvider');\n    }\n    return context;\n  };\n  _s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":145,"map":[[15,2,16,0,"Object"],[15,8,16,0],[15,9,16,0,"defineProperty"],[15,23,16,0],[15,24,16,0,"exports"],[15,31,16,0],[16,4,16,0,"enumerable"],[16,14,16,0],[17,4,16,0,"get"],[17,7,16,0],[17,18,16,0,"get"],[17,19,16,0],[18,6,16,0],[18,13,16,0,"AuthProvider"],[18,25,16,0],[19,4,16,0],[20,2,16,0],[21,2,76,0,"Object"],[21,8,76,0],[21,9,76,0,"defineProperty"],[21,23,76,0],[21,24,76,0,"exports"],[21,31,76,0],[22,4,76,0,"enumerable"],[22,14,76,0],[23,4,76,0,"get"],[23,7,76,0],[23,18,76,0,"get"],[23,19,76,0],[24,6,76,0],[24,13,76,0,"useAuth"],[24,20,76,0],[25,4,76,0],[26,2,76,0],[27,2,82,2],[27,6,82,2,"_babelRuntimeHelpersAsyncToGenerator"],[27,42,82,2],[27,45,82,2,"require"],[27,52,82,2],[27,53,82,2,"_dependencyMap"],[27,67,82,2],[28,2,82,2],[28,6,82,2,"_asyncToGenerator"],[28,23,82,2],[28,26,82,2,"_interopDefault"],[28,41,82,2],[28,42,82,2,"_babelRuntimeHelpersAsyncToGenerator"],[28,78,82,2],[29,2,1,0],[29,6,1,0,"_react"],[29,12,1,0],[29,15,1,0,"require"],[29,22,1,0],[29,23,1,0,"_dependencyMap"],[29,37,1,0],[30,2,2,0],[30,6,2,0,"_servicesAuthService"],[30,26,2,0],[30,29,2,0,"require"],[30,36,2,0],[30,37,2,0,"_dependencyMap"],[30,51,2,0],[31,2,2,0],[31,6,2,0,"authService"],[31,17,2,0],[31,20,2,0,"_interopDefault"],[31,35,2,0],[31,36,2,0,"_servicesAuthService"],[31,56,2,0],[32,2,3,0],[32,6,3,0,"_storeAuthStore"],[32,21,3,0],[32,24,3,0,"require"],[32,31,3,0],[32,32,3,0,"_dependencyMap"],[32,46,3,0],[33,2,3,50],[33,6,3,50,"_reactJsxDevRuntime"],[33,25,3,50],[33,28,3,50,"require"],[33,35,3,50],[33,36,3,50,"_dependencyMap"],[33,50,3,50],[34,2,14,0],[34,6,14,6,"AuthContext"],[34,17,14,17],[34,33,14,20],[34,37,14,20,"createContext"],[34,43,14,33],[34,44,14,33,"createContext"],[34,57,14,33],[34,59,14,63,"undefined"],[34,68,14,72],[34,69,14,73],[35,2,16,7],[35,6,16,13,"AuthProvider"],[35,18,16,66],[35,21,16,69,"_ref"],[35,25,16,69],[35,29,16,87],[36,4,16,87,"_s"],[36,6,16,87],[37,4,16,87],[37,8,16,72,"children"],[37,16,16,80],[37,19,16,80,"_ref"],[37,23,16,80],[37,24,16,72,"children"],[37,32,16,80],[38,4,17,2],[38,8,17,2,"_useAuthStore"],[38,21,17,2],[38,24,17,89],[38,28,17,89,"useAuthStore"],[38,43,17,101],[38,44,17,101,"useAuthStore"],[38,56,17,101],[38,58,17,102],[38,59,17,103],[39,6,17,10,"user"],[39,10,17,14],[39,13,17,14,"_useAuthStore"],[39,26,17,14],[39,27,17,10,"user"],[39,31,17,14],[40,6,17,16,"isLoading"],[40,15,17,25],[40,18,17,25,"_useAuthStore"],[40,31,17,25],[40,32,17,16,"isLoading"],[40,41,17,25],[41,6,17,27,"isAuthenticated"],[41,21,17,42],[41,24,17,42,"_useAuthStore"],[41,37,17,42],[41,38,17,27,"isAuthenticated"],[41,53,17,42],[42,6,17,44,"setUser"],[42,13,17,51],[42,16,17,51,"_useAuthStore"],[42,29,17,51],[42,30,17,44,"setUser"],[42,37,17,51],[43,6,17,53,"setLoading"],[43,16,17,63],[43,19,17,63,"_useAuthStore"],[43,32,17,63],[43,33,17,53,"setLoading"],[43,43,17,63],[44,6,17,73,"storeLogout"],[44,17,17,84],[44,20,17,84,"_useAuthStore"],[44,33,17,84],[44,34,17,65,"logout"],[44,40,17,71],[45,4,19,2],[45,8,19,2,"useEffect"],[45,14,19,11],[45,15,19,11,"useEffect"],[45,24,19,11],[45,26,19,12],[45,32,19,18],[46,6,20,4,"checkAuth"],[46,15,20,13],[46,16,20,14],[46,17,20,15],[47,4,21,2],[47,5,21,3],[47,7,21,5],[47,9,21,7],[47,10,21,8],[48,4,23,2],[48,8,23,8,"checkAuth"],[48,17,23,17],[49,6,23,17],[49,10,23,17,"_ref2"],[49,15,23,17],[49,22,23,17,"_asyncToGenerator"],[49,39,23,17],[49,40,23,17,"default"],[49,47,23,17],[49,49,23,20],[49,62,23,32],[50,8,24,4],[50,12,24,8],[51,10,25,6,"setLoading"],[51,20,25,16],[51,21,25,17],[51,25,25,21],[51,26,25,22],[52,10,26,6],[52,14,26,12,"token"],[52,19,26,17],[52,28,26,26,"authService"],[52,39,26,37],[52,40,26,37,"default"],[52,47,26,37],[52,48,26,38,"getToken"],[52,56,26,46],[52,57,26,47],[52,58,26,48],[53,10,28,6],[53,14,28,10,"token"],[53,19,28,15],[53,21,28,17],[54,12,29,8],[54,16,29,14,"currentUser"],[54,27,29,25],[54,36,29,34,"authService"],[54,47,29,45],[54,48,29,45,"default"],[54,55,29,45],[54,56,29,46,"getCurrentUser"],[54,70,29,60],[54,71,29,61],[54,72,29,62],[55,12,30,8],[55,16,30,12,"currentUser"],[55,27,30,23],[55,29,30,25],[56,14,31,10,"setUser"],[56,21,31,17],[56,22,31,18,"currentUser"],[56,33,31,29],[56,34,31,30],[57,12,32,8],[57,13,32,9],[57,19,32,15],[58,14,33,10,"setUser"],[58,21,33,17],[58,22,33,18],[58,26,33,22],[58,27,33,23],[59,12,34,8],[60,10,35,6],[60,11,35,7],[60,17,35,13],[61,12,36,8,"setUser"],[61,19,36,15],[61,20,36,16],[61,24,36,20],[61,25,36,21],[62,10,37,6],[63,8,38,4],[63,9,38,5],[63,10,38,6],[63,17,38,13,"error"],[63,22,38,18],[63,24,38,20],[64,10,39,6,"console"],[64,17,39,13],[64,18,39,14,"error"],[64,23,39,19],[64,24,39,20],[64,43,39,39],[64,45,39,41,"error"],[64,50,39,46],[64,51,39,47],[65,10,40,6,"setUser"],[65,17,40,13],[65,18,40,14],[65,22,40,18],[65,23,40,19],[66,8,41,4],[66,9,41,5],[66,18,41,14],[67,10,42,6,"setLoading"],[67,20,42,16],[67,21,42,17],[67,26,42,22],[67,27,42,23],[68,8,43,4],[69,6,44,2],[69,7,44,3],[70,6,44,3],[70,22,23,8,"checkAuth"],[70,31,23,17,"checkAuth"],[70,32,23,17],[71,8,23,17],[71,15,23,17,"_ref2"],[71,20,23,17],[71,21,23,17,"apply"],[71,26,23,17],[71,33,23,17,"arguments"],[71,42,23,17],[72,6,23,17],[73,4,23,17],[73,7,44,3],[74,4,46,2],[74,8,46,8,"login"],[74,13,46,13],[75,6,46,13],[75,10,46,13,"_ref3"],[75,15,46,13],[75,22,46,13,"_asyncToGenerator"],[75,39,46,13],[75,40,46,13,"default"],[75,47,46,13],[75,49,46,16],[75,60,46,23,"email"],[75,65,46,36],[75,67,46,38,"password"],[75,75,46,54],[75,77,46,59],[76,8,47,4],[76,12,47,8],[77,10,48,6],[77,14,48,6,"_yield$authService$lo"],[77,35,48,6],[77,44,48,29,"authService"],[77,55,48,40],[77,56,48,40,"default"],[77,63,48,40],[77,64,48,41,"login"],[77,69,48,46],[77,70,48,47],[78,14,48,49,"email"],[78,19,48,54],[79,14,48,56,"password"],[80,12,48,65],[80,13,48,66],[80,14,48,67],[81,12,48,14,"user"],[81,17,48,18],[81,20,48,18,"_yield$authService$lo"],[81,41,48,18],[81,42,48,14,"user"],[81,46,48,18],[82,10,49,6,"setUser"],[82,17,49,13],[82,18,49,14,"user"],[82,23,49,18],[82,24,49,19],[83,8,50,4],[83,9,50,5],[83,10,50,6],[83,17,50,13,"error"],[83,22,50,23],[83,24,50,25],[84,10,51,6],[84,16,51,12],[84,20,51,16,"Error"],[84,25,51,21],[84,26,51,22,"error"],[84,31,51,27],[84,32,51,28,"response"],[84,40,51,36],[84,42,51,38,"data"],[84,46,51,42],[84,48,51,44,"detail"],[84,54,51,50],[84,58,51,54],[84,72,51,68],[84,73,51,69],[85,8,52,4],[86,6,53,2],[86,7,53,3],[87,6,53,3],[87,22,46,8,"login"],[87,27,46,13,"login"],[87,28,46,13,"_x"],[87,30,46,13],[87,32,46,13,"_x2"],[87,35,46,13],[88,8,46,13],[88,15,46,13,"_ref3"],[88,20,46,13],[88,21,46,13,"apply"],[88,26,46,13],[88,33,46,13,"arguments"],[88,42,46,13],[89,6,46,13],[90,4,46,13],[90,7,53,3],[91,4,55,2],[91,8,55,8,"register"],[91,16,55,16],[92,6,55,16],[92,10,55,16,"_ref4"],[92,15,55,16],[92,22,55,16,"_asyncToGenerator"],[92,39,55,16],[92,40,55,16,"default"],[92,47,55,16],[92,49,55,19],[92,60,55,26,"data"],[92,64,55,35],[92,66,55,40],[93,8,56,4],[93,12,56,8],[94,10,57,6],[94,14,57,6,"_yield$authService$re"],[94,35,57,6],[94,44,57,29,"authService"],[94,55,57,40],[94,56,57,40,"default"],[94,63,57,40],[94,64,57,41,"register"],[94,72,57,49],[94,73,57,50,"data"],[94,77,57,54],[94,78,57,55],[95,12,57,14,"user"],[95,18,57,18],[95,21,57,18,"_yield$authService$re"],[95,42,57,18],[95,43,57,14,"user"],[95,47,57,18],[96,10,58,6,"setUser"],[96,17,58,13],[96,18,58,14,"user"],[96,24,58,18],[96,25,58,19],[97,8,59,4],[97,9,59,5],[97,10,59,6],[97,17,59,13,"error"],[97,22,59,23],[97,24,59,25],[98,10,60,6],[98,16,60,12],[98,20,60,16,"Error"],[98,25,60,21],[98,26,60,22,"error"],[98,31,60,27],[98,32,60,28,"response"],[98,40,60,36],[98,42,60,38,"data"],[98,46,60,42],[98,48,60,44,"detail"],[98,54,60,50],[98,58,60,54],[98,79,60,75],[98,80,60,76],[99,8,61,4],[100,6,62,2],[100,7,62,3],[101,6,62,3],[101,22,55,8,"register"],[101,30,55,16,"register"],[101,31,55,16,"_x3"],[101,34,55,16],[102,8,55,16],[102,15,55,16,"_ref4"],[102,20,55,16],[102,21,55,16,"apply"],[102,26,55,16],[102,33,55,16,"arguments"],[102,42,55,16],[103,6,55,16],[104,4,55,16],[104,7,62,3],[105,4,64,2],[105,8,64,8,"logout"],[105,14,64,14],[106,6,64,14],[106,10,64,14,"_ref5"],[106,15,64,14],[106,22,64,14,"_asyncToGenerator"],[106,39,64,14],[106,40,64,14,"default"],[106,47,64,14],[106,49,64,17],[106,62,64,29],[107,8,65,4],[107,14,65,10,"authService"],[107,25,65,21],[107,26,65,21,"default"],[107,33,65,21],[107,34,65,22,"logout"],[107,40,65,28],[107,41,65,29],[107,42,65,30],[108,8,66,4,"storeLogout"],[108,19,66,15],[108,20,66,16],[108,21,66,17],[109,6,67,2],[109,7,67,3],[110,6,67,3],[110,22,64,8,"logout"],[110,28,64,14,"logout"],[110,29,64,14],[111,8,64,14],[111,15,64,14,"_ref5"],[111,20,64,14],[111,21,64,14,"apply"],[111,26,64,14],[111,33,64,14,"arguments"],[111,42,64,14],[112,6,64,14],[113,4,64,14],[113,7,67,3],[114,4,69,2],[114,24,70,4],[114,28,70,4,"_reactJsxDevRuntime"],[114,47,70,4],[114,48,70,4,"jsxDEV"],[114,54,70,4],[114,56,70,5,"AuthContext"],[114,67,70,16],[114,68,70,17,"Provider"],[114,76,70,25],[115,6,70,26,"value"],[115,11,70,31],[115,13,70,33],[116,8,70,35,"user"],[116,12,70,39],[117,8,70,41,"isLoading"],[117,17,70,50],[118,8,70,52,"isAuthenticated"],[118,23,70,67],[119,8,70,69,"login"],[119,13,70,74],[120,8,70,76,"register"],[120,16,70,84],[121,8,70,86,"logout"],[122,6,70,93],[122,7,70,95],[123,6,70,95,"children"],[123,14,70,95],[123,16,71,7,"children"],[124,4,71,15],[125,6,71,15,"fileName"],[125,14,71,15],[125,16,71,15,"_jsxFileName"],[125,28,71,15],[126,6,71,15,"lineNumber"],[126,16,71,15],[127,6,71,15,"columnNumber"],[127,18,71,15],[128,4,71,15],[128,11,72,26],[128,12,72,27],[129,2,74,0],[129,3,74,1],[130,2,74,2,"_s"],[130,4,74,2],[130,5,16,13,"AuthProvider"],[130,17,16,66],[131,4,16,66],[131,12,17,89,"useAuthStore"],[131,27,17,101],[131,28,17,101,"useAuthStore"],[131,40,17,101],[132,2,17,101],[133,2,17,101,"_c"],[133,4,17,101],[133,7,16,13,"AuthProvider"],[133,19,16,66],[134,2,76,7],[134,6,76,13,"useAuth"],[134,13,76,20],[134,16,76,23,"useAuth"],[134,17,76,23],[134,22,76,29],[135,4,76,29,"_s2"],[135,7,76,29],[136,4,77,2],[136,8,77,8,"context"],[136,15,77,15],[136,18,77,18],[136,22,77,18,"useContext"],[136,28,77,28],[136,29,77,28,"useContext"],[136,39,77,28],[136,41,77,29,"AuthContext"],[136,52,77,40],[136,53,77,41],[137,4,78,2],[137,8,78,6],[137,9,78,7,"context"],[137,16,78,14],[137,18,78,16],[138,6,79,4],[138,12,79,10],[138,16,79,14,"Error"],[138,21,79,19],[138,22,79,20],[138,64,79,62],[138,65,79,63],[139,4,80,2],[140,4,81,2],[140,11,81,9,"context"],[140,18,81,16],[141,2,82,0],[141,3,82,1],[142,2,82,2,"_s2"],[142,5,82,2],[142,6,76,13,"useAuth"],[142,13,76,20],[143,2,76,20],[143,6,76,20,"_c"],[143,8,76,20],[144,2,76,20,"$RefreshReg$"],[144,14,76,20],[144,15,76,20,"_c"],[144,17,76,20],[145,0,76,20],[145,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","checkAuth","login","register","logout","useAuth"],"mappings":"AAA;qECe;YCG;GDE;oBEE;GFqB;gBGE;GHO;mBIE;GJO;iBKE;GLG;CDO;uBOE;CPM"},"hasCjsExports":false},"type":"js/module"}]}