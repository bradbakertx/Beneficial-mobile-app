{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"yg7e6laZwmpbIvId5jovq9ugXp8=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30=","exportNames":["*"],"imports":1}},{"name":"./api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":24,"index":24}}],"key":"FbKPDeRJ9TF3vg1eKYKz12urgic=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":25},"end":{"line":2,"column":69,"index":94}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _babelRuntimeHelpersClassCallCheck = require(_dependencyMap[1], \"@babel/runtime/helpers/classCallCheck\");\n  var _classCallCheck = _interopDefault(_babelRuntimeHelpersClassCallCheck);\n  var _babelRuntimeHelpersCreateClass = require(_dependencyMap[2], \"@babel/runtime/helpers/createClass\");\n  var _createClass = _interopDefault(_babelRuntimeHelpersCreateClass);\n  var _api = require(_dependencyMap[3], \"./api\");\n  var api = _interopDefault(_api);\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[4], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var AuthService = /*#__PURE__*/function () {\n    function AuthService() {\n      (0, _classCallCheck.default)(this, AuthService);\n    }\n    return (0, _createClass.default)(AuthService, [{\n      key: \"login\",\n      value: function () {\n        var _login = (0, _asyncToGenerator.default)(function* (data) {\n          var stayLoggedIn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n          var response = yield api.default.post('/auth/login', data);\n          var _response$data = response.data,\n            session_token = _response$data.session_token,\n            user = _response$data.user;\n\n          // Always store the token and user data\n          yield AsyncStorage.default.setItem('session_token', session_token);\n          yield AsyncStorage.default.setItem('user_data', JSON.stringify(user));\n\n          // Store the preference for staying logged in\n          yield AsyncStorage.default.setItem('stay_logged_in', JSON.stringify(stayLoggedIn));\n          return {\n            token: session_token,\n            user\n          };\n        });\n        function login(_x) {\n          return _login.apply(this, arguments);\n        }\n        return login;\n      }()\n    }, {\n      key: \"register\",\n      value: function () {\n        var _register = (0, _asyncToGenerator.default)(function* (data) {\n          var response = yield api.default.post('/auth/register', null, {\n            params: data\n          });\n          var _response$data2 = response.data,\n            session_token = _response$data2.session_token,\n            user = _response$data2.user;\n          yield AsyncStorage.default.setItem('session_token', session_token);\n          yield AsyncStorage.default.setItem('user_data', JSON.stringify(user));\n          return {\n            token: session_token,\n            user\n          };\n        });\n        function register(_x2) {\n          return _register.apply(this, arguments);\n        }\n        return register;\n      }()\n    }, {\n      key: \"logout\",\n      value: function () {\n        var _logout = (0, _asyncToGenerator.default)(function* () {\n          // Clear local storage (backend doesn't need logout endpoint for JWT)\n          yield AsyncStorage.default.removeItem('session_token');\n          yield AsyncStorage.default.removeItem('user_data');\n        });\n        function logout() {\n          return _logout.apply(this, arguments);\n        }\n        return logout;\n      }()\n    }, {\n      key: \"getCurrentUser\",\n      value: function () {\n        var _getCurrentUser = (0, _asyncToGenerator.default)(function* () {\n          try {\n            var response = yield api.default.get('/auth/me');\n            return response.data;\n          } catch (error) {\n            return null;\n          }\n        });\n        function getCurrentUser() {\n          return _getCurrentUser.apply(this, arguments);\n        }\n        return getCurrentUser;\n      }()\n    }, {\n      key: \"getStoredUser\",\n      value: function () {\n        var _getStoredUser = (0, _asyncToGenerator.default)(function* () {\n          var userData = yield AsyncStorage.default.getItem('user_data');\n          return userData ? JSON.parse(userData) : null;\n        });\n        function getStoredUser() {\n          return _getStoredUser.apply(this, arguments);\n        }\n        return getStoredUser;\n      }()\n    }, {\n      key: \"getToken\",\n      value: function () {\n        var _getToken = (0, _asyncToGenerator.default)(function* () {\n          return yield AsyncStorage.default.getItem('session_token');\n        });\n        function getToken() {\n          return _getToken.apply(this, arguments);\n        }\n        return getToken;\n      }()\n    }]);\n  }();\n  var _default = new AuthService();\n});","lineCount":135,"map":[[12,2,78,0,"Object"],[12,8,78,0],[12,9,78,0,"defineProperty"],[12,23,78,0],[12,24,78,0,"exports"],[12,31,78,0],[13,4,78,0,"enumerable"],[13,14,78,0],[14,4,78,0,"get"],[14,7,78,0],[14,18,78,0,"get"],[14,19,78,0],[15,6,78,0],[15,13,78,0,"_default"],[15,21,78,0],[16,4,78,0],[17,2,78,0],[18,2,78,33],[18,6,78,33,"_babelRuntimeHelpersAsyncToGenerator"],[18,42,78,33],[18,45,78,33,"require"],[18,52,78,33],[18,53,78,33,"_dependencyMap"],[18,67,78,33],[19,2,78,33],[19,6,78,33,"_asyncToGenerator"],[19,23,78,33],[19,26,78,33,"_interopDefault"],[19,41,78,33],[19,42,78,33,"_babelRuntimeHelpersAsyncToGenerator"],[19,78,78,33],[20,2,78,33],[20,6,78,33,"_babelRuntimeHelpersClassCallCheck"],[20,40,78,33],[20,43,78,33,"require"],[20,50,78,33],[20,51,78,33,"_dependencyMap"],[20,65,78,33],[21,2,78,33],[21,6,78,33,"_classCallCheck"],[21,21,78,33],[21,24,78,33,"_interopDefault"],[21,39,78,33],[21,40,78,33,"_babelRuntimeHelpersClassCallCheck"],[21,74,78,33],[22,2,78,33],[22,6,78,33,"_babelRuntimeHelpersCreateClass"],[22,37,78,33],[22,40,78,33,"require"],[22,47,78,33],[22,48,78,33,"_dependencyMap"],[22,62,78,33],[23,2,78,33],[23,6,78,33,"_createClass"],[23,18,78,33],[23,21,78,33,"_interopDefault"],[23,36,78,33],[23,37,78,33,"_babelRuntimeHelpersCreateClass"],[23,68,78,33],[24,2,1,0],[24,6,1,0,"_api"],[24,10,1,0],[24,13,1,0,"require"],[24,20,1,0],[24,21,1,0,"_dependencyMap"],[24,35,1,0],[25,2,1,0],[25,6,1,0,"api"],[25,9,1,0],[25,12,1,0,"_interopDefault"],[25,27,1,0],[25,28,1,0,"_api"],[25,32,1,0],[26,2,2,0],[26,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[26,42,2,0],[26,45,2,0,"require"],[26,52,2,0],[26,53,2,0,"_dependencyMap"],[26,67,2,0],[27,2,2,0],[27,6,2,0,"AsyncStorage"],[27,18,2,0],[27,21,2,0,"_interopDefault"],[27,36,2,0],[27,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[27,73,2,0],[28,2,2,69],[28,6,26,6,"AuthService"],[28,17,26,17],[29,4,26,17],[29,13,26,17,"AuthService"],[29,25,26,17],[30,6,26,17],[30,10,26,17,"_classCallCheck"],[30,25,26,17],[30,26,26,17,"default"],[30,33,26,17],[30,41,26,17,"AuthService"],[30,52,26,17],[31,4,26,17],[32,4,26,17],[32,15,26,17,"_createClass"],[32,27,26,17],[32,28,26,17,"default"],[32,35,26,17],[32,37,26,17,"AuthService"],[32,48,26,17],[33,6,26,17,"key"],[33,9,26,17],[34,6,26,17,"value"],[34,11,26,17],[35,8,26,17],[35,12,26,17,"_login"],[35,18,26,17],[35,25,26,17,"_asyncToGenerator"],[35,42,26,17],[35,43,26,17,"default"],[35,50,26,17],[35,52,27,2],[35,63,27,14,"data"],[35,67,27,29],[35,69,27,101],[36,10,27,101],[36,14,27,31,"stayLoggedIn"],[36,26,27,52],[36,29,27,52,"arguments"],[36,38,27,52],[36,39,27,52,"length"],[36,45,27,52],[36,53,27,52,"arguments"],[36,62,27,52],[36,70,27,52,"undefined"],[36,79,27,52],[36,82,27,52,"arguments"],[36,91,27,52],[36,97,27,55],[36,101,27,59],[37,10,28,4],[37,14,28,10,"response"],[37,22,28,18],[37,31,28,27,"api"],[37,34,28,30],[37,35,28,30,"default"],[37,42,28,30],[37,43,28,31,"post"],[37,47,28,35],[37,48,28,36],[37,61,28,49],[37,63,28,51,"data"],[37,67,28,55],[37,68,28,56],[38,10,29,4],[38,14,29,4,"_response$data"],[38,28,29,4],[38,31,29,36,"response"],[38,39,29,44],[38,40,29,45,"data"],[38,44,29,49],[39,12,29,12,"session_token"],[39,25,29,25],[39,28,29,25,"_response$data"],[39,42,29,25],[39,43,29,12,"session_token"],[39,56,29,25],[40,12,29,27,"user"],[40,16,29,31],[40,19,29,31,"_response$data"],[40,33,29,31],[40,34,29,27,"user"],[40,38,29,31],[42,10,31,4],[43,10,32,4],[43,16,32,10,"AsyncStorage"],[43,28,32,22],[43,29,32,22,"default"],[43,36,32,22],[43,37,32,23,"setItem"],[43,44,32,30],[43,45,32,31],[43,60,32,46],[43,62,32,48,"session_token"],[43,75,32,61],[43,76,32,62],[44,10,33,4],[44,16,33,10,"AsyncStorage"],[44,28,33,22],[44,29,33,22,"default"],[44,36,33,22],[44,37,33,23,"setItem"],[44,44,33,30],[44,45,33,31],[44,56,33,42],[44,58,33,44,"JSON"],[44,62,33,48],[44,63,33,49,"stringify"],[44,72,33,58],[44,73,33,59,"user"],[44,77,33,63],[44,78,33,64],[44,79,33,65],[46,10,35,4],[47,10,36,4],[47,16,36,10,"AsyncStorage"],[47,28,36,22],[47,29,36,22,"default"],[47,36,36,22],[47,37,36,23,"setItem"],[47,44,36,30],[47,45,36,31],[47,61,36,47],[47,63,36,49,"JSON"],[47,67,36,53],[47,68,36,54,"stringify"],[47,77,36,63],[47,78,36,64,"stayLoggedIn"],[47,90,36,76],[47,91,36,77],[47,92,36,78],[48,10,38,4],[48,17,38,11],[49,12,38,13,"token"],[49,17,38,18],[49,19,38,20,"session_token"],[49,32,38,33],[50,12,38,35,"user"],[51,10,38,40],[51,11,38,41],[52,8,39,2],[52,9,39,3],[53,8,39,3],[53,17,27,8,"login"],[53,22,27,13,"login"],[53,23,27,13,"_x"],[53,25,27,13],[54,10,27,13],[54,17,27,13,"_login"],[54,23,27,13],[54,24,27,13,"apply"],[54,29,27,13],[54,36,27,13,"arguments"],[54,45,27,13],[55,8,27,13],[56,8,27,13],[56,15,27,8,"login"],[56,20,27,13],[57,6,27,13],[58,4,27,13],[59,6,27,13,"key"],[59,9,27,13],[60,6,27,13,"value"],[60,11,27,13],[61,8,27,13],[61,12,27,13,"_register"],[61,21,27,13],[61,28,27,13,"_asyncToGenerator"],[61,45,27,13],[61,46,27,13,"default"],[61,53,27,13],[61,55,41,2],[61,66,41,17,"data"],[61,70,41,35],[61,72,41,77],[62,10,42,4],[62,14,42,10,"response"],[62,22,42,18],[62,31,42,27,"api"],[62,34,42,30],[62,35,42,30,"default"],[62,42,42,30],[62,43,42,31,"post"],[62,47,42,35],[62,48,42,36],[62,64,42,52],[62,66,42,54],[62,70,42,58],[62,72,42,60],[63,12,43,6,"params"],[63,18,43,12],[63,20,43,14,"data"],[64,10,44,4],[64,11,44,5],[64,12,44,6],[65,10,45,4],[65,14,45,4,"_response$data2"],[65,29,45,4],[65,32,45,36,"response"],[65,40,45,44],[65,41,45,45,"data"],[65,45,45,49],[66,12,45,12,"session_token"],[66,25,45,25],[66,28,45,25,"_response$data2"],[66,43,45,25],[66,44,45,12,"session_token"],[66,57,45,25],[67,12,45,27,"user"],[67,16,45,31],[67,19,45,31,"_response$data2"],[67,34,45,31],[67,35,45,27,"user"],[67,39,45,31],[68,10,47,4],[68,16,47,10,"AsyncStorage"],[68,28,47,22],[68,29,47,22,"default"],[68,36,47,22],[68,37,47,23,"setItem"],[68,44,47,30],[68,45,47,31],[68,60,47,46],[68,62,47,48,"session_token"],[68,75,47,61],[68,76,47,62],[69,10,48,4],[69,16,48,10,"AsyncStorage"],[69,28,48,22],[69,29,48,22,"default"],[69,36,48,22],[69,37,48,23,"setItem"],[69,44,48,30],[69,45,48,31],[69,56,48,42],[69,58,48,44,"JSON"],[69,62,48,48],[69,63,48,49,"stringify"],[69,72,48,58],[69,73,48,59,"user"],[69,77,48,63],[69,78,48,64],[69,79,48,65],[70,10,50,4],[70,17,50,11],[71,12,50,13,"token"],[71,17,50,18],[71,19,50,20,"session_token"],[71,32,50,33],[72,12,50,35,"user"],[73,10,50,40],[73,11,50,41],[74,8,51,2],[74,9,51,3],[75,8,51,3],[75,17,41,8,"register"],[75,25,41,16,"register"],[75,26,41,16,"_x2"],[75,29,41,16],[76,10,41,16],[76,17,41,16,"_register"],[76,26,41,16],[76,27,41,16,"apply"],[76,32,41,16],[76,39,41,16,"arguments"],[76,48,41,16],[77,8,41,16],[78,8,41,16],[78,15,41,8,"register"],[78,23,41,16],[79,6,41,16],[80,4,41,16],[81,6,41,16,"key"],[81,9,41,16],[82,6,41,16,"value"],[82,11,41,16],[83,8,41,16],[83,12,41,16,"_logout"],[83,19,41,16],[83,26,41,16,"_asyncToGenerator"],[83,43,41,16],[83,44,41,16,"default"],[83,51,41,16],[83,53,53,2],[83,66,53,32],[84,10,54,4],[85,10,55,4],[85,16,55,10,"AsyncStorage"],[85,28,55,22],[85,29,55,22,"default"],[85,36,55,22],[85,37,55,23,"removeItem"],[85,47,55,33],[85,48,55,34],[85,63,55,49],[85,64,55,50],[86,10,56,4],[86,16,56,10,"AsyncStorage"],[86,28,56,22],[86,29,56,22,"default"],[86,36,56,22],[86,37,56,23,"removeItem"],[86,47,56,33],[86,48,56,34],[86,59,56,45],[86,60,56,46],[87,8,57,2],[87,9,57,3],[88,8,57,3],[88,17,53,8,"logout"],[88,23,53,14,"logout"],[88,24,53,14],[89,10,53,14],[89,17,53,14,"_logout"],[89,24,53,14],[89,25,53,14,"apply"],[89,30,53,14],[89,37,53,14,"arguments"],[89,46,53,14],[90,8,53,14],[91,8,53,14],[91,15,53,8,"logout"],[91,21,53,14],[92,6,53,14],[93,4,53,14],[94,6,53,14,"key"],[94,9,53,14],[95,6,53,14,"value"],[95,11,53,14],[96,8,53,14],[96,12,53,14,"_getCurrentUser"],[96,27,53,14],[96,34,53,14,"_asyncToGenerator"],[96,51,53,14],[96,52,53,14,"default"],[96,59,53,14],[96,61,59,2],[96,74,59,47],[97,10,60,4],[97,14,60,8],[98,12,61,6],[98,16,61,12,"response"],[98,24,61,20],[98,33,61,29,"api"],[98,36,61,32],[98,37,61,32,"default"],[98,44,61,32],[98,45,61,33,"get"],[98,48,61,36],[98,49,61,37],[98,59,61,47],[98,60,61,48],[99,12,62,6],[99,19,62,13,"response"],[99,27,62,21],[99,28,62,22,"data"],[99,32,62,26],[100,10,63,4],[100,11,63,5],[100,12,63,6],[100,19,63,13,"error"],[100,24,63,18],[100,26,63,20],[101,12,64,6],[101,19,64,13],[101,23,64,17],[102,10,65,4],[103,8,66,2],[103,9,66,3],[104,8,66,3],[104,17,59,8,"getCurrentUser"],[104,31,59,22,"getCurrentUser"],[104,32,59,22],[105,10,59,22],[105,17,59,22,"_getCurrentUser"],[105,32,59,22],[105,33,59,22,"apply"],[105,38,59,22],[105,45,59,22,"arguments"],[105,54,59,22],[106,8,59,22],[107,8,59,22],[107,15,59,8,"getCurrentUser"],[107,29,59,22],[108,6,59,22],[109,4,59,22],[110,6,59,22,"key"],[110,9,59,22],[111,6,59,22,"value"],[111,11,59,22],[112,8,59,22],[112,12,59,22,"_getStoredUser"],[112,26,59,22],[112,33,59,22,"_asyncToGenerator"],[112,50,59,22],[112,51,59,22,"default"],[112,58,59,22],[112,60,68,2],[112,73,68,46],[113,10,69,4],[113,14,69,10,"userData"],[113,22,69,18],[113,31,69,27,"AsyncStorage"],[113,43,69,39],[113,44,69,39,"default"],[113,51,69,39],[113,52,69,40,"getItem"],[113,59,69,47],[113,60,69,48],[113,71,69,59],[113,72,69,60],[114,10,70,4],[114,17,70,11,"userData"],[114,25,70,19],[114,28,70,22,"JSON"],[114,32,70,26],[114,33,70,27,"parse"],[114,38,70,32],[114,39,70,33,"userData"],[114,47,70,41],[114,48,70,42],[114,51,70,45],[114,55,70,49],[115,8,71,2],[115,9,71,3],[116,8,71,3],[116,17,68,8,"getStoredUser"],[116,30,68,21,"getStoredUser"],[116,31,68,21],[117,10,68,21],[117,17,68,21,"_getStoredUser"],[117,31,68,21],[117,32,68,21,"apply"],[117,37,68,21],[117,44,68,21,"arguments"],[117,53,68,21],[118,8,68,21],[119,8,68,21],[119,15,68,8,"getStoredUser"],[119,28,68,21],[120,6,68,21],[121,4,68,21],[122,6,68,21,"key"],[122,9,68,21],[123,6,68,21,"value"],[123,11,68,21],[124,8,68,21],[124,12,68,21,"_getToken"],[124,21,68,21],[124,28,68,21,"_asyncToGenerator"],[124,45,68,21],[124,46,68,21,"default"],[124,53,68,21],[124,55,73,2],[124,68,73,43],[125,10,74,4],[125,23,74,17,"AsyncStorage"],[125,35,74,29],[125,36,74,29,"default"],[125,43,74,29],[125,44,74,30,"getItem"],[125,51,74,37],[125,52,74,38],[125,67,74,53],[125,68,74,54],[126,8,75,2],[126,9,75,3],[127,8,75,3],[127,17,73,8,"getToken"],[127,25,73,16,"getToken"],[127,26,73,16],[128,10,73,16],[128,17,73,16,"_getToken"],[128,26,73,16],[128,27,73,16,"apply"],[128,32,73,16],[128,39,73,16,"arguments"],[128,48,73,16],[129,8,73,16],[130,8,73,16],[130,15,73,8,"getToken"],[130,23,73,16],[131,6,73,16],[132,4,73,16],[133,2,73,16],[134,2,78,0],[134,6,78,0,"_default"],[134,14,78,0],[134,17,78,15],[134,21,78,19,"AuthService"],[134,32,78,30],[134,33,78,31],[134,34,78,32],[135,0,78,33],[135,3]],"functionMap":{"names":["<global>","AuthService","AuthService#login","AuthService#register","AuthService#logout","AuthService#getCurrentUser","AuthService#getStoredUser","AuthService#getToken"],"mappings":"AAA;ACyB;ECC;GDY;EEE;GFU;EGE;GHI;EIE;GJO;EKE;GLG;EME;GNE;CDC"},"hasCjsExports":false},"type":"js/module"}]}