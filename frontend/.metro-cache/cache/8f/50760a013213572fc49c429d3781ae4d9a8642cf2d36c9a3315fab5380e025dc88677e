{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"yg7e6laZwmpbIvId5jovq9ugXp8=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30=","exportNames":["*"],"imports":1}},{"name":"./api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":24,"index":24}}],"key":"FbKPDeRJ9TF3vg1eKYKz12urgic=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":25},"end":{"line":2,"column":69,"index":94}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _babelRuntimeHelpersClassCallCheck = require(_dependencyMap[1], \"@babel/runtime/helpers/classCallCheck\");\n  var _classCallCheck = _interopDefault(_babelRuntimeHelpersClassCallCheck);\n  var _babelRuntimeHelpersCreateClass = require(_dependencyMap[2], \"@babel/runtime/helpers/createClass\");\n  var _createClass = _interopDefault(_babelRuntimeHelpersCreateClass);\n  var _api = require(_dependencyMap[3], \"./api\");\n  var api = _interopDefault(_api);\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[4], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var AuthService = /*#__PURE__*/function () {\n    function AuthService() {\n      (0, _classCallCheck.default)(this, AuthService);\n    }\n    return (0, _createClass.default)(AuthService, [{\n      key: \"login\",\n      value: function () {\n        var _login = (0, _asyncToGenerator.default)(function* (data) {\n          var stayLoggedIn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n          var response = yield api.default.post('/auth/login', data);\n          var _response$data = response.data,\n            session_token = _response$data.session_token,\n            user = _response$data.user;\n\n          // Always store the token and user data\n          yield AsyncStorage.default.setItem('session_token', session_token);\n          yield AsyncStorage.default.setItem('user_data', JSON.stringify(user));\n\n          // Store the preference for staying logged in\n          yield AsyncStorage.default.setItem('stay_logged_in', JSON.stringify(stayLoggedIn));\n          return {\n            token: session_token,\n            user\n          };\n        });\n        function login(_x) {\n          return _login.apply(this, arguments);\n        }\n        return login;\n      }()\n    }, {\n      key: \"register\",\n      value: function () {\n        var _register = (0, _asyncToGenerator.default)(function* (data) {\n          var response = yield api.default.post('/auth/register', null, {\n            params: data\n          });\n          var _response$data2 = response.data,\n            session_token = _response$data2.session_token,\n            user = _response$data2.user;\n          yield AsyncStorage.default.setItem('session_token', session_token);\n          yield AsyncStorage.default.setItem('user_data', JSON.stringify(user));\n          return {\n            token: session_token,\n            user\n          };\n        });\n        function register(_x2) {\n          return _register.apply(this, arguments);\n        }\n        return register;\n      }()\n    }, {\n      key: \"logout\",\n      value: function () {\n        var _logout = (0, _asyncToGenerator.default)(function* () {\n          // Clear local storage (backend doesn't need logout endpoint for JWT)\n          yield AsyncStorage.default.removeItem('session_token');\n          yield AsyncStorage.default.removeItem('user_data');\n        });\n        function logout() {\n          return _logout.apply(this, arguments);\n        }\n        return logout;\n      }()\n    }, {\n      key: \"getCurrentUser\",\n      value: function () {\n        var _getCurrentUser = (0, _asyncToGenerator.default)(function* () {\n          try {\n            var response = yield api.default.get('/auth/me');\n            return response.data;\n          } catch (error) {\n            return null;\n          }\n        });\n        function getCurrentUser() {\n          return _getCurrentUser.apply(this, arguments);\n        }\n        return getCurrentUser;\n      }()\n    }, {\n      key: \"getStoredUser\",\n      value: function () {\n        var _getStoredUser = (0, _asyncToGenerator.default)(function* () {\n          var userData = yield AsyncStorage.default.getItem('user_data');\n          return userData ? JSON.parse(userData) : null;\n        });\n        function getStoredUser() {\n          return _getStoredUser.apply(this, arguments);\n        }\n        return getStoredUser;\n      }()\n    }, {\n      key: \"getToken\",\n      value: function () {\n        var _getToken = (0, _asyncToGenerator.default)(function* () {\n          return yield AsyncStorage.default.getItem('session_token');\n        });\n        function getToken() {\n          return _getToken.apply(this, arguments);\n        }\n        return getToken;\n      }()\n    }]);\n  }();\n  var _default = new AuthService();\n});","lineCount":135,"map":[[12,2,77,0,"Object"],[12,8,77,0],[12,9,77,0,"defineProperty"],[12,23,77,0],[12,24,77,0,"exports"],[12,31,77,0],[13,4,77,0,"enumerable"],[13,14,77,0],[14,4,77,0,"get"],[14,7,77,0],[14,18,77,0,"get"],[14,19,77,0],[15,6,77,0],[15,13,77,0,"_default"],[15,21,77,0],[16,4,77,0],[17,2,77,0],[18,2,77,33],[18,6,77,33,"_babelRuntimeHelpersAsyncToGenerator"],[18,42,77,33],[18,45,77,33,"require"],[18,52,77,33],[18,53,77,33,"_dependencyMap"],[18,67,77,33],[19,2,77,33],[19,6,77,33,"_asyncToGenerator"],[19,23,77,33],[19,26,77,33,"_interopDefault"],[19,41,77,33],[19,42,77,33,"_babelRuntimeHelpersAsyncToGenerator"],[19,78,77,33],[20,2,77,33],[20,6,77,33,"_babelRuntimeHelpersClassCallCheck"],[20,40,77,33],[20,43,77,33,"require"],[20,50,77,33],[20,51,77,33,"_dependencyMap"],[20,65,77,33],[21,2,77,33],[21,6,77,33,"_classCallCheck"],[21,21,77,33],[21,24,77,33,"_interopDefault"],[21,39,77,33],[21,40,77,33,"_babelRuntimeHelpersClassCallCheck"],[21,74,77,33],[22,2,77,33],[22,6,77,33,"_babelRuntimeHelpersCreateClass"],[22,37,77,33],[22,40,77,33,"require"],[22,47,77,33],[22,48,77,33,"_dependencyMap"],[22,62,77,33],[23,2,77,33],[23,6,77,33,"_createClass"],[23,18,77,33],[23,21,77,33,"_interopDefault"],[23,36,77,33],[23,37,77,33,"_babelRuntimeHelpersCreateClass"],[23,68,77,33],[24,2,1,0],[24,6,1,0,"_api"],[24,10,1,0],[24,13,1,0,"require"],[24,20,1,0],[24,21,1,0,"_dependencyMap"],[24,35,1,0],[25,2,1,0],[25,6,1,0,"api"],[25,9,1,0],[25,12,1,0,"_interopDefault"],[25,27,1,0],[25,28,1,0,"_api"],[25,32,1,0],[26,2,2,0],[26,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[26,42,2,0],[26,45,2,0,"require"],[26,52,2,0],[26,53,2,0,"_dependencyMap"],[26,67,2,0],[27,2,2,0],[27,6,2,0,"AsyncStorage"],[27,18,2,0],[27,21,2,0,"_interopDefault"],[27,36,2,0],[27,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[27,73,2,0],[28,2,2,69],[28,6,25,6,"AuthService"],[28,17,25,17],[29,4,25,17],[29,13,25,17,"AuthService"],[29,25,25,17],[30,6,25,17],[30,10,25,17,"_classCallCheck"],[30,25,25,17],[30,26,25,17,"default"],[30,33,25,17],[30,41,25,17,"AuthService"],[30,52,25,17],[31,4,25,17],[32,4,25,17],[32,15,25,17,"_createClass"],[32,27,25,17],[32,28,25,17,"default"],[32,35,25,17],[32,37,25,17,"AuthService"],[32,48,25,17],[33,6,25,17,"key"],[33,9,25,17],[34,6,25,17,"value"],[34,11,25,17],[35,8,25,17],[35,12,25,17,"_login"],[35,18,25,17],[35,25,25,17,"_asyncToGenerator"],[35,42,25,17],[35,43,25,17,"default"],[35,50,25,17],[35,52,26,2],[35,63,26,14,"data"],[35,67,26,29],[35,69,26,101],[36,10,26,101],[36,14,26,31,"stayLoggedIn"],[36,26,26,52],[36,29,26,52,"arguments"],[36,38,26,52],[36,39,26,52,"length"],[36,45,26,52],[36,53,26,52,"arguments"],[36,62,26,52],[36,70,26,52,"undefined"],[36,79,26,52],[36,82,26,52,"arguments"],[36,91,26,52],[36,97,26,55],[36,101,26,59],[37,10,27,4],[37,14,27,10,"response"],[37,22,27,18],[37,31,27,27,"api"],[37,34,27,30],[37,35,27,30,"default"],[37,42,27,30],[37,43,27,31,"post"],[37,47,27,35],[37,48,27,36],[37,61,27,49],[37,63,27,51,"data"],[37,67,27,55],[37,68,27,56],[38,10,28,4],[38,14,28,4,"_response$data"],[38,28,28,4],[38,31,28,36,"response"],[38,39,28,44],[38,40,28,45,"data"],[38,44,28,49],[39,12,28,12,"session_token"],[39,25,28,25],[39,28,28,25,"_response$data"],[39,42,28,25],[39,43,28,12,"session_token"],[39,56,28,25],[40,12,28,27,"user"],[40,16,28,31],[40,19,28,31,"_response$data"],[40,33,28,31],[40,34,28,27,"user"],[40,38,28,31],[42,10,30,4],[43,10,31,4],[43,16,31,10,"AsyncStorage"],[43,28,31,22],[43,29,31,22,"default"],[43,36,31,22],[43,37,31,23,"setItem"],[43,44,31,30],[43,45,31,31],[43,60,31,46],[43,62,31,48,"session_token"],[43,75,31,61],[43,76,31,62],[44,10,32,4],[44,16,32,10,"AsyncStorage"],[44,28,32,22],[44,29,32,22,"default"],[44,36,32,22],[44,37,32,23,"setItem"],[44,44,32,30],[44,45,32,31],[44,56,32,42],[44,58,32,44,"JSON"],[44,62,32,48],[44,63,32,49,"stringify"],[44,72,32,58],[44,73,32,59,"user"],[44,77,32,63],[44,78,32,64],[44,79,32,65],[46,10,34,4],[47,10,35,4],[47,16,35,10,"AsyncStorage"],[47,28,35,22],[47,29,35,22,"default"],[47,36,35,22],[47,37,35,23,"setItem"],[47,44,35,30],[47,45,35,31],[47,61,35,47],[47,63,35,49,"JSON"],[47,67,35,53],[47,68,35,54,"stringify"],[47,77,35,63],[47,78,35,64,"stayLoggedIn"],[47,90,35,76],[47,91,35,77],[47,92,35,78],[48,10,37,4],[48,17,37,11],[49,12,37,13,"token"],[49,17,37,18],[49,19,37,20,"session_token"],[49,32,37,33],[50,12,37,35,"user"],[51,10,37,40],[51,11,37,41],[52,8,38,2],[52,9,38,3],[53,8,38,3],[53,17,26,8,"login"],[53,22,26,13,"login"],[53,23,26,13,"_x"],[53,25,26,13],[54,10,26,13],[54,17,26,13,"_login"],[54,23,26,13],[54,24,26,13,"apply"],[54,29,26,13],[54,36,26,13,"arguments"],[54,45,26,13],[55,8,26,13],[56,8,26,13],[56,15,26,8,"login"],[56,20,26,13],[57,6,26,13],[58,4,26,13],[59,6,26,13,"key"],[59,9,26,13],[60,6,26,13,"value"],[60,11,26,13],[61,8,26,13],[61,12,26,13,"_register"],[61,21,26,13],[61,28,26,13,"_asyncToGenerator"],[61,45,26,13],[61,46,26,13,"default"],[61,53,26,13],[61,55,40,2],[61,66,40,17,"data"],[61,70,40,35],[61,72,40,77],[62,10,41,4],[62,14,41,10,"response"],[62,22,41,18],[62,31,41,27,"api"],[62,34,41,30],[62,35,41,30,"default"],[62,42,41,30],[62,43,41,31,"post"],[62,47,41,35],[62,48,41,36],[62,64,41,52],[62,66,41,54],[62,70,41,58],[62,72,41,60],[63,12,42,6,"params"],[63,18,42,12],[63,20,42,14,"data"],[64,10,43,4],[64,11,43,5],[64,12,43,6],[65,10,44,4],[65,14,44,4,"_response$data2"],[65,29,44,4],[65,32,44,36,"response"],[65,40,44,44],[65,41,44,45,"data"],[65,45,44,49],[66,12,44,12,"session_token"],[66,25,44,25],[66,28,44,25,"_response$data2"],[66,43,44,25],[66,44,44,12,"session_token"],[66,57,44,25],[67,12,44,27,"user"],[67,16,44,31],[67,19,44,31,"_response$data2"],[67,34,44,31],[67,35,44,27,"user"],[67,39,44,31],[68,10,46,4],[68,16,46,10,"AsyncStorage"],[68,28,46,22],[68,29,46,22,"default"],[68,36,46,22],[68,37,46,23,"setItem"],[68,44,46,30],[68,45,46,31],[68,60,46,46],[68,62,46,48,"session_token"],[68,75,46,61],[68,76,46,62],[69,10,47,4],[69,16,47,10,"AsyncStorage"],[69,28,47,22],[69,29,47,22,"default"],[69,36,47,22],[69,37,47,23,"setItem"],[69,44,47,30],[69,45,47,31],[69,56,47,42],[69,58,47,44,"JSON"],[69,62,47,48],[69,63,47,49,"stringify"],[69,72,47,58],[69,73,47,59,"user"],[69,77,47,63],[69,78,47,64],[69,79,47,65],[70,10,49,4],[70,17,49,11],[71,12,49,13,"token"],[71,17,49,18],[71,19,49,20,"session_token"],[71,32,49,33],[72,12,49,35,"user"],[73,10,49,40],[73,11,49,41],[74,8,50,2],[74,9,50,3],[75,8,50,3],[75,17,40,8,"register"],[75,25,40,16,"register"],[75,26,40,16,"_x2"],[75,29,40,16],[76,10,40,16],[76,17,40,16,"_register"],[76,26,40,16],[76,27,40,16,"apply"],[76,32,40,16],[76,39,40,16,"arguments"],[76,48,40,16],[77,8,40,16],[78,8,40,16],[78,15,40,8,"register"],[78,23,40,16],[79,6,40,16],[80,4,40,16],[81,6,40,16,"key"],[81,9,40,16],[82,6,40,16,"value"],[82,11,40,16],[83,8,40,16],[83,12,40,16,"_logout"],[83,19,40,16],[83,26,40,16,"_asyncToGenerator"],[83,43,40,16],[83,44,40,16,"default"],[83,51,40,16],[83,53,52,2],[83,66,52,32],[84,10,53,4],[85,10,54,4],[85,16,54,10,"AsyncStorage"],[85,28,54,22],[85,29,54,22,"default"],[85,36,54,22],[85,37,54,23,"removeItem"],[85,47,54,33],[85,48,54,34],[85,63,54,49],[85,64,54,50],[86,10,55,4],[86,16,55,10,"AsyncStorage"],[86,28,55,22],[86,29,55,22,"default"],[86,36,55,22],[86,37,55,23,"removeItem"],[86,47,55,33],[86,48,55,34],[86,59,55,45],[86,60,55,46],[87,8,56,2],[87,9,56,3],[88,8,56,3],[88,17,52,8,"logout"],[88,23,52,14,"logout"],[88,24,52,14],[89,10,52,14],[89,17,52,14,"_logout"],[89,24,52,14],[89,25,52,14,"apply"],[89,30,52,14],[89,37,52,14,"arguments"],[89,46,52,14],[90,8,52,14],[91,8,52,14],[91,15,52,8,"logout"],[91,21,52,14],[92,6,52,14],[93,4,52,14],[94,6,52,14,"key"],[94,9,52,14],[95,6,52,14,"value"],[95,11,52,14],[96,8,52,14],[96,12,52,14,"_getCurrentUser"],[96,27,52,14],[96,34,52,14,"_asyncToGenerator"],[96,51,52,14],[96,52,52,14,"default"],[96,59,52,14],[96,61,58,2],[96,74,58,47],[97,10,59,4],[97,14,59,8],[98,12,60,6],[98,16,60,12,"response"],[98,24,60,20],[98,33,60,29,"api"],[98,36,60,32],[98,37,60,32,"default"],[98,44,60,32],[98,45,60,33,"get"],[98,48,60,36],[98,49,60,37],[98,59,60,47],[98,60,60,48],[99,12,61,6],[99,19,61,13,"response"],[99,27,61,21],[99,28,61,22,"data"],[99,32,61,26],[100,10,62,4],[100,11,62,5],[100,12,62,6],[100,19,62,13,"error"],[100,24,62,18],[100,26,62,20],[101,12,63,6],[101,19,63,13],[101,23,63,17],[102,10,64,4],[103,8,65,2],[103,9,65,3],[104,8,65,3],[104,17,58,8,"getCurrentUser"],[104,31,58,22,"getCurrentUser"],[104,32,58,22],[105,10,58,22],[105,17,58,22,"_getCurrentUser"],[105,32,58,22],[105,33,58,22,"apply"],[105,38,58,22],[105,45,58,22,"arguments"],[105,54,58,22],[106,8,58,22],[107,8,58,22],[107,15,58,8,"getCurrentUser"],[107,29,58,22],[108,6,58,22],[109,4,58,22],[110,6,58,22,"key"],[110,9,58,22],[111,6,58,22,"value"],[111,11,58,22],[112,8,58,22],[112,12,58,22,"_getStoredUser"],[112,26,58,22],[112,33,58,22,"_asyncToGenerator"],[112,50,58,22],[112,51,58,22,"default"],[112,58,58,22],[112,60,67,2],[112,73,67,46],[113,10,68,4],[113,14,68,10,"userData"],[113,22,68,18],[113,31,68,27,"AsyncStorage"],[113,43,68,39],[113,44,68,39,"default"],[113,51,68,39],[113,52,68,40,"getItem"],[113,59,68,47],[113,60,68,48],[113,71,68,59],[113,72,68,60],[114,10,69,4],[114,17,69,11,"userData"],[114,25,69,19],[114,28,69,22,"JSON"],[114,32,69,26],[114,33,69,27,"parse"],[114,38,69,32],[114,39,69,33,"userData"],[114,47,69,41],[114,48,69,42],[114,51,69,45],[114,55,69,49],[115,8,70,2],[115,9,70,3],[116,8,70,3],[116,17,67,8,"getStoredUser"],[116,30,67,21,"getStoredUser"],[116,31,67,21],[117,10,67,21],[117,17,67,21,"_getStoredUser"],[117,31,67,21],[117,32,67,21,"apply"],[117,37,67,21],[117,44,67,21,"arguments"],[117,53,67,21],[118,8,67,21],[119,8,67,21],[119,15,67,8,"getStoredUser"],[119,28,67,21],[120,6,67,21],[121,4,67,21],[122,6,67,21,"key"],[122,9,67,21],[123,6,67,21,"value"],[123,11,67,21],[124,8,67,21],[124,12,67,21,"_getToken"],[124,21,67,21],[124,28,67,21,"_asyncToGenerator"],[124,45,67,21],[124,46,67,21,"default"],[124,53,67,21],[124,55,72,2],[124,68,72,43],[125,10,73,4],[125,23,73,17,"AsyncStorage"],[125,35,73,29],[125,36,73,29,"default"],[125,43,73,29],[125,44,73,30,"getItem"],[125,51,73,37],[125,52,73,38],[125,67,73,53],[125,68,73,54],[126,8,74,2],[126,9,74,3],[127,8,74,3],[127,17,72,8,"getToken"],[127,25,72,16,"getToken"],[127,26,72,16],[128,10,72,16],[128,17,72,16,"_getToken"],[128,26,72,16],[128,27,72,16,"apply"],[128,32,72,16],[128,39,72,16,"arguments"],[128,48,72,16],[129,8,72,16],[130,8,72,16],[130,15,72,8,"getToken"],[130,23,72,16],[131,6,72,16],[132,4,72,16],[133,2,72,16],[134,2,77,0],[134,6,77,0,"_default"],[134,14,77,0],[134,17,77,15],[134,21,77,19,"AuthService"],[134,32,77,30],[134,33,77,31],[134,34,77,32],[135,0,77,33],[135,3]],"functionMap":{"names":["<global>","AuthService","AuthService#login","AuthService#register","AuthService#logout","AuthService#getCurrentUser","AuthService#getStoredUser","AuthService#getToken"],"mappings":"AAA;ACwB;ECC;GDY;EEE;GFU;EGE;GHI;EIE;GJO;EKE;GLG;EME;GNE;CDC"},"hasCjsExports":false},"type":"js/module"}]}