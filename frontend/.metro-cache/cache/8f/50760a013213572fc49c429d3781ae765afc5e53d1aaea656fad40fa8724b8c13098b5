{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"yg7e6laZwmpbIvId5jovq9ugXp8=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30=","exportNames":["*"],"imports":1}},{"name":"./api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":24,"index":24}}],"key":"FbKPDeRJ9TF3vg1eKYKz12urgic=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":25},"end":{"line":2,"column":69,"index":94}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _babelRuntimeHelpersClassCallCheck = require(_dependencyMap[1], \"@babel/runtime/helpers/classCallCheck\");\n  var _classCallCheck = _interopDefault(_babelRuntimeHelpersClassCallCheck);\n  var _babelRuntimeHelpersCreateClass = require(_dependencyMap[2], \"@babel/runtime/helpers/createClass\");\n  var _createClass = _interopDefault(_babelRuntimeHelpersCreateClass);\n  var _api = require(_dependencyMap[3], \"./api\");\n  var api = _interopDefault(_api);\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[4], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var AuthService = /*#__PURE__*/function () {\n    function AuthService() {\n      (0, _classCallCheck.default)(this, AuthService);\n    }\n    return (0, _createClass.default)(AuthService, [{\n      key: \"login\",\n      value: function () {\n        var _login = (0, _asyncToGenerator.default)(function* (data) {\n          var stayLoggedIn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n          var response = yield api.default.post('/auth/login', data);\n          var _response$data = response.data,\n            session_token = _response$data.session_token,\n            user = _response$data.user;\n\n          // Always store the token and user data\n          yield AsyncStorage.default.setItem('session_token', session_token);\n          yield AsyncStorage.default.setItem('user_data', JSON.stringify(user));\n\n          // Store the preference for staying logged in\n          yield AsyncStorage.default.setItem('stay_logged_in', JSON.stringify(stayLoggedIn));\n          return {\n            token: session_token,\n            user\n          };\n        });\n        function login(_x) {\n          return _login.apply(this, arguments);\n        }\n        return login;\n      }()\n    }, {\n      key: \"register\",\n      value: function () {\n        var _register = (0, _asyncToGenerator.default)(function* (data) {\n          var response = yield api.default.post('/auth/register', data);\n          var _response$data2 = response.data,\n            session_token = _response$data2.session_token,\n            user = _response$data2.user;\n          yield AsyncStorage.default.setItem('session_token', session_token);\n          yield AsyncStorage.default.setItem('user_data', JSON.stringify(user));\n          return {\n            token: session_token,\n            user\n          };\n        });\n        function register(_x2) {\n          return _register.apply(this, arguments);\n        }\n        return register;\n      }()\n    }, {\n      key: \"logout\",\n      value: function () {\n        var _logout = (0, _asyncToGenerator.default)(function* () {\n          // Clear local storage (backend doesn't need logout endpoint for JWT)\n          yield AsyncStorage.default.removeItem('session_token');\n          yield AsyncStorage.default.removeItem('user_data');\n        });\n        function logout() {\n          return _logout.apply(this, arguments);\n        }\n        return logout;\n      }()\n    }, {\n      key: \"getCurrentUser\",\n      value: function () {\n        var _getCurrentUser = (0, _asyncToGenerator.default)(function* () {\n          try {\n            var response = yield api.default.get('/auth/me');\n            return response.data;\n          } catch (error) {\n            return null;\n          }\n        });\n        function getCurrentUser() {\n          return _getCurrentUser.apply(this, arguments);\n        }\n        return getCurrentUser;\n      }()\n    }, {\n      key: \"getStoredUser\",\n      value: function () {\n        var _getStoredUser = (0, _asyncToGenerator.default)(function* () {\n          var userData = yield AsyncStorage.default.getItem('user_data');\n          return userData ? JSON.parse(userData) : null;\n        });\n        function getStoredUser() {\n          return _getStoredUser.apply(this, arguments);\n        }\n        return getStoredUser;\n      }()\n    }, {\n      key: \"getToken\",\n      value: function () {\n        var _getToken = (0, _asyncToGenerator.default)(function* () {\n          return yield AsyncStorage.default.getItem('session_token');\n        });\n        function getToken() {\n          return _getToken.apply(this, arguments);\n        }\n        return getToken;\n      }()\n    }]);\n  }();\n  var _default = new AuthService();\n});","lineCount":133,"map":[[12,2,76,0,"Object"],[12,8,76,0],[12,9,76,0,"defineProperty"],[12,23,76,0],[12,24,76,0,"exports"],[12,31,76,0],[13,4,76,0,"enumerable"],[13,14,76,0],[14,4,76,0,"get"],[14,7,76,0],[14,18,76,0,"get"],[14,19,76,0],[15,6,76,0],[15,13,76,0,"_default"],[15,21,76,0],[16,4,76,0],[17,2,76,0],[18,2,76,33],[18,6,76,33,"_babelRuntimeHelpersAsyncToGenerator"],[18,42,76,33],[18,45,76,33,"require"],[18,52,76,33],[18,53,76,33,"_dependencyMap"],[18,67,76,33],[19,2,76,33],[19,6,76,33,"_asyncToGenerator"],[19,23,76,33],[19,26,76,33,"_interopDefault"],[19,41,76,33],[19,42,76,33,"_babelRuntimeHelpersAsyncToGenerator"],[19,78,76,33],[20,2,76,33],[20,6,76,33,"_babelRuntimeHelpersClassCallCheck"],[20,40,76,33],[20,43,76,33,"require"],[20,50,76,33],[20,51,76,33,"_dependencyMap"],[20,65,76,33],[21,2,76,33],[21,6,76,33,"_classCallCheck"],[21,21,76,33],[21,24,76,33,"_interopDefault"],[21,39,76,33],[21,40,76,33,"_babelRuntimeHelpersClassCallCheck"],[21,74,76,33],[22,2,76,33],[22,6,76,33,"_babelRuntimeHelpersCreateClass"],[22,37,76,33],[22,40,76,33,"require"],[22,47,76,33],[22,48,76,33,"_dependencyMap"],[22,62,76,33],[23,2,76,33],[23,6,76,33,"_createClass"],[23,18,76,33],[23,21,76,33,"_interopDefault"],[23,36,76,33],[23,37,76,33,"_babelRuntimeHelpersCreateClass"],[23,68,76,33],[24,2,1,0],[24,6,1,0,"_api"],[24,10,1,0],[24,13,1,0,"require"],[24,20,1,0],[24,21,1,0,"_dependencyMap"],[24,35,1,0],[25,2,1,0],[25,6,1,0,"api"],[25,9,1,0],[25,12,1,0,"_interopDefault"],[25,27,1,0],[25,28,1,0,"_api"],[25,32,1,0],[26,2,2,0],[26,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[26,42,2,0],[26,45,2,0,"require"],[26,52,2,0],[26,53,2,0,"_dependencyMap"],[26,67,2,0],[27,2,2,0],[27,6,2,0,"AsyncStorage"],[27,18,2,0],[27,21,2,0,"_interopDefault"],[27,36,2,0],[27,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[27,73,2,0],[28,2,2,69],[28,6,26,6,"AuthService"],[28,17,26,17],[29,4,26,17],[29,13,26,17,"AuthService"],[29,25,26,17],[30,6,26,17],[30,10,26,17,"_classCallCheck"],[30,25,26,17],[30,26,26,17,"default"],[30,33,26,17],[30,41,26,17,"AuthService"],[30,52,26,17],[31,4,26,17],[32,4,26,17],[32,15,26,17,"_createClass"],[32,27,26,17],[32,28,26,17,"default"],[32,35,26,17],[32,37,26,17,"AuthService"],[32,48,26,17],[33,6,26,17,"key"],[33,9,26,17],[34,6,26,17,"value"],[34,11,26,17],[35,8,26,17],[35,12,26,17,"_login"],[35,18,26,17],[35,25,26,17,"_asyncToGenerator"],[35,42,26,17],[35,43,26,17,"default"],[35,50,26,17],[35,52,27,2],[35,63,27,14,"data"],[35,67,27,29],[35,69,27,101],[36,10,27,101],[36,14,27,31,"stayLoggedIn"],[36,26,27,52],[36,29,27,52,"arguments"],[36,38,27,52],[36,39,27,52,"length"],[36,45,27,52],[36,53,27,52,"arguments"],[36,62,27,52],[36,70,27,52,"undefined"],[36,79,27,52],[36,82,27,52,"arguments"],[36,91,27,52],[36,97,27,55],[36,101,27,59],[37,10,28,4],[37,14,28,10,"response"],[37,22,28,18],[37,31,28,27,"api"],[37,34,28,30],[37,35,28,30,"default"],[37,42,28,30],[37,43,28,31,"post"],[37,47,28,35],[37,48,28,36],[37,61,28,49],[37,63,28,51,"data"],[37,67,28,55],[37,68,28,56],[38,10,29,4],[38,14,29,4,"_response$data"],[38,28,29,4],[38,31,29,36,"response"],[38,39,29,44],[38,40,29,45,"data"],[38,44,29,49],[39,12,29,12,"session_token"],[39,25,29,25],[39,28,29,25,"_response$data"],[39,42,29,25],[39,43,29,12,"session_token"],[39,56,29,25],[40,12,29,27,"user"],[40,16,29,31],[40,19,29,31,"_response$data"],[40,33,29,31],[40,34,29,27,"user"],[40,38,29,31],[42,10,31,4],[43,10,32,4],[43,16,32,10,"AsyncStorage"],[43,28,32,22],[43,29,32,22,"default"],[43,36,32,22],[43,37,32,23,"setItem"],[43,44,32,30],[43,45,32,31],[43,60,32,46],[43,62,32,48,"session_token"],[43,75,32,61],[43,76,32,62],[44,10,33,4],[44,16,33,10,"AsyncStorage"],[44,28,33,22],[44,29,33,22,"default"],[44,36,33,22],[44,37,33,23,"setItem"],[44,44,33,30],[44,45,33,31],[44,56,33,42],[44,58,33,44,"JSON"],[44,62,33,48],[44,63,33,49,"stringify"],[44,72,33,58],[44,73,33,59,"user"],[44,77,33,63],[44,78,33,64],[44,79,33,65],[46,10,35,4],[47,10,36,4],[47,16,36,10,"AsyncStorage"],[47,28,36,22],[47,29,36,22,"default"],[47,36,36,22],[47,37,36,23,"setItem"],[47,44,36,30],[47,45,36,31],[47,61,36,47],[47,63,36,49,"JSON"],[47,67,36,53],[47,68,36,54,"stringify"],[47,77,36,63],[47,78,36,64,"stayLoggedIn"],[47,90,36,76],[47,91,36,77],[47,92,36,78],[48,10,38,4],[48,17,38,11],[49,12,38,13,"token"],[49,17,38,18],[49,19,38,20,"session_token"],[49,32,38,33],[50,12,38,35,"user"],[51,10,38,40],[51,11,38,41],[52,8,39,2],[52,9,39,3],[53,8,39,3],[53,17,27,8,"login"],[53,22,27,13,"login"],[53,23,27,13,"_x"],[53,25,27,13],[54,10,27,13],[54,17,27,13,"_login"],[54,23,27,13],[54,24,27,13,"apply"],[54,29,27,13],[54,36,27,13,"arguments"],[54,45,27,13],[55,8,27,13],[56,8,27,13],[56,15,27,8,"login"],[56,20,27,13],[57,6,27,13],[58,4,27,13],[59,6,27,13,"key"],[59,9,27,13],[60,6,27,13,"value"],[60,11,27,13],[61,8,27,13],[61,12,27,13,"_register"],[61,21,27,13],[61,28,27,13,"_asyncToGenerator"],[61,45,27,13],[61,46,27,13,"default"],[61,53,27,13],[61,55,41,2],[61,66,41,17,"data"],[61,70,41,35],[61,72,41,77],[62,10,42,4],[62,14,42,10,"response"],[62,22,42,18],[62,31,42,27,"api"],[62,34,42,30],[62,35,42,30,"default"],[62,42,42,30],[62,43,42,31,"post"],[62,47,42,35],[62,48,42,36],[62,64,42,52],[62,66,42,54,"data"],[62,70,42,58],[62,71,42,59],[63,10,43,4],[63,14,43,4,"_response$data2"],[63,29,43,4],[63,32,43,36,"response"],[63,40,43,44],[63,41,43,45,"data"],[63,45,43,49],[64,12,43,12,"session_token"],[64,25,43,25],[64,28,43,25,"_response$data2"],[64,43,43,25],[64,44,43,12,"session_token"],[64,57,43,25],[65,12,43,27,"user"],[65,16,43,31],[65,19,43,31,"_response$data2"],[65,34,43,31],[65,35,43,27,"user"],[65,39,43,31],[66,10,45,4],[66,16,45,10,"AsyncStorage"],[66,28,45,22],[66,29,45,22,"default"],[66,36,45,22],[66,37,45,23,"setItem"],[66,44,45,30],[66,45,45,31],[66,60,45,46],[66,62,45,48,"session_token"],[66,75,45,61],[66,76,45,62],[67,10,46,4],[67,16,46,10,"AsyncStorage"],[67,28,46,22],[67,29,46,22,"default"],[67,36,46,22],[67,37,46,23,"setItem"],[67,44,46,30],[67,45,46,31],[67,56,46,42],[67,58,46,44,"JSON"],[67,62,46,48],[67,63,46,49,"stringify"],[67,72,46,58],[67,73,46,59,"user"],[67,77,46,63],[67,78,46,64],[67,79,46,65],[68,10,48,4],[68,17,48,11],[69,12,48,13,"token"],[69,17,48,18],[69,19,48,20,"session_token"],[69,32,48,33],[70,12,48,35,"user"],[71,10,48,40],[71,11,48,41],[72,8,49,2],[72,9,49,3],[73,8,49,3],[73,17,41,8,"register"],[73,25,41,16,"register"],[73,26,41,16,"_x2"],[73,29,41,16],[74,10,41,16],[74,17,41,16,"_register"],[74,26,41,16],[74,27,41,16,"apply"],[74,32,41,16],[74,39,41,16,"arguments"],[74,48,41,16],[75,8,41,16],[76,8,41,16],[76,15,41,8,"register"],[76,23,41,16],[77,6,41,16],[78,4,41,16],[79,6,41,16,"key"],[79,9,41,16],[80,6,41,16,"value"],[80,11,41,16],[81,8,41,16],[81,12,41,16,"_logout"],[81,19,41,16],[81,26,41,16,"_asyncToGenerator"],[81,43,41,16],[81,44,41,16,"default"],[81,51,41,16],[81,53,51,2],[81,66,51,32],[82,10,52,4],[83,10,53,4],[83,16,53,10,"AsyncStorage"],[83,28,53,22],[83,29,53,22,"default"],[83,36,53,22],[83,37,53,23,"removeItem"],[83,47,53,33],[83,48,53,34],[83,63,53,49],[83,64,53,50],[84,10,54,4],[84,16,54,10,"AsyncStorage"],[84,28,54,22],[84,29,54,22,"default"],[84,36,54,22],[84,37,54,23,"removeItem"],[84,47,54,33],[84,48,54,34],[84,59,54,45],[84,60,54,46],[85,8,55,2],[85,9,55,3],[86,8,55,3],[86,17,51,8,"logout"],[86,23,51,14,"logout"],[86,24,51,14],[87,10,51,14],[87,17,51,14,"_logout"],[87,24,51,14],[87,25,51,14,"apply"],[87,30,51,14],[87,37,51,14,"arguments"],[87,46,51,14],[88,8,51,14],[89,8,51,14],[89,15,51,8,"logout"],[89,21,51,14],[90,6,51,14],[91,4,51,14],[92,6,51,14,"key"],[92,9,51,14],[93,6,51,14,"value"],[93,11,51,14],[94,8,51,14],[94,12,51,14,"_getCurrentUser"],[94,27,51,14],[94,34,51,14,"_asyncToGenerator"],[94,51,51,14],[94,52,51,14,"default"],[94,59,51,14],[94,61,57,2],[94,74,57,47],[95,10,58,4],[95,14,58,8],[96,12,59,6],[96,16,59,12,"response"],[96,24,59,20],[96,33,59,29,"api"],[96,36,59,32],[96,37,59,32,"default"],[96,44,59,32],[96,45,59,33,"get"],[96,48,59,36],[96,49,59,37],[96,59,59,47],[96,60,59,48],[97,12,60,6],[97,19,60,13,"response"],[97,27,60,21],[97,28,60,22,"data"],[97,32,60,26],[98,10,61,4],[98,11,61,5],[98,12,61,6],[98,19,61,13,"error"],[98,24,61,18],[98,26,61,20],[99,12,62,6],[99,19,62,13],[99,23,62,17],[100,10,63,4],[101,8,64,2],[101,9,64,3],[102,8,64,3],[102,17,57,8,"getCurrentUser"],[102,31,57,22,"getCurrentUser"],[102,32,57,22],[103,10,57,22],[103,17,57,22,"_getCurrentUser"],[103,32,57,22],[103,33,57,22,"apply"],[103,38,57,22],[103,45,57,22,"arguments"],[103,54,57,22],[104,8,57,22],[105,8,57,22],[105,15,57,8,"getCurrentUser"],[105,29,57,22],[106,6,57,22],[107,4,57,22],[108,6,57,22,"key"],[108,9,57,22],[109,6,57,22,"value"],[109,11,57,22],[110,8,57,22],[110,12,57,22,"_getStoredUser"],[110,26,57,22],[110,33,57,22,"_asyncToGenerator"],[110,50,57,22],[110,51,57,22,"default"],[110,58,57,22],[110,60,66,2],[110,73,66,46],[111,10,67,4],[111,14,67,10,"userData"],[111,22,67,18],[111,31,67,27,"AsyncStorage"],[111,43,67,39],[111,44,67,39,"default"],[111,51,67,39],[111,52,67,40,"getItem"],[111,59,67,47],[111,60,67,48],[111,71,67,59],[111,72,67,60],[112,10,68,4],[112,17,68,11,"userData"],[112,25,68,19],[112,28,68,22,"JSON"],[112,32,68,26],[112,33,68,27,"parse"],[112,38,68,32],[112,39,68,33,"userData"],[112,47,68,41],[112,48,68,42],[112,51,68,45],[112,55,68,49],[113,8,69,2],[113,9,69,3],[114,8,69,3],[114,17,66,8,"getStoredUser"],[114,30,66,21,"getStoredUser"],[114,31,66,21],[115,10,66,21],[115,17,66,21,"_getStoredUser"],[115,31,66,21],[115,32,66,21,"apply"],[115,37,66,21],[115,44,66,21,"arguments"],[115,53,66,21],[116,8,66,21],[117,8,66,21],[117,15,66,8,"getStoredUser"],[117,28,66,21],[118,6,66,21],[119,4,66,21],[120,6,66,21,"key"],[120,9,66,21],[121,6,66,21,"value"],[121,11,66,21],[122,8,66,21],[122,12,66,21,"_getToken"],[122,21,66,21],[122,28,66,21,"_asyncToGenerator"],[122,45,66,21],[122,46,66,21,"default"],[122,53,66,21],[122,55,71,2],[122,68,71,43],[123,10,72,4],[123,23,72,17,"AsyncStorage"],[123,35,72,29],[123,36,72,29,"default"],[123,43,72,29],[123,44,72,30,"getItem"],[123,51,72,37],[123,52,72,38],[123,67,72,53],[123,68,72,54],[124,8,73,2],[124,9,73,3],[125,8,73,3],[125,17,71,8,"getToken"],[125,25,71,16,"getToken"],[125,26,71,16],[126,10,71,16],[126,17,71,16,"_getToken"],[126,26,71,16],[126,27,71,16,"apply"],[126,32,71,16],[126,39,71,16,"arguments"],[126,48,71,16],[127,8,71,16],[128,8,71,16],[128,15,71,8,"getToken"],[128,23,71,16],[129,6,71,16],[130,4,71,16],[131,2,71,16],[132,2,76,0],[132,6,76,0,"_default"],[132,14,76,0],[132,17,76,15],[132,21,76,19,"AuthService"],[132,32,76,30],[132,33,76,31],[132,34,76,32],[133,0,76,33],[133,3]],"functionMap":{"names":["<global>","AuthService","AuthService#login","AuthService#register","AuthService#logout","AuthService#getCurrentUser","AuthService#getStoredUser","AuthService#getToken"],"mappings":"AAA;ACyB;ECC;GDY;EEE;GFQ;EGE;GHI;EIE;GJO;EKE;GLG;EME;GNE;CDC"},"hasCjsExports":false},"type":"js/module"}]}