{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"yg7e6laZwmpbIvId5jovq9ugXp8=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30=","exportNames":["*"],"imports":1}},{"name":"./api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":24,"index":24}}],"key":"FbKPDeRJ9TF3vg1eKYKz12urgic=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":25},"end":{"line":2,"column":69,"index":94}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _babelRuntimeHelpersClassCallCheck = require(_dependencyMap[1], \"@babel/runtime/helpers/classCallCheck\");\n  var _classCallCheck = _interopDefault(_babelRuntimeHelpersClassCallCheck);\n  var _babelRuntimeHelpersCreateClass = require(_dependencyMap[2], \"@babel/runtime/helpers/createClass\");\n  var _createClass = _interopDefault(_babelRuntimeHelpersCreateClass);\n  var _api = require(_dependencyMap[3], \"./api\");\n  var api = _interopDefault(_api);\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[4], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var AuthService = /*#__PURE__*/function () {\n    function AuthService() {\n      (0, _classCallCheck.default)(this, AuthService);\n    }\n    return (0, _createClass.default)(AuthService, [{\n      key: \"login\",\n      value: function () {\n        var _login = (0, _asyncToGenerator.default)(function* (data) {\n          var stayLoggedIn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n          var response = yield api.default.post('/auth/login', data);\n          var _response$data = response.data,\n            session_token = _response$data.session_token,\n            user = _response$data.user;\n\n          // Always store the token and user data\n          yield AsyncStorage.default.setItem('session_token', session_token);\n          yield AsyncStorage.default.setItem('user_data', JSON.stringify(user));\n\n          // Store the preference for staying logged in\n          yield AsyncStorage.default.setItem('stay_logged_in', JSON.stringify(stayLoggedIn));\n          return {\n            token: session_token,\n            user\n          };\n        });\n        function login(_x) {\n          return _login.apply(this, arguments);\n        }\n        return login;\n      }()\n    }, {\n      key: \"register\",\n      value: function () {\n        var _register = (0, _asyncToGenerator.default)(function* (data) {\n          var response = yield api.default.post('/auth/register', data);\n          var _response$data2 = response.data,\n            session_token = _response$data2.session_token,\n            user = _response$data2.user;\n          yield AsyncStorage.default.setItem('session_token', session_token);\n          yield AsyncStorage.default.setItem('user_data', JSON.stringify(user));\n          return {\n            token: session_token,\n            user\n          };\n        });\n        function register(_x2) {\n          return _register.apply(this, arguments);\n        }\n        return register;\n      }()\n    }, {\n      key: \"logout\",\n      value: function () {\n        var _logout = (0, _asyncToGenerator.default)(function* () {\n          // Clear local storage (backend doesn't need logout endpoint for JWT)\n          yield AsyncStorage.default.removeItem('session_token');\n          yield AsyncStorage.default.removeItem('user_data');\n        });\n        function logout() {\n          return _logout.apply(this, arguments);\n        }\n        return logout;\n      }()\n    }, {\n      key: \"getCurrentUser\",\n      value: function () {\n        var _getCurrentUser = (0, _asyncToGenerator.default)(function* () {\n          try {\n            var response = yield api.default.get('/auth/me');\n            return response.data;\n          } catch (error) {\n            return null;\n          }\n        });\n        function getCurrentUser() {\n          return _getCurrentUser.apply(this, arguments);\n        }\n        return getCurrentUser;\n      }()\n    }, {\n      key: \"getStoredUser\",\n      value: function () {\n        var _getStoredUser = (0, _asyncToGenerator.default)(function* () {\n          var userData = yield AsyncStorage.default.getItem('user_data');\n          return userData ? JSON.parse(userData) : null;\n        });\n        function getStoredUser() {\n          return _getStoredUser.apply(this, arguments);\n        }\n        return getStoredUser;\n      }()\n    }, {\n      key: \"getToken\",\n      value: function () {\n        var _getToken = (0, _asyncToGenerator.default)(function* () {\n          return yield AsyncStorage.default.getItem('session_token');\n        });\n        function getToken() {\n          return _getToken.apply(this, arguments);\n        }\n        return getToken;\n      }()\n    }]);\n  }();\n  var _default = new AuthService();\n});","lineCount":133,"map":[[12,2,79,0,"Object"],[12,8,79,0],[12,9,79,0,"defineProperty"],[12,23,79,0],[12,24,79,0,"exports"],[12,31,79,0],[13,4,79,0,"enumerable"],[13,14,79,0],[14,4,79,0,"get"],[14,7,79,0],[14,18,79,0,"get"],[14,19,79,0],[15,6,79,0],[15,13,79,0,"_default"],[15,21,79,0],[16,4,79,0],[17,2,79,0],[18,2,79,33],[18,6,79,33,"_babelRuntimeHelpersAsyncToGenerator"],[18,42,79,33],[18,45,79,33,"require"],[18,52,79,33],[18,53,79,33,"_dependencyMap"],[18,67,79,33],[19,2,79,33],[19,6,79,33,"_asyncToGenerator"],[19,23,79,33],[19,26,79,33,"_interopDefault"],[19,41,79,33],[19,42,79,33,"_babelRuntimeHelpersAsyncToGenerator"],[19,78,79,33],[20,2,79,33],[20,6,79,33,"_babelRuntimeHelpersClassCallCheck"],[20,40,79,33],[20,43,79,33,"require"],[20,50,79,33],[20,51,79,33,"_dependencyMap"],[20,65,79,33],[21,2,79,33],[21,6,79,33,"_classCallCheck"],[21,21,79,33],[21,24,79,33,"_interopDefault"],[21,39,79,33],[21,40,79,33,"_babelRuntimeHelpersClassCallCheck"],[21,74,79,33],[22,2,79,33],[22,6,79,33,"_babelRuntimeHelpersCreateClass"],[22,37,79,33],[22,40,79,33,"require"],[22,47,79,33],[22,48,79,33,"_dependencyMap"],[22,62,79,33],[23,2,79,33],[23,6,79,33,"_createClass"],[23,18,79,33],[23,21,79,33,"_interopDefault"],[23,36,79,33],[23,37,79,33,"_babelRuntimeHelpersCreateClass"],[23,68,79,33],[24,2,1,0],[24,6,1,0,"_api"],[24,10,1,0],[24,13,1,0,"require"],[24,20,1,0],[24,21,1,0,"_dependencyMap"],[24,35,1,0],[25,2,1,0],[25,6,1,0,"api"],[25,9,1,0],[25,12,1,0,"_interopDefault"],[25,27,1,0],[25,28,1,0,"_api"],[25,32,1,0],[26,2,2,0],[26,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[26,42,2,0],[26,45,2,0,"require"],[26,52,2,0],[26,53,2,0,"_dependencyMap"],[26,67,2,0],[27,2,2,0],[27,6,2,0,"AsyncStorage"],[27,18,2,0],[27,21,2,0,"_interopDefault"],[27,36,2,0],[27,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[27,73,2,0],[28,2,2,69],[28,6,29,6,"AuthService"],[28,17,29,17],[29,4,29,17],[29,13,29,17,"AuthService"],[29,25,29,17],[30,6,29,17],[30,10,29,17,"_classCallCheck"],[30,25,29,17],[30,26,29,17,"default"],[30,33,29,17],[30,41,29,17,"AuthService"],[30,52,29,17],[31,4,29,17],[32,4,29,17],[32,15,29,17,"_createClass"],[32,27,29,17],[32,28,29,17,"default"],[32,35,29,17],[32,37,29,17,"AuthService"],[32,48,29,17],[33,6,29,17,"key"],[33,9,29,17],[34,6,29,17,"value"],[34,11,29,17],[35,8,29,17],[35,12,29,17,"_login"],[35,18,29,17],[35,25,29,17,"_asyncToGenerator"],[35,42,29,17],[35,43,29,17,"default"],[35,50,29,17],[35,52,30,2],[35,63,30,14,"data"],[35,67,30,29],[35,69,30,101],[36,10,30,101],[36,14,30,31,"stayLoggedIn"],[36,26,30,52],[36,29,30,52,"arguments"],[36,38,30,52],[36,39,30,52,"length"],[36,45,30,52],[36,53,30,52,"arguments"],[36,62,30,52],[36,70,30,52,"undefined"],[36,79,30,52],[36,82,30,52,"arguments"],[36,91,30,52],[36,97,30,55],[36,101,30,59],[37,10,31,4],[37,14,31,10,"response"],[37,22,31,18],[37,31,31,27,"api"],[37,34,31,30],[37,35,31,30,"default"],[37,42,31,30],[37,43,31,31,"post"],[37,47,31,35],[37,48,31,36],[37,61,31,49],[37,63,31,51,"data"],[37,67,31,55],[37,68,31,56],[38,10,32,4],[38,14,32,4,"_response$data"],[38,28,32,4],[38,31,32,36,"response"],[38,39,32,44],[38,40,32,45,"data"],[38,44,32,49],[39,12,32,12,"session_token"],[39,25,32,25],[39,28,32,25,"_response$data"],[39,42,32,25],[39,43,32,12,"session_token"],[39,56,32,25],[40,12,32,27,"user"],[40,16,32,31],[40,19,32,31,"_response$data"],[40,33,32,31],[40,34,32,27,"user"],[40,38,32,31],[42,10,34,4],[43,10,35,4],[43,16,35,10,"AsyncStorage"],[43,28,35,22],[43,29,35,22,"default"],[43,36,35,22],[43,37,35,23,"setItem"],[43,44,35,30],[43,45,35,31],[43,60,35,46],[43,62,35,48,"session_token"],[43,75,35,61],[43,76,35,62],[44,10,36,4],[44,16,36,10,"AsyncStorage"],[44,28,36,22],[44,29,36,22,"default"],[44,36,36,22],[44,37,36,23,"setItem"],[44,44,36,30],[44,45,36,31],[44,56,36,42],[44,58,36,44,"JSON"],[44,62,36,48],[44,63,36,49,"stringify"],[44,72,36,58],[44,73,36,59,"user"],[44,77,36,63],[44,78,36,64],[44,79,36,65],[46,10,38,4],[47,10,39,4],[47,16,39,10,"AsyncStorage"],[47,28,39,22],[47,29,39,22,"default"],[47,36,39,22],[47,37,39,23,"setItem"],[47,44,39,30],[47,45,39,31],[47,61,39,47],[47,63,39,49,"JSON"],[47,67,39,53],[47,68,39,54,"stringify"],[47,77,39,63],[47,78,39,64,"stayLoggedIn"],[47,90,39,76],[47,91,39,77],[47,92,39,78],[48,10,41,4],[48,17,41,11],[49,12,41,13,"token"],[49,17,41,18],[49,19,41,20,"session_token"],[49,32,41,33],[50,12,41,35,"user"],[51,10,41,40],[51,11,41,41],[52,8,42,2],[52,9,42,3],[53,8,42,3],[53,17,30,8,"login"],[53,22,30,13,"login"],[53,23,30,13,"_x"],[53,25,30,13],[54,10,30,13],[54,17,30,13,"_login"],[54,23,30,13],[54,24,30,13,"apply"],[54,29,30,13],[54,36,30,13,"arguments"],[54,45,30,13],[55,8,30,13],[56,8,30,13],[56,15,30,8,"login"],[56,20,30,13],[57,6,30,13],[58,4,30,13],[59,6,30,13,"key"],[59,9,30,13],[60,6,30,13,"value"],[60,11,30,13],[61,8,30,13],[61,12,30,13,"_register"],[61,21,30,13],[61,28,30,13,"_asyncToGenerator"],[61,45,30,13],[61,46,30,13,"default"],[61,53,30,13],[61,55,44,2],[61,66,44,17,"data"],[61,70,44,35],[61,72,44,77],[62,10,45,4],[62,14,45,10,"response"],[62,22,45,18],[62,31,45,27,"api"],[62,34,45,30],[62,35,45,30,"default"],[62,42,45,30],[62,43,45,31,"post"],[62,47,45,35],[62,48,45,36],[62,64,45,52],[62,66,45,54,"data"],[62,70,45,58],[62,71,45,59],[63,10,46,4],[63,14,46,4,"_response$data2"],[63,29,46,4],[63,32,46,36,"response"],[63,40,46,44],[63,41,46,45,"data"],[63,45,46,49],[64,12,46,12,"session_token"],[64,25,46,25],[64,28,46,25,"_response$data2"],[64,43,46,25],[64,44,46,12,"session_token"],[64,57,46,25],[65,12,46,27,"user"],[65,16,46,31],[65,19,46,31,"_response$data2"],[65,34,46,31],[65,35,46,27,"user"],[65,39,46,31],[66,10,48,4],[66,16,48,10,"AsyncStorage"],[66,28,48,22],[66,29,48,22,"default"],[66,36,48,22],[66,37,48,23,"setItem"],[66,44,48,30],[66,45,48,31],[66,60,48,46],[66,62,48,48,"session_token"],[66,75,48,61],[66,76,48,62],[67,10,49,4],[67,16,49,10,"AsyncStorage"],[67,28,49,22],[67,29,49,22,"default"],[67,36,49,22],[67,37,49,23,"setItem"],[67,44,49,30],[67,45,49,31],[67,56,49,42],[67,58,49,44,"JSON"],[67,62,49,48],[67,63,49,49,"stringify"],[67,72,49,58],[67,73,49,59,"user"],[67,77,49,63],[67,78,49,64],[67,79,49,65],[68,10,51,4],[68,17,51,11],[69,12,51,13,"token"],[69,17,51,18],[69,19,51,20,"session_token"],[69,32,51,33],[70,12,51,35,"user"],[71,10,51,40],[71,11,51,41],[72,8,52,2],[72,9,52,3],[73,8,52,3],[73,17,44,8,"register"],[73,25,44,16,"register"],[73,26,44,16,"_x2"],[73,29,44,16],[74,10,44,16],[74,17,44,16,"_register"],[74,26,44,16],[74,27,44,16,"apply"],[74,32,44,16],[74,39,44,16,"arguments"],[74,48,44,16],[75,8,44,16],[76,8,44,16],[76,15,44,8,"register"],[76,23,44,16],[77,6,44,16],[78,4,44,16],[79,6,44,16,"key"],[79,9,44,16],[80,6,44,16,"value"],[80,11,44,16],[81,8,44,16],[81,12,44,16,"_logout"],[81,19,44,16],[81,26,44,16,"_asyncToGenerator"],[81,43,44,16],[81,44,44,16,"default"],[81,51,44,16],[81,53,54,2],[81,66,54,32],[82,10,55,4],[83,10,56,4],[83,16,56,10,"AsyncStorage"],[83,28,56,22],[83,29,56,22,"default"],[83,36,56,22],[83,37,56,23,"removeItem"],[83,47,56,33],[83,48,56,34],[83,63,56,49],[83,64,56,50],[84,10,57,4],[84,16,57,10,"AsyncStorage"],[84,28,57,22],[84,29,57,22,"default"],[84,36,57,22],[84,37,57,23,"removeItem"],[84,47,57,33],[84,48,57,34],[84,59,57,45],[84,60,57,46],[85,8,58,2],[85,9,58,3],[86,8,58,3],[86,17,54,8,"logout"],[86,23,54,14,"logout"],[86,24,54,14],[87,10,54,14],[87,17,54,14,"_logout"],[87,24,54,14],[87,25,54,14,"apply"],[87,30,54,14],[87,37,54,14,"arguments"],[87,46,54,14],[88,8,54,14],[89,8,54,14],[89,15,54,8,"logout"],[89,21,54,14],[90,6,54,14],[91,4,54,14],[92,6,54,14,"key"],[92,9,54,14],[93,6,54,14,"value"],[93,11,54,14],[94,8,54,14],[94,12,54,14,"_getCurrentUser"],[94,27,54,14],[94,34,54,14,"_asyncToGenerator"],[94,51,54,14],[94,52,54,14,"default"],[94,59,54,14],[94,61,60,2],[94,74,60,47],[95,10,61,4],[95,14,61,8],[96,12,62,6],[96,16,62,12,"response"],[96,24,62,20],[96,33,62,29,"api"],[96,36,62,32],[96,37,62,32,"default"],[96,44,62,32],[96,45,62,33,"get"],[96,48,62,36],[96,49,62,37],[96,59,62,47],[96,60,62,48],[97,12,63,6],[97,19,63,13,"response"],[97,27,63,21],[97,28,63,22,"data"],[97,32,63,26],[98,10,64,4],[98,11,64,5],[98,12,64,6],[98,19,64,13,"error"],[98,24,64,18],[98,26,64,20],[99,12,65,6],[99,19,65,13],[99,23,65,17],[100,10,66,4],[101,8,67,2],[101,9,67,3],[102,8,67,3],[102,17,60,8,"getCurrentUser"],[102,31,60,22,"getCurrentUser"],[102,32,60,22],[103,10,60,22],[103,17,60,22,"_getCurrentUser"],[103,32,60,22],[103,33,60,22,"apply"],[103,38,60,22],[103,45,60,22,"arguments"],[103,54,60,22],[104,8,60,22],[105,8,60,22],[105,15,60,8,"getCurrentUser"],[105,29,60,22],[106,6,60,22],[107,4,60,22],[108,6,60,22,"key"],[108,9,60,22],[109,6,60,22,"value"],[109,11,60,22],[110,8,60,22],[110,12,60,22,"_getStoredUser"],[110,26,60,22],[110,33,60,22,"_asyncToGenerator"],[110,50,60,22],[110,51,60,22,"default"],[110,58,60,22],[110,60,69,2],[110,73,69,46],[111,10,70,4],[111,14,70,10,"userData"],[111,22,70,18],[111,31,70,27,"AsyncStorage"],[111,43,70,39],[111,44,70,39,"default"],[111,51,70,39],[111,52,70,40,"getItem"],[111,59,70,47],[111,60,70,48],[111,71,70,59],[111,72,70,60],[112,10,71,4],[112,17,71,11,"userData"],[112,25,71,19],[112,28,71,22,"JSON"],[112,32,71,26],[112,33,71,27,"parse"],[112,38,71,32],[112,39,71,33,"userData"],[112,47,71,41],[112,48,71,42],[112,51,71,45],[112,55,71,49],[113,8,72,2],[113,9,72,3],[114,8,72,3],[114,17,69,8,"getStoredUser"],[114,30,69,21,"getStoredUser"],[114,31,69,21],[115,10,69,21],[115,17,69,21,"_getStoredUser"],[115,31,69,21],[115,32,69,21,"apply"],[115,37,69,21],[115,44,69,21,"arguments"],[115,53,69,21],[116,8,69,21],[117,8,69,21],[117,15,69,8,"getStoredUser"],[117,28,69,21],[118,6,69,21],[119,4,69,21],[120,6,69,21,"key"],[120,9,69,21],[121,6,69,21,"value"],[121,11,69,21],[122,8,69,21],[122,12,69,21,"_getToken"],[122,21,69,21],[122,28,69,21,"_asyncToGenerator"],[122,45,69,21],[122,46,69,21,"default"],[122,53,69,21],[122,55,74,2],[122,68,74,43],[123,10,75,4],[123,23,75,17,"AsyncStorage"],[123,35,75,29],[123,36,75,29,"default"],[123,43,75,29],[123,44,75,30,"getItem"],[123,51,75,37],[123,52,75,38],[123,67,75,53],[123,68,75,54],[124,8,76,2],[124,9,76,3],[125,8,76,3],[125,17,74,8,"getToken"],[125,25,74,16,"getToken"],[125,26,74,16],[126,10,74,16],[126,17,74,16,"_getToken"],[126,26,74,16],[126,27,74,16,"apply"],[126,32,74,16],[126,39,74,16,"arguments"],[126,48,74,16],[127,8,74,16],[128,8,74,16],[128,15,74,8,"getToken"],[128,23,74,16],[129,6,74,16],[130,4,74,16],[131,2,74,16],[132,2,79,0],[132,6,79,0,"_default"],[132,14,79,0],[132,17,79,15],[132,21,79,19,"AuthService"],[132,32,79,30],[132,33,79,31],[132,34,79,32],[133,0,79,33],[133,3]],"functionMap":{"names":["<global>","AuthService","AuthService#login","AuthService#register","AuthService#logout","AuthService#getCurrentUser","AuthService#getStoredUser","AuthService#getToken"],"mappings":"AAA;AC4B;ECC;GDY;EEE;GFQ;EGE;GHI;EIE;GJO;EKE;GLG;EME;GNE;CDC"},"hasCjsExports":false},"type":"js/module"}]}