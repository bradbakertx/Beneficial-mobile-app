{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../services/auth.service","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":61,"index":140}}],"key":"OAwOj13pryMi7HegghVkxChHnhI=","exportNames":["*"],"imports":1}},{"name":"../store/authStore","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":141},"end":{"line":3,"column":50,"index":191}}],"key":"/4BDl/hqolvw7T4CXD8jWAtZK4M=","exportNames":["*"],"imports":1}},{"name":"../services/notifications.service","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":192},"end":{"line":4,"column":114,"index":306}}],"key":"wN7e6rqBf7ZuKvH36NXG+/TSRnI=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _servicesAuthService = require(_dependencyMap[1], \"../services/auth.service\");\n  var authService = _interopDefault(_servicesAuthService);\n  var _storeAuthStore = require(_dependencyMap[2], \"../store/authStore\");\n  var _servicesNotificationsService = require(_dependencyMap[3], \"../services/notifications.service\");\n  var _reactJsxDevRuntime = require(_dependencyMap[4], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const AuthProvider = ({\n    children\n  }) => {\n    _s();\n    const {\n      user,\n      isLoading,\n      isAuthenticated,\n      setUser,\n      setLoading,\n      logout: storeLogout\n    } = (0, _storeAuthStore.useAuthStore)();\n    (0, _react.useEffect)(() => {\n      checkAuth();\n    }, []);\n    const checkAuth = async () => {\n      try {\n        setLoading(true);\n        const token = await authService.default.getToken();\n        if (token) {\n          const currentUser = await authService.default.getCurrentUser();\n          if (currentUser) {\n            setUser(currentUser);\n          } else {\n            setUser(null);\n          }\n        } else {\n          setUser(null);\n        }\n      } catch (error) {\n        console.error('Auth check error:', error);\n        setUser(null);\n      } finally {\n        setLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      try {\n        const {\n          user\n        } = await authService.default.login({\n          email,\n          password\n        });\n        setUser(user);\n\n        // Register for push notifications after successful login\n        (0, _servicesNotificationsService.registerForPushNotificationsAsync)().catch(error => {\n          console.error('Failed to register for push notifications:', error);\n        });\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    };\n    const register = async data => {\n      try {\n        const {\n          user\n        } = await authService.default.register(data);\n        setUser(user);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Registration failed');\n      }\n    };\n    const logout = async () => {\n      await authService.default.logout();\n      storeLogout();\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        isLoading,\n        isAuthenticated,\n        login,\n        register,\n        logout\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 5\n    }, this);\n  };\n  _s(AuthProvider, \"1WMNXmMClNBWhtYWBsc1Azwbups=\", false, function () {\n    return [_storeAuthStore.useAuthStore];\n  });\n  _c = AuthProvider;\n  const useAuth = () => {\n    _s2();\n    const context = (0, _react.useContext)(AuthContext);\n    if (!context) {\n      throw new Error('useAuth must be used within AuthProvider');\n    }\n    return context;\n  };\n  _s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":133,"map":[[15,2,17,0,"Object"],[15,8,17,0],[15,9,17,0,"defineProperty"],[15,23,17,0],[15,24,17,0,"exports"],[15,31,17,0],[16,4,17,0,"enumerable"],[16,14,17,0],[17,4,17,0,"get"],[17,7,17,0],[17,18,17,0,"get"],[17,19,17,0],[18,6,17,0],[18,13,17,0,"AuthProvider"],[18,25,17,0],[19,4,17,0],[20,2,17,0],[21,2,82,0,"Object"],[21,8,82,0],[21,9,82,0,"defineProperty"],[21,23,82,0],[21,24,82,0,"exports"],[21,31,82,0],[22,4,82,0,"enumerable"],[22,14,82,0],[23,4,82,0,"get"],[23,7,82,0],[23,18,82,0,"get"],[23,19,82,0],[24,6,82,0],[24,13,82,0,"useAuth"],[24,20,82,0],[25,4,82,0],[26,2,82,0],[27,2,1,0],[27,6,1,0,"_react"],[27,12,1,0],[27,15,1,0,"require"],[27,22,1,0],[27,23,1,0,"_dependencyMap"],[27,37,1,0],[28,2,2,0],[28,6,2,0,"_servicesAuthService"],[28,26,2,0],[28,29,2,0,"require"],[28,36,2,0],[28,37,2,0,"_dependencyMap"],[28,51,2,0],[29,2,2,0],[29,6,2,0,"authService"],[29,17,2,0],[29,20,2,0,"_interopDefault"],[29,35,2,0],[29,36,2,0,"_servicesAuthService"],[29,56,2,0],[30,2,3,0],[30,6,3,0,"_storeAuthStore"],[30,21,3,0],[30,24,3,0,"require"],[30,31,3,0],[30,32,3,0,"_dependencyMap"],[30,46,3,0],[31,2,4,0],[31,6,4,0,"_servicesNotificationsService"],[31,35,4,0],[31,38,4,0,"require"],[31,45,4,0],[31,46,4,0,"_dependencyMap"],[31,60,4,0],[32,2,4,114],[32,6,4,114,"_reactJsxDevRuntime"],[32,25,4,114],[32,28,4,114,"require"],[32,35,4,114],[32,36,4,114,"_dependencyMap"],[32,50,4,114],[33,2,15,0],[33,8,15,6,"AuthContext"],[33,19,15,17],[33,35,15,20],[33,39,15,20,"createContext"],[33,45,15,33],[33,46,15,33,"createContext"],[33,59,15,33],[33,61,15,63,"undefined"],[33,70,15,72],[33,71,15,73],[34,2,17,7],[34,8,17,13,"AuthProvider"],[34,20,17,66],[34,23,17,69,"AuthProvider"],[34,24,17,70],[35,4,17,72,"children"],[36,2,17,81],[36,3,17,82],[36,8,17,87],[37,4,17,87,"_s"],[37,6,17,87],[38,4,18,2],[38,10,18,8],[39,6,18,10,"user"],[39,10,18,14],[40,6,18,16,"isLoading"],[40,15,18,25],[41,6,18,27,"isAuthenticated"],[41,21,18,42],[42,6,18,44,"setUser"],[42,13,18,51],[43,6,18,53,"setLoading"],[43,16,18,63],[44,6,18,65,"logout"],[44,12,18,71],[44,14,18,73,"storeLogout"],[45,4,18,85],[45,5,18,86],[45,8,18,89],[45,12,18,89,"useAuthStore"],[45,27,18,101],[45,28,18,101,"useAuthStore"],[45,40,18,101],[45,42,18,102],[45,43,18,103],[46,4,20,2],[46,8,20,2,"useEffect"],[46,14,20,11],[46,15,20,11,"useEffect"],[46,24,20,11],[46,26,20,12],[46,32,20,18],[47,6,21,4,"checkAuth"],[47,15,21,13],[47,16,21,14],[47,17,21,15],[48,4,22,2],[48,5,22,3],[48,7,22,5],[48,9,22,7],[48,10,22,8],[49,4,24,2],[49,10,24,8,"checkAuth"],[49,19,24,17],[49,22,24,20],[49,28,24,20,"checkAuth"],[49,29,24,20],[49,34,24,32],[50,6,25,4],[50,10,25,8],[51,8,26,6,"setLoading"],[51,18,26,16],[51,19,26,17],[51,23,26,21],[51,24,26,22],[52,8,27,6],[52,14,27,12,"token"],[52,19,27,17],[52,22,27,20],[52,28,27,26,"authService"],[52,39,27,37],[52,40,27,37,"default"],[52,47,27,37],[52,48,27,38,"getToken"],[52,56,27,46],[52,57,27,47],[52,58,27,48],[53,8,29,6],[53,12,29,10,"token"],[53,17,29,15],[53,19,29,17],[54,10,30,8],[54,16,30,14,"currentUser"],[54,27,30,25],[54,30,30,28],[54,36,30,34,"authService"],[54,47,30,45],[54,48,30,45,"default"],[54,55,30,45],[54,56,30,46,"getCurrentUser"],[54,70,30,60],[54,71,30,61],[54,72,30,62],[55,10,31,8],[55,14,31,12,"currentUser"],[55,25,31,23],[55,27,31,25],[56,12,32,10,"setUser"],[56,19,32,17],[56,20,32,18,"currentUser"],[56,31,32,29],[56,32,32,30],[57,10,33,8],[57,11,33,9],[57,17,33,15],[58,12,34,10,"setUser"],[58,19,34,17],[58,20,34,18],[58,24,34,22],[58,25,34,23],[59,10,35,8],[60,8,36,6],[60,9,36,7],[60,15,36,13],[61,10,37,8,"setUser"],[61,17,37,15],[61,18,37,16],[61,22,37,20],[61,23,37,21],[62,8,38,6],[63,6,39,4],[63,7,39,5],[63,8,39,6],[63,15,39,13,"error"],[63,20,39,18],[63,22,39,20],[64,8,40,6,"console"],[64,15,40,13],[64,16,40,14,"error"],[64,21,40,19],[64,22,40,20],[64,41,40,39],[64,43,40,41,"error"],[64,48,40,46],[64,49,40,47],[65,8,41,6,"setUser"],[65,15,41,13],[65,16,41,14],[65,20,41,18],[65,21,41,19],[66,6,42,4],[66,7,42,5],[66,16,42,14],[67,8,43,6,"setLoading"],[67,18,43,16],[67,19,43,17],[67,24,43,22],[67,25,43,23],[68,6,44,4],[69,4,45,2],[69,5,45,3],[70,4,47,2],[70,10,47,8,"login"],[70,15,47,13],[70,18,47,16],[70,24,47,16,"login"],[70,25,47,23,"email"],[70,30,47,36],[70,32,47,38,"password"],[70,40,47,54],[70,45,47,59],[71,6,48,4],[71,10,48,8],[72,8,49,6],[72,14,49,12],[73,10,49,14,"user"],[74,8,49,19],[74,9,49,20],[74,12,49,23],[74,18,49,29,"authService"],[74,29,49,40],[74,30,49,40,"default"],[74,37,49,40],[74,38,49,41,"login"],[74,43,49,46],[74,44,49,47],[75,10,49,49,"email"],[75,15,49,54],[76,10,49,56,"password"],[77,8,49,65],[77,9,49,66],[77,10,49,67],[78,8,50,6,"setUser"],[78,15,50,13],[78,16,50,14,"user"],[78,20,50,18],[78,21,50,19],[80,8,52,6],[81,8,53,6],[81,12,53,6,"registerForPushNotificationsAsync"],[81,41,53,39],[81,42,53,39,"registerForPushNotificationsAsync"],[81,75,53,39],[81,77,53,40],[81,78,53,41],[81,79,53,42,"catch"],[81,84,53,47],[81,85,53,49,"error"],[81,90,53,54],[81,94,53,59],[82,10,54,8,"console"],[82,17,54,15],[82,18,54,16,"error"],[82,23,54,21],[82,24,54,22],[82,68,54,66],[82,70,54,68,"error"],[82,75,54,73],[82,76,54,74],[83,8,55,6],[83,9,55,7],[83,10,55,8],[84,6,56,4],[84,7,56,5],[84,8,56,6],[84,15,56,13,"error"],[84,20,56,23],[84,22,56,25],[85,8,57,6],[85,14,57,12],[85,18,57,16,"Error"],[85,23,57,21],[85,24,57,22,"error"],[85,29,57,27],[85,30,57,28,"response"],[85,38,57,36],[85,40,57,38,"data"],[85,44,57,42],[85,46,57,44,"detail"],[85,52,57,50],[85,56,57,54],[85,70,57,68],[85,71,57,69],[86,6,58,4],[87,4,59,2],[87,5,59,3],[88,4,61,2],[88,10,61,8,"register"],[88,18,61,16],[88,21,61,19],[88,27,61,26,"data"],[88,31,61,35],[88,35,61,40],[89,6,62,4],[89,10,62,8],[90,8,63,6],[90,14,63,12],[91,10,63,14,"user"],[92,8,63,19],[92,9,63,20],[92,12,63,23],[92,18,63,29,"authService"],[92,29,63,40],[92,30,63,40,"default"],[92,37,63,40],[92,38,63,41,"register"],[92,46,63,49],[92,47,63,50,"data"],[92,51,63,54],[92,52,63,55],[93,8,64,6,"setUser"],[93,15,64,13],[93,16,64,14,"user"],[93,20,64,18],[93,21,64,19],[94,6,65,4],[94,7,65,5],[94,8,65,6],[94,15,65,13,"error"],[94,20,65,23],[94,22,65,25],[95,8,66,6],[95,14,66,12],[95,18,66,16,"Error"],[95,23,66,21],[95,24,66,22,"error"],[95,29,66,27],[95,30,66,28,"response"],[95,38,66,36],[95,40,66,38,"data"],[95,44,66,42],[95,46,66,44,"detail"],[95,52,66,50],[95,56,66,54],[95,77,66,75],[95,78,66,76],[96,6,67,4],[97,4,68,2],[97,5,68,3],[98,4,70,2],[98,10,70,8,"logout"],[98,16,70,14],[98,19,70,17],[98,25,70,17,"logout"],[98,26,70,17],[98,31,70,29],[99,6,71,4],[99,12,71,10,"authService"],[99,23,71,21],[99,24,71,21,"default"],[99,31,71,21],[99,32,71,22,"logout"],[99,38,71,28],[99,39,71,29],[99,40,71,30],[100,6,72,4,"storeLogout"],[100,17,72,15],[100,18,72,16],[100,19,72,17],[101,4,73,2],[101,5,73,3],[102,4,75,2],[102,24,76,4],[102,28,76,4,"_reactJsxDevRuntime"],[102,47,76,4],[102,48,76,4,"jsxDEV"],[102,54,76,4],[102,56,76,5,"AuthContext"],[102,67,76,16],[102,68,76,17,"Provider"],[102,76,76,25],[103,6,76,26,"value"],[103,11,76,31],[103,13,76,33],[104,8,76,35,"user"],[104,12,76,39],[105,8,76,41,"isLoading"],[105,17,76,50],[106,8,76,52,"isAuthenticated"],[106,23,76,67],[107,8,76,69,"login"],[107,13,76,74],[108,8,76,76,"register"],[108,16,76,84],[109,8,76,86,"logout"],[110,6,76,93],[110,7,76,95],[111,6,76,95,"children"],[111,14,76,95],[111,16,77,7,"children"],[112,4,77,15],[113,6,77,15,"fileName"],[113,14,77,15],[113,16,77,15,"_jsxFileName"],[113,28,77,15],[114,6,77,15,"lineNumber"],[114,16,77,15],[115,6,77,15,"columnNumber"],[115,18,77,15],[116,4,77,15],[116,11,78,26],[116,12,78,27],[117,2,80,0],[117,3,80,1],[118,2,80,2,"_s"],[118,4,80,2],[118,5,17,13,"AuthProvider"],[118,17,17,66],[119,4,17,66],[119,12,18,89,"useAuthStore"],[119,27,18,101],[119,28,18,101,"useAuthStore"],[119,40,18,101],[120,2,18,101],[121,2,18,101,"_c"],[121,4,18,101],[121,7,17,13,"AuthProvider"],[121,19,17,66],[122,2,82,7],[122,8,82,13,"useAuth"],[122,15,82,20],[122,18,82,23,"useAuth"],[122,19,82,23],[122,24,82,29],[123,4,82,29,"_s2"],[123,7,82,29],[124,4,83,2],[124,10,83,8,"context"],[124,17,83,15],[124,20,83,18],[124,24,83,18,"useContext"],[124,30,83,28],[124,31,83,28,"useContext"],[124,41,83,28],[124,43,83,29,"AuthContext"],[124,54,83,40],[124,55,83,41],[125,4,84,2],[125,8,84,6],[125,9,84,7,"context"],[125,16,84,14],[125,18,84,16],[126,6,85,4],[126,12,85,10],[126,16,85,14,"Error"],[126,21,85,19],[126,22,85,20],[126,64,85,62],[126,65,85,63],[127,4,86,2],[128,4,87,2],[128,11,87,9,"context"],[128,18,87,16],[129,2,88,0],[129,3,88,1],[130,2,88,2,"_s2"],[130,5,88,2],[130,6,82,13,"useAuth"],[130,13,82,20],[131,2,82,20],[131,6,82,20,"_c"],[131,8,82,20],[132,2,82,20,"$RefreshReg$"],[132,14,82,20],[132,15,82,20,"_c"],[132,17,82,20],[133,0,82,20],[133,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","checkAuth","login","registerForPushNotificationsAsync._catch$argument_0","register","logout","useAuth"],"mappings":"AAA;qECgB;YCG;GDE;oBEE;GFqB;gBGE;gDCM;ODE;GHI;mBKE;GLO;iBME;GNG;CDO;uBQE;CRM"},"hasCjsExports":false},"type":"js/module"}]}