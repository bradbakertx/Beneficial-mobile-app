{"dependencies":[{"name":"./api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":24,"index":24}}],"key":"FbKPDeRJ9TF3vg1eKYKz12urgic=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":25},"end":{"line":2,"column":69,"index":94}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _api = require(_dependencyMap[0], \"./api\");\n  var api = _interopDefault(_api);\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  class AuthService {\n    async login(data, stayLoggedIn = true) {\n      const response = await api.default.post('/auth/login', data);\n      const {\n        session_token,\n        user\n      } = response.data;\n\n      // Always store the token and user data\n      await AsyncStorage.default.setItem('session_token', session_token);\n      await AsyncStorage.default.setItem('user_data', JSON.stringify(user));\n\n      // Store the preference for staying logged in\n      await AsyncStorage.default.setItem('stay_logged_in', JSON.stringify(stayLoggedIn));\n      return {\n        token: session_token,\n        user\n      };\n    }\n    async register(data) {\n      const response = await api.default.post('/auth/register', data);\n      const {\n        session_token,\n        user\n      } = response.data;\n      await AsyncStorage.default.setItem('session_token', session_token);\n      await AsyncStorage.default.setItem('user_data', JSON.stringify(user));\n      return {\n        token: session_token,\n        user\n      };\n    }\n    async logout() {\n      // Clear local storage (backend doesn't need logout endpoint for JWT)\n      await AsyncStorage.default.removeItem('session_token');\n      await AsyncStorage.default.removeItem('user_data');\n    }\n    async getCurrentUser() {\n      try {\n        const response = await api.default.get('/auth/me');\n        return response.data;\n      } catch (error) {\n        return null;\n      }\n    }\n    async getStoredUser() {\n      const userData = await AsyncStorage.default.getItem('user_data');\n      return userData ? JSON.parse(userData) : null;\n    }\n    async getToken() {\n      return await AsyncStorage.default.getItem('session_token');\n    }\n  }\n  var _default = new AuthService();\n});","lineCount":76,"map":[[12,2,79,0,"Object"],[12,8,79,0],[12,9,79,0,"defineProperty"],[12,23,79,0],[12,24,79,0,"exports"],[12,31,79,0],[13,4,79,0,"enumerable"],[13,14,79,0],[14,4,79,0,"get"],[14,7,79,0],[14,18,79,0,"get"],[14,19,79,0],[15,6,79,0],[15,13,79,0,"_default"],[15,21,79,0],[16,4,79,0],[17,2,79,0],[18,2,1,0],[18,6,1,0,"_api"],[18,10,1,0],[18,13,1,0,"require"],[18,20,1,0],[18,21,1,0,"_dependencyMap"],[18,35,1,0],[19,2,1,0],[19,6,1,0,"api"],[19,9,1,0],[19,12,1,0,"_interopDefault"],[19,27,1,0],[19,28,1,0,"_api"],[19,32,1,0],[20,2,2,0],[20,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[20,42,2,0],[20,45,2,0,"require"],[20,52,2,0],[20,53,2,0,"_dependencyMap"],[20,67,2,0],[21,2,2,0],[21,6,2,0,"AsyncStorage"],[21,18,2,0],[21,21,2,0,"_interopDefault"],[21,36,2,0],[21,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[21,73,2,0],[22,2,29,0],[22,8,29,6,"AuthService"],[22,19,29,17],[22,20,29,18],[23,4,30,2],[23,10,30,8,"login"],[23,15,30,13,"login"],[23,16,30,14,"data"],[23,20,30,29],[23,22,30,31,"stayLoggedIn"],[23,34,30,52],[23,37,30,55],[23,41,30,59],[23,43,30,101],[24,6,31,4],[24,12,31,10,"response"],[24,20,31,18],[24,23,31,21],[24,29,31,27,"api"],[24,32,31,30],[24,33,31,30,"default"],[24,40,31,30],[24,41,31,31,"post"],[24,45,31,35],[24,46,31,36],[24,59,31,49],[24,61,31,51,"data"],[24,65,31,55],[24,66,31,56],[25,6,32,4],[25,12,32,10],[26,8,32,12,"session_token"],[26,21,32,25],[27,8,32,27,"user"],[28,6,32,32],[28,7,32,33],[28,10,32,36,"response"],[28,18,32,44],[28,19,32,45,"data"],[28,23,32,49],[30,6,34,4],[31,6,35,4],[31,12,35,10,"AsyncStorage"],[31,24,35,22],[31,25,35,22,"default"],[31,32,35,22],[31,33,35,23,"setItem"],[31,40,35,30],[31,41,35,31],[31,56,35,46],[31,58,35,48,"session_token"],[31,71,35,61],[31,72,35,62],[32,6,36,4],[32,12,36,10,"AsyncStorage"],[32,24,36,22],[32,25,36,22,"default"],[32,32,36,22],[32,33,36,23,"setItem"],[32,40,36,30],[32,41,36,31],[32,52,36,42],[32,54,36,44,"JSON"],[32,58,36,48],[32,59,36,49,"stringify"],[32,68,36,58],[32,69,36,59,"user"],[32,73,36,63],[32,74,36,64],[32,75,36,65],[34,6,38,4],[35,6,39,4],[35,12,39,10,"AsyncStorage"],[35,24,39,22],[35,25,39,22,"default"],[35,32,39,22],[35,33,39,23,"setItem"],[35,40,39,30],[35,41,39,31],[35,57,39,47],[35,59,39,49,"JSON"],[35,63,39,53],[35,64,39,54,"stringify"],[35,73,39,63],[35,74,39,64,"stayLoggedIn"],[35,86,39,76],[35,87,39,77],[35,88,39,78],[36,6,41,4],[36,13,41,11],[37,8,41,13,"token"],[37,13,41,18],[37,15,41,20,"session_token"],[37,28,41,33],[38,8,41,35,"user"],[39,6,41,40],[39,7,41,41],[40,4,42,2],[41,4,44,2],[41,10,44,8,"register"],[41,18,44,16,"register"],[41,19,44,17,"data"],[41,23,44,35],[41,25,44,77],[42,6,45,4],[42,12,45,10,"response"],[42,20,45,18],[42,23,45,21],[42,29,45,27,"api"],[42,32,45,30],[42,33,45,30,"default"],[42,40,45,30],[42,41,45,31,"post"],[42,45,45,35],[42,46,45,36],[42,62,45,52],[42,64,45,54,"data"],[42,68,45,58],[42,69,45,59],[43,6,46,4],[43,12,46,10],[44,8,46,12,"session_token"],[44,21,46,25],[45,8,46,27,"user"],[46,6,46,32],[46,7,46,33],[46,10,46,36,"response"],[46,18,46,44],[46,19,46,45,"data"],[46,23,46,49],[47,6,48,4],[47,12,48,10,"AsyncStorage"],[47,24,48,22],[47,25,48,22,"default"],[47,32,48,22],[47,33,48,23,"setItem"],[47,40,48,30],[47,41,48,31],[47,56,48,46],[47,58,48,48,"session_token"],[47,71,48,61],[47,72,48,62],[48,6,49,4],[48,12,49,10,"AsyncStorage"],[48,24,49,22],[48,25,49,22,"default"],[48,32,49,22],[48,33,49,23,"setItem"],[48,40,49,30],[48,41,49,31],[48,52,49,42],[48,54,49,44,"JSON"],[48,58,49,48],[48,59,49,49,"stringify"],[48,68,49,58],[48,69,49,59,"user"],[48,73,49,63],[48,74,49,64],[48,75,49,65],[49,6,51,4],[49,13,51,11],[50,8,51,13,"token"],[50,13,51,18],[50,15,51,20,"session_token"],[50,28,51,33],[51,8,51,35,"user"],[52,6,51,40],[52,7,51,41],[53,4,52,2],[54,4,54,2],[54,10,54,8,"logout"],[54,16,54,14,"logout"],[54,17,54,14],[54,19,54,32],[55,6,55,4],[56,6,56,4],[56,12,56,10,"AsyncStorage"],[56,24,56,22],[56,25,56,22,"default"],[56,32,56,22],[56,33,56,23,"removeItem"],[56,43,56,33],[56,44,56,34],[56,59,56,49],[56,60,56,50],[57,6,57,4],[57,12,57,10,"AsyncStorage"],[57,24,57,22],[57,25,57,22,"default"],[57,32,57,22],[57,33,57,23,"removeItem"],[57,43,57,33],[57,44,57,34],[57,55,57,45],[57,56,57,46],[58,4,58,2],[59,4,60,2],[59,10,60,8,"getCurrentUser"],[59,24,60,22,"getCurrentUser"],[59,25,60,22],[59,27,60,47],[60,6,61,4],[60,10,61,8],[61,8,62,6],[61,14,62,12,"response"],[61,22,62,20],[61,25,62,23],[61,31,62,29,"api"],[61,34,62,32],[61,35,62,32,"default"],[61,42,62,32],[61,43,62,33,"get"],[61,46,62,36],[61,47,62,37],[61,57,62,47],[61,58,62,48],[62,8,63,6],[62,15,63,13,"response"],[62,23,63,21],[62,24,63,22,"data"],[62,28,63,26],[63,6,64,4],[63,7,64,5],[63,8,64,6],[63,15,64,13,"error"],[63,20,64,18],[63,22,64,20],[64,8,65,6],[64,15,65,13],[64,19,65,17],[65,6,66,4],[66,4,67,2],[67,4,69,2],[67,10,69,8,"getStoredUser"],[67,23,69,21,"getStoredUser"],[67,24,69,21],[67,26,69,46],[68,6,70,4],[68,12,70,10,"userData"],[68,20,70,18],[68,23,70,21],[68,29,70,27,"AsyncStorage"],[68,41,70,39],[68,42,70,39,"default"],[68,49,70,39],[68,50,70,40,"getItem"],[68,57,70,47],[68,58,70,48],[68,69,70,59],[68,70,70,60],[69,6,71,4],[69,13,71,11,"userData"],[69,21,71,19],[69,24,71,22,"JSON"],[69,28,71,26],[69,29,71,27,"parse"],[69,34,71,32],[69,35,71,33,"userData"],[69,43,71,41],[69,44,71,42],[69,47,71,45],[69,51,71,49],[70,4,72,2],[71,4,74,2],[71,10,74,8,"getToken"],[71,18,74,16,"getToken"],[71,19,74,16],[71,21,74,43],[72,6,75,4],[72,13,75,11],[72,19,75,17,"AsyncStorage"],[72,31,75,29],[72,32,75,29,"default"],[72,39,75,29],[72,40,75,30,"getItem"],[72,47,75,37],[72,48,75,38],[72,63,75,53],[72,64,75,54],[73,4,76,2],[74,2,77,0],[75,2,79,0],[75,6,79,0,"_default"],[75,14,79,0],[75,17,79,15],[75,21,79,19,"AuthService"],[75,32,79,30],[75,33,79,31],[75,34,79,32],[76,0,79,33],[76,3]],"functionMap":{"names":["<global>","AuthService","AuthService#login","AuthService#register","AuthService#logout","AuthService#getCurrentUser","AuthService#getStoredUser","AuthService#getToken"],"mappings":"AAA;AC4B;ECC;GDY;EEE;GFQ;EGE;GHI;EIE;GJO;EKE;GLG;EME;GNE;CDC"},"hasCjsExports":false},"type":"js/module"}]}