{"dependencies":[{"name":"./api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":24,"index":24}}],"key":"FbKPDeRJ9TF3vg1eKYKz12urgic=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":25},"end":{"line":2,"column":69,"index":94}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _api = require(_dependencyMap[0], \"./api\");\n  var api = _interopDefault(_api);\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  class AuthService {\n    async login(data, stayLoggedIn = true) {\n      const response = await api.default.post('/auth/login', data);\n      const {\n        session_token,\n        user\n      } = response.data;\n\n      // Always store the token and user data\n      await AsyncStorage.default.setItem('session_token', session_token);\n      await AsyncStorage.default.setItem('user_data', JSON.stringify(user));\n\n      // Store the preference for staying logged in\n      await AsyncStorage.default.setItem('stay_logged_in', JSON.stringify(stayLoggedIn));\n      return {\n        token: session_token,\n        user\n      };\n    }\n    async register(data) {\n      const response = await api.default.post('/auth/register', null, {\n        params: data\n      });\n      const {\n        session_token,\n        user\n      } = response.data;\n      await AsyncStorage.default.setItem('session_token', session_token);\n      await AsyncStorage.default.setItem('user_data', JSON.stringify(user));\n      return {\n        token: session_token,\n        user\n      };\n    }\n    async logout() {\n      // Clear local storage (backend doesn't need logout endpoint for JWT)\n      await AsyncStorage.default.removeItem('session_token');\n      await AsyncStorage.default.removeItem('user_data');\n    }\n    async getCurrentUser() {\n      try {\n        const response = await api.default.get('/auth/me');\n        return response.data;\n      } catch (error) {\n        return null;\n      }\n    }\n    async getStoredUser() {\n      const userData = await AsyncStorage.default.getItem('user_data');\n      return userData ? JSON.parse(userData) : null;\n    }\n    async getToken() {\n      return await AsyncStorage.default.getItem('session_token');\n    }\n  }\n  var _default = new AuthService();\n});","lineCount":78,"map":[[12,2,77,0,"Object"],[12,8,77,0],[12,9,77,0,"defineProperty"],[12,23,77,0],[12,24,77,0,"exports"],[12,31,77,0],[13,4,77,0,"enumerable"],[13,14,77,0],[14,4,77,0,"get"],[14,7,77,0],[14,18,77,0,"get"],[14,19,77,0],[15,6,77,0],[15,13,77,0,"_default"],[15,21,77,0],[16,4,77,0],[17,2,77,0],[18,2,1,0],[18,6,1,0,"_api"],[18,10,1,0],[18,13,1,0,"require"],[18,20,1,0],[18,21,1,0,"_dependencyMap"],[18,35,1,0],[19,2,1,0],[19,6,1,0,"api"],[19,9,1,0],[19,12,1,0,"_interopDefault"],[19,27,1,0],[19,28,1,0,"_api"],[19,32,1,0],[20,2,2,0],[20,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[20,42,2,0],[20,45,2,0,"require"],[20,52,2,0],[20,53,2,0,"_dependencyMap"],[20,67,2,0],[21,2,2,0],[21,6,2,0,"AsyncStorage"],[21,18,2,0],[21,21,2,0,"_interopDefault"],[21,36,2,0],[21,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[21,73,2,0],[22,2,25,0],[22,8,25,6,"AuthService"],[22,19,25,17],[22,20,25,18],[23,4,26,2],[23,10,26,8,"login"],[23,15,26,13,"login"],[23,16,26,14,"data"],[23,20,26,29],[23,22,26,31,"stayLoggedIn"],[23,34,26,52],[23,37,26,55],[23,41,26,59],[23,43,26,101],[24,6,27,4],[24,12,27,10,"response"],[24,20,27,18],[24,23,27,21],[24,29,27,27,"api"],[24,32,27,30],[24,33,27,30,"default"],[24,40,27,30],[24,41,27,31,"post"],[24,45,27,35],[24,46,27,36],[24,59,27,49],[24,61,27,51,"data"],[24,65,27,55],[24,66,27,56],[25,6,28,4],[25,12,28,10],[26,8,28,12,"session_token"],[26,21,28,25],[27,8,28,27,"user"],[28,6,28,32],[28,7,28,33],[28,10,28,36,"response"],[28,18,28,44],[28,19,28,45,"data"],[28,23,28,49],[30,6,30,4],[31,6,31,4],[31,12,31,10,"AsyncStorage"],[31,24,31,22],[31,25,31,22,"default"],[31,32,31,22],[31,33,31,23,"setItem"],[31,40,31,30],[31,41,31,31],[31,56,31,46],[31,58,31,48,"session_token"],[31,71,31,61],[31,72,31,62],[32,6,32,4],[32,12,32,10,"AsyncStorage"],[32,24,32,22],[32,25,32,22,"default"],[32,32,32,22],[32,33,32,23,"setItem"],[32,40,32,30],[32,41,32,31],[32,52,32,42],[32,54,32,44,"JSON"],[32,58,32,48],[32,59,32,49,"stringify"],[32,68,32,58],[32,69,32,59,"user"],[32,73,32,63],[32,74,32,64],[32,75,32,65],[34,6,34,4],[35,6,35,4],[35,12,35,10,"AsyncStorage"],[35,24,35,22],[35,25,35,22,"default"],[35,32,35,22],[35,33,35,23,"setItem"],[35,40,35,30],[35,41,35,31],[35,57,35,47],[35,59,35,49,"JSON"],[35,63,35,53],[35,64,35,54,"stringify"],[35,73,35,63],[35,74,35,64,"stayLoggedIn"],[35,86,35,76],[35,87,35,77],[35,88,35,78],[36,6,37,4],[36,13,37,11],[37,8,37,13,"token"],[37,13,37,18],[37,15,37,20,"session_token"],[37,28,37,33],[38,8,37,35,"user"],[39,6,37,40],[39,7,37,41],[40,4,38,2],[41,4,40,2],[41,10,40,8,"register"],[41,18,40,16,"register"],[41,19,40,17,"data"],[41,23,40,35],[41,25,40,77],[42,6,41,4],[42,12,41,10,"response"],[42,20,41,18],[42,23,41,21],[42,29,41,27,"api"],[42,32,41,30],[42,33,41,30,"default"],[42,40,41,30],[42,41,41,31,"post"],[42,45,41,35],[42,46,41,36],[42,62,41,52],[42,64,41,54],[42,68,41,58],[42,70,41,60],[43,8,42,6,"params"],[43,14,42,12],[43,16,42,14,"data"],[44,6,43,4],[44,7,43,5],[44,8,43,6],[45,6,44,4],[45,12,44,10],[46,8,44,12,"session_token"],[46,21,44,25],[47,8,44,27,"user"],[48,6,44,32],[48,7,44,33],[48,10,44,36,"response"],[48,18,44,44],[48,19,44,45,"data"],[48,23,44,49],[49,6,46,4],[49,12,46,10,"AsyncStorage"],[49,24,46,22],[49,25,46,22,"default"],[49,32,46,22],[49,33,46,23,"setItem"],[49,40,46,30],[49,41,46,31],[49,56,46,46],[49,58,46,48,"session_token"],[49,71,46,61],[49,72,46,62],[50,6,47,4],[50,12,47,10,"AsyncStorage"],[50,24,47,22],[50,25,47,22,"default"],[50,32,47,22],[50,33,47,23,"setItem"],[50,40,47,30],[50,41,47,31],[50,52,47,42],[50,54,47,44,"JSON"],[50,58,47,48],[50,59,47,49,"stringify"],[50,68,47,58],[50,69,47,59,"user"],[50,73,47,63],[50,74,47,64],[50,75,47,65],[51,6,49,4],[51,13,49,11],[52,8,49,13,"token"],[52,13,49,18],[52,15,49,20,"session_token"],[52,28,49,33],[53,8,49,35,"user"],[54,6,49,40],[54,7,49,41],[55,4,50,2],[56,4,52,2],[56,10,52,8,"logout"],[56,16,52,14,"logout"],[56,17,52,14],[56,19,52,32],[57,6,53,4],[58,6,54,4],[58,12,54,10,"AsyncStorage"],[58,24,54,22],[58,25,54,22,"default"],[58,32,54,22],[58,33,54,23,"removeItem"],[58,43,54,33],[58,44,54,34],[58,59,54,49],[58,60,54,50],[59,6,55,4],[59,12,55,10,"AsyncStorage"],[59,24,55,22],[59,25,55,22,"default"],[59,32,55,22],[59,33,55,23,"removeItem"],[59,43,55,33],[59,44,55,34],[59,55,55,45],[59,56,55,46],[60,4,56,2],[61,4,58,2],[61,10,58,8,"getCurrentUser"],[61,24,58,22,"getCurrentUser"],[61,25,58,22],[61,27,58,47],[62,6,59,4],[62,10,59,8],[63,8,60,6],[63,14,60,12,"response"],[63,22,60,20],[63,25,60,23],[63,31,60,29,"api"],[63,34,60,32],[63,35,60,32,"default"],[63,42,60,32],[63,43,60,33,"get"],[63,46,60,36],[63,47,60,37],[63,57,60,47],[63,58,60,48],[64,8,61,6],[64,15,61,13,"response"],[64,23,61,21],[64,24,61,22,"data"],[64,28,61,26],[65,6,62,4],[65,7,62,5],[65,8,62,6],[65,15,62,13,"error"],[65,20,62,18],[65,22,62,20],[66,8,63,6],[66,15,63,13],[66,19,63,17],[67,6,64,4],[68,4,65,2],[69,4,67,2],[69,10,67,8,"getStoredUser"],[69,23,67,21,"getStoredUser"],[69,24,67,21],[69,26,67,46],[70,6,68,4],[70,12,68,10,"userData"],[70,20,68,18],[70,23,68,21],[70,29,68,27,"AsyncStorage"],[70,41,68,39],[70,42,68,39,"default"],[70,49,68,39],[70,50,68,40,"getItem"],[70,57,68,47],[70,58,68,48],[70,69,68,59],[70,70,68,60],[71,6,69,4],[71,13,69,11,"userData"],[71,21,69,19],[71,24,69,22,"JSON"],[71,28,69,26],[71,29,69,27,"parse"],[71,34,69,32],[71,35,69,33,"userData"],[71,43,69,41],[71,44,69,42],[71,47,69,45],[71,51,69,49],[72,4,70,2],[73,4,72,2],[73,10,72,8,"getToken"],[73,18,72,16,"getToken"],[73,19,72,16],[73,21,72,43],[74,6,73,4],[74,13,73,11],[74,19,73,17,"AsyncStorage"],[74,31,73,29],[74,32,73,29,"default"],[74,39,73,29],[74,40,73,30,"getItem"],[74,47,73,37],[74,48,73,38],[74,63,73,53],[74,64,73,54],[75,4,74,2],[76,2,75,0],[77,2,77,0],[77,6,77,0,"_default"],[77,14,77,0],[77,17,77,15],[77,21,77,19,"AuthService"],[77,32,77,30],[77,33,77,31],[77,34,77,32],[78,0,77,33],[78,3]],"functionMap":{"names":["<global>","AuthService","AuthService#login","AuthService#register","AuthService#logout","AuthService#getCurrentUser","AuthService#getStoredUser","AuthService#getToken"],"mappings":"AAA;ACwB;ECC;GDY;EEE;GFU;EGE;GHI;EIE;GJO;EKE;GLG;EME;GNE;CDC"},"hasCjsExports":false},"type":"js/module"}]}