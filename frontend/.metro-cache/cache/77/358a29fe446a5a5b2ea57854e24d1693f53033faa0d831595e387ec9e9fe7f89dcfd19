{"dependencies":[{"name":"./api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":24,"index":24}}],"key":"FbKPDeRJ9TF3vg1eKYKz12urgic=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":25},"end":{"line":2,"column":69,"index":94}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _api = require(_dependencyMap[0], \"./api\");\n  var api = _interopDefault(_api);\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  class AuthService {\n    async login(data, stayLoggedIn = true) {\n      const response = await api.default.post('/auth/login', data);\n      const {\n        session_token,\n        user\n      } = response.data;\n\n      // Always store the token and user data\n      await AsyncStorage.default.setItem('session_token', session_token);\n      await AsyncStorage.default.setItem('user_data', JSON.stringify(user));\n\n      // Store the preference for staying logged in\n      await AsyncStorage.default.setItem('stay_logged_in', JSON.stringify(stayLoggedIn));\n      return {\n        token: session_token,\n        user\n      };\n    }\n    async register(data) {\n      const response = await api.default.post('/auth/register', null, {\n        params: data\n      });\n      const {\n        session_token,\n        user\n      } = response.data;\n      await AsyncStorage.default.setItem('session_token', session_token);\n      await AsyncStorage.default.setItem('user_data', JSON.stringify(user));\n      return {\n        token: session_token,\n        user\n      };\n    }\n    async logout() {\n      // Clear local storage (backend doesn't need logout endpoint for JWT)\n      await AsyncStorage.default.removeItem('session_token');\n      await AsyncStorage.default.removeItem('user_data');\n    }\n    async getCurrentUser() {\n      try {\n        const response = await api.default.get('/auth/me');\n        return response.data;\n      } catch (error) {\n        return null;\n      }\n    }\n    async getStoredUser() {\n      const userData = await AsyncStorage.default.getItem('user_data');\n      return userData ? JSON.parse(userData) : null;\n    }\n    async getToken() {\n      return await AsyncStorage.default.getItem('session_token');\n    }\n  }\n  var _default = new AuthService();\n});","lineCount":78,"map":[[12,2,78,0,"Object"],[12,8,78,0],[12,9,78,0,"defineProperty"],[12,23,78,0],[12,24,78,0,"exports"],[12,31,78,0],[13,4,78,0,"enumerable"],[13,14,78,0],[14,4,78,0,"get"],[14,7,78,0],[14,18,78,0,"get"],[14,19,78,0],[15,6,78,0],[15,13,78,0,"_default"],[15,21,78,0],[16,4,78,0],[17,2,78,0],[18,2,1,0],[18,6,1,0,"_api"],[18,10,1,0],[18,13,1,0,"require"],[18,20,1,0],[18,21,1,0,"_dependencyMap"],[18,35,1,0],[19,2,1,0],[19,6,1,0,"api"],[19,9,1,0],[19,12,1,0,"_interopDefault"],[19,27,1,0],[19,28,1,0,"_api"],[19,32,1,0],[20,2,2,0],[20,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[20,42,2,0],[20,45,2,0,"require"],[20,52,2,0],[20,53,2,0,"_dependencyMap"],[20,67,2,0],[21,2,2,0],[21,6,2,0,"AsyncStorage"],[21,18,2,0],[21,21,2,0,"_interopDefault"],[21,36,2,0],[21,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[21,73,2,0],[22,2,26,0],[22,8,26,6,"AuthService"],[22,19,26,17],[22,20,26,18],[23,4,27,2],[23,10,27,8,"login"],[23,15,27,13,"login"],[23,16,27,14,"data"],[23,20,27,29],[23,22,27,31,"stayLoggedIn"],[23,34,27,52],[23,37,27,55],[23,41,27,59],[23,43,27,101],[24,6,28,4],[24,12,28,10,"response"],[24,20,28,18],[24,23,28,21],[24,29,28,27,"api"],[24,32,28,30],[24,33,28,30,"default"],[24,40,28,30],[24,41,28,31,"post"],[24,45,28,35],[24,46,28,36],[24,59,28,49],[24,61,28,51,"data"],[24,65,28,55],[24,66,28,56],[25,6,29,4],[25,12,29,10],[26,8,29,12,"session_token"],[26,21,29,25],[27,8,29,27,"user"],[28,6,29,32],[28,7,29,33],[28,10,29,36,"response"],[28,18,29,44],[28,19,29,45,"data"],[28,23,29,49],[30,6,31,4],[31,6,32,4],[31,12,32,10,"AsyncStorage"],[31,24,32,22],[31,25,32,22,"default"],[31,32,32,22],[31,33,32,23,"setItem"],[31,40,32,30],[31,41,32,31],[31,56,32,46],[31,58,32,48,"session_token"],[31,71,32,61],[31,72,32,62],[32,6,33,4],[32,12,33,10,"AsyncStorage"],[32,24,33,22],[32,25,33,22,"default"],[32,32,33,22],[32,33,33,23,"setItem"],[32,40,33,30],[32,41,33,31],[32,52,33,42],[32,54,33,44,"JSON"],[32,58,33,48],[32,59,33,49,"stringify"],[32,68,33,58],[32,69,33,59,"user"],[32,73,33,63],[32,74,33,64],[32,75,33,65],[34,6,35,4],[35,6,36,4],[35,12,36,10,"AsyncStorage"],[35,24,36,22],[35,25,36,22,"default"],[35,32,36,22],[35,33,36,23,"setItem"],[35,40,36,30],[35,41,36,31],[35,57,36,47],[35,59,36,49,"JSON"],[35,63,36,53],[35,64,36,54,"stringify"],[35,73,36,63],[35,74,36,64,"stayLoggedIn"],[35,86,36,76],[35,87,36,77],[35,88,36,78],[36,6,38,4],[36,13,38,11],[37,8,38,13,"token"],[37,13,38,18],[37,15,38,20,"session_token"],[37,28,38,33],[38,8,38,35,"user"],[39,6,38,40],[39,7,38,41],[40,4,39,2],[41,4,41,2],[41,10,41,8,"register"],[41,18,41,16,"register"],[41,19,41,17,"data"],[41,23,41,35],[41,25,41,77],[42,6,42,4],[42,12,42,10,"response"],[42,20,42,18],[42,23,42,21],[42,29,42,27,"api"],[42,32,42,30],[42,33,42,30,"default"],[42,40,42,30],[42,41,42,31,"post"],[42,45,42,35],[42,46,42,36],[42,62,42,52],[42,64,42,54],[42,68,42,58],[42,70,42,60],[43,8,43,6,"params"],[43,14,43,12],[43,16,43,14,"data"],[44,6,44,4],[44,7,44,5],[44,8,44,6],[45,6,45,4],[45,12,45,10],[46,8,45,12,"session_token"],[46,21,45,25],[47,8,45,27,"user"],[48,6,45,32],[48,7,45,33],[48,10,45,36,"response"],[48,18,45,44],[48,19,45,45,"data"],[48,23,45,49],[49,6,47,4],[49,12,47,10,"AsyncStorage"],[49,24,47,22],[49,25,47,22,"default"],[49,32,47,22],[49,33,47,23,"setItem"],[49,40,47,30],[49,41,47,31],[49,56,47,46],[49,58,47,48,"session_token"],[49,71,47,61],[49,72,47,62],[50,6,48,4],[50,12,48,10,"AsyncStorage"],[50,24,48,22],[50,25,48,22,"default"],[50,32,48,22],[50,33,48,23,"setItem"],[50,40,48,30],[50,41,48,31],[50,52,48,42],[50,54,48,44,"JSON"],[50,58,48,48],[50,59,48,49,"stringify"],[50,68,48,58],[50,69,48,59,"user"],[50,73,48,63],[50,74,48,64],[50,75,48,65],[51,6,50,4],[51,13,50,11],[52,8,50,13,"token"],[52,13,50,18],[52,15,50,20,"session_token"],[52,28,50,33],[53,8,50,35,"user"],[54,6,50,40],[54,7,50,41],[55,4,51,2],[56,4,53,2],[56,10,53,8,"logout"],[56,16,53,14,"logout"],[56,17,53,14],[56,19,53,32],[57,6,54,4],[58,6,55,4],[58,12,55,10,"AsyncStorage"],[58,24,55,22],[58,25,55,22,"default"],[58,32,55,22],[58,33,55,23,"removeItem"],[58,43,55,33],[58,44,55,34],[58,59,55,49],[58,60,55,50],[59,6,56,4],[59,12,56,10,"AsyncStorage"],[59,24,56,22],[59,25,56,22,"default"],[59,32,56,22],[59,33,56,23,"removeItem"],[59,43,56,33],[59,44,56,34],[59,55,56,45],[59,56,56,46],[60,4,57,2],[61,4,59,2],[61,10,59,8,"getCurrentUser"],[61,24,59,22,"getCurrentUser"],[61,25,59,22],[61,27,59,47],[62,6,60,4],[62,10,60,8],[63,8,61,6],[63,14,61,12,"response"],[63,22,61,20],[63,25,61,23],[63,31,61,29,"api"],[63,34,61,32],[63,35,61,32,"default"],[63,42,61,32],[63,43,61,33,"get"],[63,46,61,36],[63,47,61,37],[63,57,61,47],[63,58,61,48],[64,8,62,6],[64,15,62,13,"response"],[64,23,62,21],[64,24,62,22,"data"],[64,28,62,26],[65,6,63,4],[65,7,63,5],[65,8,63,6],[65,15,63,13,"error"],[65,20,63,18],[65,22,63,20],[66,8,64,6],[66,15,64,13],[66,19,64,17],[67,6,65,4],[68,4,66,2],[69,4,68,2],[69,10,68,8,"getStoredUser"],[69,23,68,21,"getStoredUser"],[69,24,68,21],[69,26,68,46],[70,6,69,4],[70,12,69,10,"userData"],[70,20,69,18],[70,23,69,21],[70,29,69,27,"AsyncStorage"],[70,41,69,39],[70,42,69,39,"default"],[70,49,69,39],[70,50,69,40,"getItem"],[70,57,69,47],[70,58,69,48],[70,69,69,59],[70,70,69,60],[71,6,70,4],[71,13,70,11,"userData"],[71,21,70,19],[71,24,70,22,"JSON"],[71,28,70,26],[71,29,70,27,"parse"],[71,34,70,32],[71,35,70,33,"userData"],[71,43,70,41],[71,44,70,42],[71,47,70,45],[71,51,70,49],[72,4,71,2],[73,4,73,2],[73,10,73,8,"getToken"],[73,18,73,16,"getToken"],[73,19,73,16],[73,21,73,43],[74,6,74,4],[74,13,74,11],[74,19,74,17,"AsyncStorage"],[74,31,74,29],[74,32,74,29,"default"],[74,39,74,29],[74,40,74,30,"getItem"],[74,47,74,37],[74,48,74,38],[74,63,74,53],[74,64,74,54],[75,4,75,2],[76,2,76,0],[77,2,78,0],[77,6,78,0,"_default"],[77,14,78,0],[77,17,78,15],[77,21,78,19,"AuthService"],[77,32,78,30],[77,33,78,31],[77,34,78,32],[78,0,78,33],[78,3]],"functionMap":{"names":["<global>","AuthService","AuthService#login","AuthService#register","AuthService#logout","AuthService#getCurrentUser","AuthService#getStoredUser","AuthService#getToken"],"mappings":"AAA;ACyB;ECC;GDY;EEE;GFU;EGE;GHI;EIE;GJO;EKE;GLG;EME;GNE;CDC"},"hasCjsExports":false},"type":"js/module"}]}