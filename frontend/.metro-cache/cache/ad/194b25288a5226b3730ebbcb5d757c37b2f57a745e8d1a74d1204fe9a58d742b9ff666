{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"socket.io-client","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":46,"index":46}}],"key":"LVgCyxgUdze/lYG0kA6DdCAztfM=","exportNames":["*"],"imports":1}},{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":47},"end":{"line":2,"column":39,"index":86}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _socketIoClient = require(_dependencyMap[1], \"socket.io-client\");\n  var _expoConstants = require(_dependencyMap[2], \"expo-constants\");\n  var Constants = _interopDefault(_expoConstants);\n  const BACKEND_URL = Constants.default.expoConfig?.extra?.EXPO_PUBLIC_BACKEND_URL || _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL || '';\n  class SocketService {\n    socket = null;\n    listeners = new Map();\n    connect(token) {\n      if (this.socket?.connected) {\n        console.log('Socket already connected');\n        return;\n      }\n      console.log('Connecting to Socket.IO:', BACKEND_URL);\n      this.socket = (0, _socketIoClient.io)(BACKEND_URL, {\n        auth: {\n          token: token\n        },\n        transports: ['websocket', 'polling'],\n        reconnection: true,\n        reconnectionDelay: 1000,\n        reconnectionAttempts: 5\n      });\n      this.socket.on('connect', () => {\n        console.log('âœ… Socket.IO connected:', this.socket?.id);\n      });\n      this.socket.on('disconnect', reason => {\n        console.log('âŒ Socket.IO disconnected:', reason);\n      });\n      this.socket.on('connect_error', error => {\n        console.error('Socket.IO connection error:', error);\n      });\n\n      // Set up event listeners\n      this.setupEventListeners();\n    }\n    setupEventListeners() {\n      if (!this.socket) return;\n\n      // Listen for new quotes\n      this.socket.on('new_quote', data => {\n        console.log('ðŸ“‹ New quote received:', data);\n        this.notifyListeners('new_quote', data);\n      });\n\n      // Listen for quote updates\n      this.socket.on('quote_updated', data => {\n        console.log('ðŸ“‹ Quote updated:', data);\n        this.notifyListeners('quote_updated', data);\n      });\n\n      // Listen for new inspections\n      this.socket.on('new_inspection', data => {\n        console.log('ðŸ  New inspection received:', data);\n        this.notifyListeners('new_inspection', data);\n      });\n\n      // Listen for inspection updates\n      this.socket.on('inspection_updated', data => {\n        console.log('ðŸ  Inspection updated:', data);\n        this.notifyListeners('inspection_updated', data);\n      });\n\n      // Listen for new messages\n      this.socket.on('new_message', data => {\n        console.log('ðŸ’¬ New message received:', data);\n        this.notifyListeners('new_message', data);\n      });\n\n      // Listen for time slot offers\n      this.socket.on('time_slots_offered', data => {\n        console.log('â° Time slots offered:', data);\n        this.notifyListeners('time_slots_offered', data);\n      });\n\n      // Listen for time slot confirmations\n      this.socket.on('time_slot_confirmed', data => {\n        console.log('âœ… Time slot confirmed:', data);\n        this.notifyListeners('time_slot_confirmed', data);\n      });\n\n      // Listen for calendar updates\n      this.socket.on('calendar_updated', data => {\n        console.log('ðŸ“… Calendar updated:', data);\n        this.notifyListeners('calendar_updated', data);\n      });\n    }\n    notifyListeners(event, data) {\n      const listeners = this.listeners.get(event);\n      if (listeners) {\n        listeners.forEach(callback => callback(data));\n      }\n    }\n    on(event, callback) {\n      if (!this.listeners.has(event)) {\n        this.listeners.set(event, new Set());\n      }\n      this.listeners.get(event)?.add(callback);\n    }\n    off(event, callback) {\n      this.listeners.get(event)?.delete(callback);\n    }\n    disconnect() {\n      if (this.socket) {\n        console.log('Disconnecting Socket.IO');\n        this.socket.disconnect();\n        this.socket = null;\n        this.listeners.clear();\n      }\n    }\n    isConnected() {\n      return this.socket?.connected || false;\n    }\n  }\n  var _default = new SocketService();\n});","lineCount":133,"map":[[12,2,128,0,"Object"],[12,8,128,0],[12,9,128,0,"defineProperty"],[12,23,128,0],[12,24,128,0,"exports"],[12,31,128,0],[13,4,128,0,"enumerable"],[13,14,128,0],[14,4,128,0,"get"],[14,7,128,0],[14,18,128,0,"get"],[14,19,128,0],[15,6,128,0],[15,13,128,0,"_default"],[15,21,128,0],[16,4,128,0],[17,2,128,0],[18,2,128,35],[18,6,128,35,"_expoVirtualEnv"],[18,21,128,35],[18,24,128,35,"require"],[18,31,128,35],[18,32,128,35,"_dependencyMap"],[18,46,128,35],[19,2,1,0],[19,6,1,0,"_socketIoClient"],[19,21,1,0],[19,24,1,0,"require"],[19,31,1,0],[19,32,1,0,"_dependencyMap"],[19,46,1,0],[20,2,2,0],[20,6,2,0,"_expoConstants"],[20,20,2,0],[20,23,2,0,"require"],[20,30,2,0],[20,31,2,0,"_dependencyMap"],[20,45,2,0],[21,2,2,0],[21,6,2,0,"Constants"],[21,15,2,0],[21,18,2,0,"_interopDefault"],[21,33,2,0],[21,34,2,0,"_expoConstants"],[21,48,2,0],[22,2,4,0],[22,8,4,6,"BACKEND_URL"],[22,19,4,17],[22,22,4,20,"Constants"],[22,31,4,29],[22,32,4,29,"default"],[22,39,4,29],[22,40,4,30,"expoConfig"],[22,50,4,40],[22,52,4,42,"extra"],[22,57,4,47],[22,59,4,49,"EXPO_PUBLIC_BACKEND_URL"],[22,82,4,72],[22,86,4,72,"_expoVirtualEnv"],[22,101,4,72],[22,102,4,72,"env"],[22,105,4,72],[22,106,4,72,"EXPO_PUBLIC_BACKEND_URL"],[22,129,4,111],[22,133,4,115],[22,135,4,117],[23,2,6,0],[23,8,6,6,"SocketService"],[23,21,6,19],[23,22,6,20],[24,4,7,10,"socket"],[24,10,7,16],[24,13,7,34],[24,17,7,38],[25,4,8,10,"listeners"],[25,13,8,19],[25,16,8,50],[25,20,8,54,"Map"],[25,23,8,57],[25,24,8,58],[25,25,8,59],[26,4,10,2,"connect"],[26,11,10,9,"connect"],[26,12,10,10,"token"],[26,17,10,23],[26,19,10,25],[27,6,11,4],[27,10,11,8],[27,14,11,12],[27,15,11,13,"socket"],[27,21,11,19],[27,23,11,21,"connected"],[27,32,11,30],[27,34,11,32],[28,8,12,6,"console"],[28,15,12,13],[28,16,12,14,"log"],[28,19,12,17],[28,20,12,18],[28,46,12,44],[28,47,12,45],[29,8,13,6],[30,6,14,4],[31,6,16,4,"console"],[31,13,16,11],[31,14,16,12,"log"],[31,17,16,15],[31,18,16,16],[31,44,16,42],[31,46,16,44,"BACKEND_URL"],[31,57,16,55],[31,58,16,56],[32,6,18,4],[32,10,18,8],[32,11,18,9,"socket"],[32,17,18,15],[32,20,18,18],[32,24,18,18,"io"],[32,39,18,20],[32,40,18,20,"io"],[32,42,18,20],[32,44,18,21,"BACKEND_URL"],[32,55,18,32],[32,57,18,34],[33,8,19,6,"auth"],[33,12,19,10],[33,14,19,12],[34,10,20,8,"token"],[34,15,20,13],[34,17,20,15,"token"],[35,8,21,6],[35,9,21,7],[36,8,22,6,"transports"],[36,18,22,16],[36,20,22,18],[36,21,22,19],[36,32,22,30],[36,34,22,32],[36,43,22,41],[36,44,22,42],[37,8,23,6,"reconnection"],[37,20,23,18],[37,22,23,20],[37,26,23,24],[38,8,24,6,"reconnectionDelay"],[38,25,24,23],[38,27,24,25],[38,31,24,29],[39,8,25,6,"reconnectionAttempts"],[39,28,25,26],[39,30,25,28],[40,6,26,4],[40,7,26,5],[40,8,26,6],[41,6,28,4],[41,10,28,8],[41,11,28,9,"socket"],[41,17,28,15],[41,18,28,16,"on"],[41,20,28,18],[41,21,28,19],[41,30,28,28],[41,32,28,30],[41,38,28,36],[42,8,29,6,"console"],[42,15,29,13],[42,16,29,14,"log"],[42,19,29,17],[42,20,29,18],[42,44,29,42],[42,46,29,44],[42,50,29,48],[42,51,29,49,"socket"],[42,57,29,55],[42,59,29,57,"id"],[42,61,29,59],[42,62,29,60],[43,6,30,4],[43,7,30,5],[43,8,30,6],[44,6,32,4],[44,10,32,8],[44,11,32,9,"socket"],[44,17,32,15],[44,18,32,16,"on"],[44,20,32,18],[44,21,32,19],[44,33,32,31],[44,35,32,34,"reason"],[44,41,32,40],[44,45,32,45],[45,8,33,6,"console"],[45,15,33,13],[45,16,33,14,"log"],[45,19,33,17],[45,20,33,18],[45,47,33,45],[45,49,33,47,"reason"],[45,55,33,53],[45,56,33,54],[46,6,34,4],[46,7,34,5],[46,8,34,6],[47,6,36,4],[47,10,36,8],[47,11,36,9,"socket"],[47,17,36,15],[47,18,36,16,"on"],[47,20,36,18],[47,21,36,19],[47,36,36,34],[47,38,36,37,"error"],[47,43,36,42],[47,47,36,47],[48,8,37,6,"console"],[48,15,37,13],[48,16,37,14,"error"],[48,21,37,19],[48,22,37,20],[48,51,37,49],[48,53,37,51,"error"],[48,58,37,56],[48,59,37,57],[49,6,38,4],[49,7,38,5],[49,8,38,6],[51,6,40,4],[52,6,41,4],[52,10,41,8],[52,11,41,9,"setupEventListeners"],[52,30,41,28],[52,31,41,29],[52,32,41,30],[53,4,42,2],[54,4,44,10,"setupEventListeners"],[54,23,44,29,"setupEventListeners"],[54,24,44,29],[54,26,44,32],[55,6,45,4],[55,10,45,8],[55,11,45,9],[55,15,45,13],[55,16,45,14,"socket"],[55,22,45,20],[55,24,45,22],[57,6,47,4],[58,6,48,4],[58,10,48,8],[58,11,48,9,"socket"],[58,17,48,15],[58,18,48,16,"on"],[58,20,48,18],[58,21,48,19],[58,32,48,30],[58,34,48,33,"data"],[58,38,48,37],[58,42,48,42],[59,8,49,6,"console"],[59,15,49,13],[59,16,49,14,"log"],[59,19,49,17],[59,20,49,18],[59,44,49,42],[59,46,49,44,"data"],[59,50,49,48],[59,51,49,49],[60,8,50,6],[60,12,50,10],[60,13,50,11,"notifyListeners"],[60,28,50,26],[60,29,50,27],[60,40,50,38],[60,42,50,40,"data"],[60,46,50,44],[60,47,50,45],[61,6,51,4],[61,7,51,5],[61,8,51,6],[63,6,53,4],[64,6,54,4],[64,10,54,8],[64,11,54,9,"socket"],[64,17,54,15],[64,18,54,16,"on"],[64,20,54,18],[64,21,54,19],[64,36,54,34],[64,38,54,37,"data"],[64,42,54,41],[64,46,54,46],[65,8,55,6,"console"],[65,15,55,13],[65,16,55,14,"log"],[65,19,55,17],[65,20,55,18],[65,39,55,37],[65,41,55,39,"data"],[65,45,55,43],[65,46,55,44],[66,8,56,6],[66,12,56,10],[66,13,56,11,"notifyListeners"],[66,28,56,26],[66,29,56,27],[66,44,56,42],[66,46,56,44,"data"],[66,50,56,48],[66,51,56,49],[67,6,57,4],[67,7,57,5],[67,8,57,6],[69,6,59,4],[70,6,60,4],[70,10,60,8],[70,11,60,9,"socket"],[70,17,60,15],[70,18,60,16,"on"],[70,20,60,18],[70,21,60,19],[70,37,60,35],[70,39,60,38,"data"],[70,43,60,42],[70,47,60,47],[71,8,61,6,"console"],[71,15,61,13],[71,16,61,14,"log"],[71,19,61,17],[71,20,61,18],[71,49,61,47],[71,51,61,49,"data"],[71,55,61,53],[71,56,61,54],[72,8,62,6],[72,12,62,10],[72,13,62,11,"notifyListeners"],[72,28,62,26],[72,29,62,27],[72,45,62,43],[72,47,62,45,"data"],[72,51,62,49],[72,52,62,50],[73,6,63,4],[73,7,63,5],[73,8,63,6],[75,6,65,4],[76,6,66,4],[76,10,66,8],[76,11,66,9,"socket"],[76,17,66,15],[76,18,66,16,"on"],[76,20,66,18],[76,21,66,19],[76,41,66,39],[76,43,66,42,"data"],[76,47,66,46],[76,51,66,51],[77,8,67,6,"console"],[77,15,67,13],[77,16,67,14,"log"],[77,19,67,17],[77,20,67,18],[77,44,67,42],[77,46,67,44,"data"],[77,50,67,48],[77,51,67,49],[78,8,68,6],[78,12,68,10],[78,13,68,11,"notifyListeners"],[78,28,68,26],[78,29,68,27],[78,49,68,47],[78,51,68,49,"data"],[78,55,68,53],[78,56,68,54],[79,6,69,4],[79,7,69,5],[79,8,69,6],[81,6,71,4],[82,6,72,4],[82,10,72,8],[82,11,72,9,"socket"],[82,17,72,15],[82,18,72,16,"on"],[82,20,72,18],[82,21,72,19],[82,34,72,32],[82,36,72,35,"data"],[82,40,72,39],[82,44,72,44],[83,8,73,6,"console"],[83,15,73,13],[83,16,73,14,"log"],[83,19,73,17],[83,20,73,18],[83,46,73,44],[83,48,73,46,"data"],[83,52,73,50],[83,53,73,51],[84,8,74,6],[84,12,74,10],[84,13,74,11,"notifyListeners"],[84,28,74,26],[84,29,74,27],[84,42,74,40],[84,44,74,42,"data"],[84,48,74,46],[84,49,74,47],[85,6,75,4],[85,7,75,5],[85,8,75,6],[87,6,77,4],[88,6,78,4],[88,10,78,8],[88,11,78,9,"socket"],[88,17,78,15],[88,18,78,16,"on"],[88,20,78,18],[88,21,78,19],[88,41,78,39],[88,43,78,42,"data"],[88,47,78,46],[88,51,78,51],[89,8,79,6,"console"],[89,15,79,13],[89,16,79,14,"log"],[89,19,79,17],[89,20,79,18],[89,43,79,41],[89,45,79,43,"data"],[89,49,79,47],[89,50,79,48],[90,8,80,6],[90,12,80,10],[90,13,80,11,"notifyListeners"],[90,28,80,26],[90,29,80,27],[90,49,80,47],[90,51,80,49,"data"],[90,55,80,53],[90,56,80,54],[91,6,81,4],[91,7,81,5],[91,8,81,6],[93,6,83,4],[94,6,84,4],[94,10,84,8],[94,11,84,9,"socket"],[94,17,84,15],[94,18,84,16,"on"],[94,20,84,18],[94,21,84,19],[94,42,84,40],[94,44,84,43,"data"],[94,48,84,47],[94,52,84,52],[95,8,85,6,"console"],[95,15,85,13],[95,16,85,14,"log"],[95,19,85,17],[95,20,85,18],[95,44,85,42],[95,46,85,44,"data"],[95,50,85,48],[95,51,85,49],[96,8,86,6],[96,12,86,10],[96,13,86,11,"notifyListeners"],[96,28,86,26],[96,29,86,27],[96,50,86,48],[96,52,86,50,"data"],[96,56,86,54],[96,57,86,55],[97,6,87,4],[97,7,87,5],[97,8,87,6],[99,6,89,4],[100,6,90,4],[100,10,90,8],[100,11,90,9,"socket"],[100,17,90,15],[100,18,90,16,"on"],[100,20,90,18],[100,21,90,19],[100,39,90,37],[100,41,90,40,"data"],[100,45,90,44],[100,49,90,49],[101,8,91,6,"console"],[101,15,91,13],[101,16,91,14,"log"],[101,19,91,17],[101,20,91,18],[101,42,91,40],[101,44,91,42,"data"],[101,48,91,46],[101,49,91,47],[102,8,92,6],[102,12,92,10],[102,13,92,11,"notifyListeners"],[102,28,92,26],[102,29,92,27],[102,47,92,45],[102,49,92,47,"data"],[102,53,92,51],[102,54,92,52],[103,6,93,4],[103,7,93,5],[103,8,93,6],[104,4,94,2],[105,4,96,10,"notifyListeners"],[105,19,96,25,"notifyListeners"],[105,20,96,26,"event"],[105,25,96,39],[105,27,96,41,"data"],[105,31,96,50],[105,33,96,52],[106,6,97,4],[106,12,97,10,"listeners"],[106,21,97,19],[106,24,97,22],[106,28,97,26],[106,29,97,27,"listeners"],[106,38,97,36],[106,39,97,37,"get"],[106,42,97,40],[106,43,97,41,"event"],[106,48,97,46],[106,49,97,47],[107,6,98,4],[107,10,98,8,"listeners"],[107,19,98,17],[107,21,98,19],[108,8,99,6,"listeners"],[108,17,99,15],[108,18,99,16,"forEach"],[108,25,99,23],[108,26,99,24,"callback"],[108,34,99,32],[108,38,99,36,"callback"],[108,46,99,44],[108,47,99,45,"data"],[108,51,99,49],[108,52,99,50],[108,53,99,51],[109,6,100,4],[110,4,101,2],[111,4,103,2,"on"],[111,6,103,4,"on"],[111,7,103,5,"event"],[111,12,103,18],[111,14,103,20,"callback"],[111,22,103,38],[111,24,103,40],[112,6,104,4],[112,10,104,8],[112,11,104,9],[112,15,104,13],[112,16,104,14,"listeners"],[112,25,104,23],[112,26,104,24,"has"],[112,29,104,27],[112,30,104,28,"event"],[112,35,104,33],[112,36,104,34],[112,38,104,36],[113,8,105,6],[113,12,105,10],[113,13,105,11,"listeners"],[113,22,105,20],[113,23,105,21,"set"],[113,26,105,24],[113,27,105,25,"event"],[113,32,105,30],[113,34,105,32],[113,38,105,36,"Set"],[113,41,105,39],[113,42,105,40],[113,43,105,41],[113,44,105,42],[114,6,106,4],[115,6,107,4],[115,10,107,8],[115,11,107,9,"listeners"],[115,20,107,18],[115,21,107,19,"get"],[115,24,107,22],[115,25,107,23,"event"],[115,30,107,28],[115,31,107,29],[115,33,107,31,"add"],[115,36,107,34],[115,37,107,35,"callback"],[115,45,107,43],[115,46,107,44],[116,4,108,2],[117,4,110,2,"off"],[117,7,110,5,"off"],[117,8,110,6,"event"],[117,13,110,19],[117,15,110,21,"callback"],[117,23,110,39],[117,25,110,41],[118,6,111,4],[118,10,111,8],[118,11,111,9,"listeners"],[118,20,111,18],[118,21,111,19,"get"],[118,24,111,22],[118,25,111,23,"event"],[118,30,111,28],[118,31,111,29],[118,33,111,31,"delete"],[118,39,111,37],[118,40,111,38,"callback"],[118,48,111,46],[118,49,111,47],[119,4,112,2],[120,4,114,2,"disconnect"],[120,14,114,12,"disconnect"],[120,15,114,12],[120,17,114,15],[121,6,115,4],[121,10,115,8],[121,14,115,12],[121,15,115,13,"socket"],[121,21,115,19],[121,23,115,21],[122,8,116,6,"console"],[122,15,116,13],[122,16,116,14,"log"],[122,19,116,17],[122,20,116,18],[122,45,116,43],[122,46,116,44],[123,8,117,6],[123,12,117,10],[123,13,117,11,"socket"],[123,19,117,17],[123,20,117,18,"disconnect"],[123,30,117,28],[123,31,117,29],[123,32,117,30],[124,8,118,6],[124,12,118,10],[124,13,118,11,"socket"],[124,19,118,17],[124,22,118,20],[124,26,118,24],[125,8,119,6],[125,12,119,10],[125,13,119,11,"listeners"],[125,22,119,20],[125,23,119,21,"clear"],[125,28,119,26],[125,29,119,27],[125,30,119,28],[126,6,120,4],[127,4,121,2],[128,4,123,2,"isConnected"],[128,15,123,13,"isConnected"],[128,16,123,13],[128,18,123,25],[129,6,124,4],[129,13,124,11],[129,17,124,15],[129,18,124,16,"socket"],[129,24,124,22],[129,26,124,24,"connected"],[129,35,124,33],[129,39,124,37],[129,44,124,42],[130,4,125,2],[131,2,126,0],[132,2,128,0],[132,6,128,0,"_default"],[132,14,128,0],[132,17,128,15],[132,21,128,19,"SocketService"],[132,34,128,32],[132,35,128,33],[132,36,128,34],[133,0,128,35],[133,3]],"functionMap":{"names":["<global>","SocketService","SocketService#connect","on$argument_1","SocketService#setupEventListeners","SocketService#notifyListeners","listeners.forEach$argument_0","SocketService#on","SocketService#off","SocketService#disconnect","SocketService#isConnected"],"mappings":"AAA;ACK;ECI;8BCkB;KDE;iCCE;KDE;oCCE;KDE;GDI;EGE;gCDI;KCG;oCDG;KCG;qCDG;KCG;yCDG;KCG;kCDG;KCG;yCDG;KCG;0CDG;KCG;uCDG;KCG;GHC;EIE;wBCG,0BD;GJE;EME;GNK;EOE;GPE;EQE;GRO;ESE;GTE;CDC"},"hasCjsExports":false},"type":"js/module"}]}