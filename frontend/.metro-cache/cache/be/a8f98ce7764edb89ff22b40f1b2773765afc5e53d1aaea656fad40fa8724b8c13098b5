{"dependencies":[{"name":"./api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":24,"index":24}}],"key":"FbKPDeRJ9TF3vg1eKYKz12urgic=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":25},"end":{"line":2,"column":69,"index":94}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _api = require(_dependencyMap[0], \"./api\");\n  var api = _interopDefault(_api);\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  class AuthService {\n    async login(data, stayLoggedIn = true) {\n      const response = await api.default.post('/auth/login', data);\n      const {\n        session_token,\n        user\n      } = response.data;\n\n      // Always store the token and user data\n      await AsyncStorage.default.setItem('session_token', session_token);\n      await AsyncStorage.default.setItem('user_data', JSON.stringify(user));\n\n      // Store the preference for staying logged in\n      await AsyncStorage.default.setItem('stay_logged_in', JSON.stringify(stayLoggedIn));\n      return {\n        token: session_token,\n        user\n      };\n    }\n    async register(data) {\n      const response = await api.default.post('/auth/register', data);\n      const {\n        session_token,\n        user\n      } = response.data;\n      await AsyncStorage.default.setItem('session_token', session_token);\n      await AsyncStorage.default.setItem('user_data', JSON.stringify(user));\n      return {\n        token: session_token,\n        user\n      };\n    }\n    async logout() {\n      // Clear local storage (backend doesn't need logout endpoint for JWT)\n      await AsyncStorage.default.removeItem('session_token');\n      await AsyncStorage.default.removeItem('user_data');\n    }\n    async getCurrentUser() {\n      try {\n        const response = await api.default.get('/auth/me');\n        return response.data;\n      } catch (error) {\n        return null;\n      }\n    }\n    async getStoredUser() {\n      const userData = await AsyncStorage.default.getItem('user_data');\n      return userData ? JSON.parse(userData) : null;\n    }\n    async getToken() {\n      return await AsyncStorage.default.getItem('session_token');\n    }\n  }\n  var _default = new AuthService();\n});","lineCount":76,"map":[[12,2,76,0,"Object"],[12,8,76,0],[12,9,76,0,"defineProperty"],[12,23,76,0],[12,24,76,0,"exports"],[12,31,76,0],[13,4,76,0,"enumerable"],[13,14,76,0],[14,4,76,0,"get"],[14,7,76,0],[14,18,76,0,"get"],[14,19,76,0],[15,6,76,0],[15,13,76,0,"_default"],[15,21,76,0],[16,4,76,0],[17,2,76,0],[18,2,1,0],[18,6,1,0,"_api"],[18,10,1,0],[18,13,1,0,"require"],[18,20,1,0],[18,21,1,0,"_dependencyMap"],[18,35,1,0],[19,2,1,0],[19,6,1,0,"api"],[19,9,1,0],[19,12,1,0,"_interopDefault"],[19,27,1,0],[19,28,1,0,"_api"],[19,32,1,0],[20,2,2,0],[20,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[20,42,2,0],[20,45,2,0,"require"],[20,52,2,0],[20,53,2,0,"_dependencyMap"],[20,67,2,0],[21,2,2,0],[21,6,2,0,"AsyncStorage"],[21,18,2,0],[21,21,2,0,"_interopDefault"],[21,36,2,0],[21,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[21,73,2,0],[22,2,26,0],[22,8,26,6,"AuthService"],[22,19,26,17],[22,20,26,18],[23,4,27,2],[23,10,27,8,"login"],[23,15,27,13,"login"],[23,16,27,14,"data"],[23,20,27,29],[23,22,27,31,"stayLoggedIn"],[23,34,27,52],[23,37,27,55],[23,41,27,59],[23,43,27,101],[24,6,28,4],[24,12,28,10,"response"],[24,20,28,18],[24,23,28,21],[24,29,28,27,"api"],[24,32,28,30],[24,33,28,30,"default"],[24,40,28,30],[24,41,28,31,"post"],[24,45,28,35],[24,46,28,36],[24,59,28,49],[24,61,28,51,"data"],[24,65,28,55],[24,66,28,56],[25,6,29,4],[25,12,29,10],[26,8,29,12,"session_token"],[26,21,29,25],[27,8,29,27,"user"],[28,6,29,32],[28,7,29,33],[28,10,29,36,"response"],[28,18,29,44],[28,19,29,45,"data"],[28,23,29,49],[30,6,31,4],[31,6,32,4],[31,12,32,10,"AsyncStorage"],[31,24,32,22],[31,25,32,22,"default"],[31,32,32,22],[31,33,32,23,"setItem"],[31,40,32,30],[31,41,32,31],[31,56,32,46],[31,58,32,48,"session_token"],[31,71,32,61],[31,72,32,62],[32,6,33,4],[32,12,33,10,"AsyncStorage"],[32,24,33,22],[32,25,33,22,"default"],[32,32,33,22],[32,33,33,23,"setItem"],[32,40,33,30],[32,41,33,31],[32,52,33,42],[32,54,33,44,"JSON"],[32,58,33,48],[32,59,33,49,"stringify"],[32,68,33,58],[32,69,33,59,"user"],[32,73,33,63],[32,74,33,64],[32,75,33,65],[34,6,35,4],[35,6,36,4],[35,12,36,10,"AsyncStorage"],[35,24,36,22],[35,25,36,22,"default"],[35,32,36,22],[35,33,36,23,"setItem"],[35,40,36,30],[35,41,36,31],[35,57,36,47],[35,59,36,49,"JSON"],[35,63,36,53],[35,64,36,54,"stringify"],[35,73,36,63],[35,74,36,64,"stayLoggedIn"],[35,86,36,76],[35,87,36,77],[35,88,36,78],[36,6,38,4],[36,13,38,11],[37,8,38,13,"token"],[37,13,38,18],[37,15,38,20,"session_token"],[37,28,38,33],[38,8,38,35,"user"],[39,6,38,40],[39,7,38,41],[40,4,39,2],[41,4,41,2],[41,10,41,8,"register"],[41,18,41,16,"register"],[41,19,41,17,"data"],[41,23,41,35],[41,25,41,77],[42,6,42,4],[42,12,42,10,"response"],[42,20,42,18],[42,23,42,21],[42,29,42,27,"api"],[42,32,42,30],[42,33,42,30,"default"],[42,40,42,30],[42,41,42,31,"post"],[42,45,42,35],[42,46,42,36],[42,62,42,52],[42,64,42,54,"data"],[42,68,42,58],[42,69,42,59],[43,6,43,4],[43,12,43,10],[44,8,43,12,"session_token"],[44,21,43,25],[45,8,43,27,"user"],[46,6,43,32],[46,7,43,33],[46,10,43,36,"response"],[46,18,43,44],[46,19,43,45,"data"],[46,23,43,49],[47,6,45,4],[47,12,45,10,"AsyncStorage"],[47,24,45,22],[47,25,45,22,"default"],[47,32,45,22],[47,33,45,23,"setItem"],[47,40,45,30],[47,41,45,31],[47,56,45,46],[47,58,45,48,"session_token"],[47,71,45,61],[47,72,45,62],[48,6,46,4],[48,12,46,10,"AsyncStorage"],[48,24,46,22],[48,25,46,22,"default"],[48,32,46,22],[48,33,46,23,"setItem"],[48,40,46,30],[48,41,46,31],[48,52,46,42],[48,54,46,44,"JSON"],[48,58,46,48],[48,59,46,49,"stringify"],[48,68,46,58],[48,69,46,59,"user"],[48,73,46,63],[48,74,46,64],[48,75,46,65],[49,6,48,4],[49,13,48,11],[50,8,48,13,"token"],[50,13,48,18],[50,15,48,20,"session_token"],[50,28,48,33],[51,8,48,35,"user"],[52,6,48,40],[52,7,48,41],[53,4,49,2],[54,4,51,2],[54,10,51,8,"logout"],[54,16,51,14,"logout"],[54,17,51,14],[54,19,51,32],[55,6,52,4],[56,6,53,4],[56,12,53,10,"AsyncStorage"],[56,24,53,22],[56,25,53,22,"default"],[56,32,53,22],[56,33,53,23,"removeItem"],[56,43,53,33],[56,44,53,34],[56,59,53,49],[56,60,53,50],[57,6,54,4],[57,12,54,10,"AsyncStorage"],[57,24,54,22],[57,25,54,22,"default"],[57,32,54,22],[57,33,54,23,"removeItem"],[57,43,54,33],[57,44,54,34],[57,55,54,45],[57,56,54,46],[58,4,55,2],[59,4,57,2],[59,10,57,8,"getCurrentUser"],[59,24,57,22,"getCurrentUser"],[59,25,57,22],[59,27,57,47],[60,6,58,4],[60,10,58,8],[61,8,59,6],[61,14,59,12,"response"],[61,22,59,20],[61,25,59,23],[61,31,59,29,"api"],[61,34,59,32],[61,35,59,32,"default"],[61,42,59,32],[61,43,59,33,"get"],[61,46,59,36],[61,47,59,37],[61,57,59,47],[61,58,59,48],[62,8,60,6],[62,15,60,13,"response"],[62,23,60,21],[62,24,60,22,"data"],[62,28,60,26],[63,6,61,4],[63,7,61,5],[63,8,61,6],[63,15,61,13,"error"],[63,20,61,18],[63,22,61,20],[64,8,62,6],[64,15,62,13],[64,19,62,17],[65,6,63,4],[66,4,64,2],[67,4,66,2],[67,10,66,8,"getStoredUser"],[67,23,66,21,"getStoredUser"],[67,24,66,21],[67,26,66,46],[68,6,67,4],[68,12,67,10,"userData"],[68,20,67,18],[68,23,67,21],[68,29,67,27,"AsyncStorage"],[68,41,67,39],[68,42,67,39,"default"],[68,49,67,39],[68,50,67,40,"getItem"],[68,57,67,47],[68,58,67,48],[68,69,67,59],[68,70,67,60],[69,6,68,4],[69,13,68,11,"userData"],[69,21,68,19],[69,24,68,22,"JSON"],[69,28,68,26],[69,29,68,27,"parse"],[69,34,68,32],[69,35,68,33,"userData"],[69,43,68,41],[69,44,68,42],[69,47,68,45],[69,51,68,49],[70,4,69,2],[71,4,71,2],[71,10,71,8,"getToken"],[71,18,71,16,"getToken"],[71,19,71,16],[71,21,71,43],[72,6,72,4],[72,13,72,11],[72,19,72,17,"AsyncStorage"],[72,31,72,29],[72,32,72,29,"default"],[72,39,72,29],[72,40,72,30,"getItem"],[72,47,72,37],[72,48,72,38],[72,63,72,53],[72,64,72,54],[73,4,73,2],[74,2,74,0],[75,2,76,0],[75,6,76,0,"_default"],[75,14,76,0],[75,17,76,15],[75,21,76,19,"AuthService"],[75,32,76,30],[75,33,76,31],[75,34,76,32],[76,0,76,33],[76,3]],"functionMap":{"names":["<global>","AuthService","AuthService#login","AuthService#register","AuthService#logout","AuthService#getCurrentUser","AuthService#getStoredUser","AuthService#getToken"],"mappings":"AAA;ACyB;ECC;GDY;EEE;GFQ;EGE;GHI;EIE;GJO;EKE;GLG;EME;GNE;CDC"},"hasCjsExports":false},"type":"js/module"}]}